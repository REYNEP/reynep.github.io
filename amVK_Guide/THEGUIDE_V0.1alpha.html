<!DOCTYPE html><html><head>
      <title>P1</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="./katex/katex.min.css">
      
      
      <script type="text/javascript" src="./mermaid\mermaid.min.js" charset="UTF-8"></script>
      <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
      </script>
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
/* When you rewrite this file, before any kind of styling make sure if the PAGE Margin-top & margin bottom is okay ğŸ’â€â™€ï¸ */
@font-face {
  font-family: "Bahnschrift REY";
  src: local("Bahnschrift"), url("https://github.com/flying-whales/flying-whales/raw/20e98b4dd0388a3fafd09acb8b07e5bd3dc701b9/Assets/Fonts/bahnschrift.ttf") format(ttf);
}
@font-face {
  font-family: "AudioLink Mono Bold REY";
  src: local('AudioLink Mono Bold'), url("https://audiolink.dev/gallery/AudioLinkMono-Regular.ttf") format(ttf);
}
@font-face {
  font-family: "Emoji REY";
  src: url("https://github.com/KingDragoness/Shopkeepers/raw/952118221585de23b747560b89ee17061e34c0f4/Project%20Shopkeepers%20root/Assets/Resources/Fonts/seguiemj.ttf");
}
@font-face {
  font-family: "REY_FiraSansCondensedLightItalic";
  src: local('Fira Sans Condensed Light Italic'), url("https://github.com/bBoxType/FiraSans/raw/refs/heads/master/Fira_Sans_4_3/Fonts/Fira_Sans_TTF_4301/Condensed/Italic/FiraSansCondensed-LightItalic.ttf");
}
.markdown-preview {
  padding: 2em calc(40% - 457px + 2em) !important;
  /**
    h1 {
        page-break-before: always;
    }
    */
  font-size: 24px;
  line-height: 1.15;
  font-family: 'CMU Serif', 'Bahnschrift', 'Emoji REY', monospace;
  font-stretch: condensed;
  font-weight: 400;
  /** However, background-clip is not supported by princexml */
}
.markdown-preview h1,
.markdown-preview h2,
.markdown-preview h3,
.markdown-preview h4,
.markdown-preview h5,
.markdown-preview h6,
.markdown-preview strong {
  font-family: 'Quartist' !important;
}
.markdown-preview h6 {
  margin-top: 40px;
  margin-bottom: 40px;
}
.markdown-preview .REY_BR_LIST_LVL3 {
  margin: 0;
  margin-bottom: 0.5em;
}
.markdown-preview .REY_BR_LIST2 {
  margin: 0;
  margin-bottom: 0.75em;
}
.markdown-preview ul > li,
.markdown-preview ol > li {
  margin-bottom: 15px;
  font-style: italic;
  font-weight: bold;
}
.markdown-preview ul > li ol > li,
.markdown-preview ol > li ol > li,
.markdown-preview ul > li ul > li,
.markdown-preview ol > li ul > li {
  font-style: normal;
  font-weight: normal;
  margin-top: 0.25em;
  margin-bottom: 0px;
  font-family: 'REY_FiraSansCondensedLightItalic', 'Emoji REY', monospace;
  font-weight: 300;
  font-size: 90%;
  line-height: 1.15;
}
.markdown-preview ul > li ol > li ol > li ol > li,
.markdown-preview ol > li ol > li ol > li ol > li,
.markdown-preview ul > li ul > li ol > li ol > li,
.markdown-preview ol > li ul > li ol > li ol > li,
.markdown-preview ul > li ol > li ul > li ol > li,
.markdown-preview ol > li ol > li ul > li ol > li,
.markdown-preview ul > li ul > li ul > li ol > li,
.markdown-preview ol > li ul > li ul > li ol > li,
.markdown-preview ul > li ol > li ol > li ul > li,
.markdown-preview ol > li ol > li ol > li ul > li,
.markdown-preview ul > li ul > li ol > li ul > li,
.markdown-preview ol > li ul > li ol > li ul > li,
.markdown-preview ul > li ol > li ul > li ul > li,
.markdown-preview ol > li ol > li ul > li ul > li,
.markdown-preview ul > li ul > li ul > li ul > li,
.markdown-preview ol > li ul > li ul > li ul > li {
  line-height: 1.1;
}
.markdown-preview ul > li ol > li h5,
.markdown-preview ol > li ol > li h5,
.markdown-preview ul > li ul > li h5,
.markdown-preview ol > li ul > li h5 {
  margin-top: 0px;
}
.markdown-preview ul > li ol > li pre,
.markdown-preview ol > li ol > li pre,
.markdown-preview ul > li ul > li pre,
.markdown-preview ol > li ul > li pre {
  margin-bottom: 4px;
}
.markdown-preview .REY_SECTION_TYPE1 ul > li,
.markdown-preview .REY_SECTION_TYPE1 ol > li {
  margin-bottom: 0px;
  font-weight: 100;
}
.markdown-preview .REY_SECTION_TYPE1 ul > li strong,
.markdown-preview .REY_SECTION_TYPE1 ol > li strong {
  font-family: 'Quartist';
}
.markdown-preview .REY_SECTION_TYPE1 ul > li ol > li,
.markdown-preview .REY_SECTION_TYPE1 ol > li ol > li,
.markdown-preview .REY_SECTION_TYPE1 ul > li ul > li,
.markdown-preview .REY_SECTION_TYPE1 ol > li ul > li {
  margin-bottom: 0px;
  font-family: 'REY_FiraSansCondensedLightItalic', 'Emoji REY', monospace;
}
.markdown-preview .REY_SECTION_TYPE2 {
  line-height: 28px;
}
.markdown-preview .REY_SECTION_TYPE2 ul > li,
.markdown-preview .REY_SECTION_TYPE2 ol > li {
  margin-bottom: -8px;
  font-weight: 100;
}
.markdown-preview .REY_SECTION_TYPE2 ul > li strong,
.markdown-preview .REY_SECTION_TYPE2 ol > li strong {
  font-family: 'Quartist';
}
.markdown-preview .REY_SECTION_TYPE2 ul > li ol > li,
.markdown-preview .REY_SECTION_TYPE2 ol > li ol > li,
.markdown-preview .REY_SECTION_TYPE2 ul > li ul > li,
.markdown-preview .REY_SECTION_TYPE2 ol > li ul > li {
  margin-bottom: 0px;
  font-family: 'REY_FiraSansCondensedLightItalic', 'Emoji REY', monospace;
}
.markdown-preview .REY_SECTION_TYPE2 ul,
.markdown-preview .REY_SECTION_TYPE2 li {
  margin-bottom: 32px;
}
.markdown-preview a {
  font-style: italic;
}
.markdown-preview h1,
.markdown-preview h2,
.markdown-preview h3 {
  text-align: center;
}
.markdown-preview h2 {
  margin-bottom: 0.2em;
  padding-bottom: 0.2em;
}
.markdown-preview h4 {
  margin-top: 1em;
  margin-bottom: 0.15em;
}
.markdown-preview h5 {
  margin-top: 0.5em;
  margin-bottom: 0;
  padding-bottom: 0;
}
.markdown-preview blockquote {
  padding-top: 1em;
  padding-bottom: 1em;
  font-size: 90%;
}
.markdown-preview code {
  font-family: 'AudioLink Mono Bold REY', 'Lotion', 'Emoji REY', monospace;
  font-size: 90%;
  font-style: normal;
}
.markdown-preview pre {
  line-height: 20px;
  margin-bottom: 5px;
}
.markdown-preview pre > code {
  font-size: 16px;
}
.markdown-preview .REY_SMALLER_CODE {
  font-size: 0.7em;
}
.markdown-preview .REY_SMALLER_CODE > pre > code {
  font-size: 0.95em;
  line-height: 100%;
}
.markdown-preview pre {
  page-break-inside: auto;
  /* REYNEP MOD */
}
.markdown-preview img {
  -prince-image-resolution: 150dpi;
  /* set an explicit DPI */
}
.markdown-preview img.makeSmall_NoFlex {
  -prince-image-resolution: 160dpi;
  /* set an explicit DPI */
}
.markdown-preview img.makeSmall {
  -prince-image-resolution: 160dpi;
  /* set an explicit DPI */
  float: left;
  margin-right: 15px;
}
.markdown-preview img.makeSmaller {
  -prince-image-resolution: 180dpi;
  /* set an explicit DPI */
  float: left;
  margin-right: 20px;
}
.markdown-preview img.makeSmallest {
  -prince-image-resolution: 200dpi;
  /* set an explicit DPI */
  float: left;
  margin-right: 20px;
}
.markdown-preview .REY_DocTitle {
  text-align: center;
  font-size: 30px;
  background: linear-gradient(145deg, #ff7f00, #8e44ad);
  /* Orange to Purple Gradient */
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  letter-spacing: 2px;
  margin: 0;
  font-weight: bold;
}
.markdown-preview .REY_IMG_CONTAINER {
  font-size: 85%;
  line-height: 125%;
}
.markdown-preview .REY_TITLE_SUB1 {
  margin-top: -1.25em;
  font-size: 110%;
  line-height: 100%;
  font-family: 'Neuton ExtraLight';
  font-style: italic;
}
.markdown-preview .REY_TITLE_SUB2 {
  margin-top: 0em;
  font-size: 110%;
  line-height: 100%;
  font-family: 'Neuton ExtraLight';
  font-style: italic;
}
.markdown-preview .REY_PAGEBREAK {
  margin-bottom: 300px;
  page-break-before: always;
}
.markdown-preview .REY_TITLE {
  margin-top: -36px;
}
.markdown-preview .REY_TITLEV2 {
  margin-top: -36px;
}
.markdown-preview .REY_TITLEV2 h1,
.markdown-preview .REY_TITLEV2 h2 {
  margin-bottom: -20px;
}
.markdown-preview .REY_PAGE_START {
  margin-top: -60px;
}
.markdown-preview .REY_NOSHOW_MD {
  display: none;
}
.markdown-preview .REY_NOSHOW_PDF {
  display: block;
}
.markdown-preview .REY_BR1_NEGATIVE {
  margin-top: -70px;
}
.markdown-preview .REY_BR2_NEGATIVE {
  margin-top: -50px;
}
.markdown-preview .REY_BR3_NEGATIVE {
  margin-top: -40px;
}
.markdown-preview .REY_BR3_NEGATIVE_WEIRD {
  margin-top: -40px;
}
.markdown-preview .REY_BR4_NEGATIVE {
  margin-top: -30px;
}
.markdown-preview .REY_BR4_NEGATIVE_WEIRD {
  margin-top: -30px;
}
.markdown-preview .REY_BR5_NEGATIVE {
  margin-top: -10px;
}
.markdown-preview .REY_BR1_POSITIVE_PDF {
  margin-top: 0;
}
.markdown-preview.prince {
  color: black !important;
  font-size: 15px;
  font-weight: 100;
}
.markdown-preview.prince .REY_PAGEBREAK {
  margin-bottom: 0px;
  margin-top: -28px;
}
.markdown-preview.prince .REY_TITLEV2 {
  margin-top: -67.5px;
}
.markdown-preview.prince .REY_TITLEV2 h1,
.markdown-preview.prince .REY_TITLEV2 h2 {
  margin-bottom: -18px;
}
.markdown-preview.prince .REY_TITLE_SUB2 {
  margin-top: -10px;
}
.markdown-preview.prince .REY_BR1_POSITIVE_PDF {
  margin-top: 50px;
}
.markdown-preview.prince .REY_BR1_NEGATIVE {
  margin-top: -40px;
}
.markdown-preview.prince .REY_BR2_NEGATIVE {
  margin-top: -30px;
}
.markdown-preview.prince .REY_BR3_NEGATIVE {
  margin-top: -20px;
}
.markdown-preview.prince .REY_BR3_NEGATIVE_WEIRD {
  margin-top: -50px;
}
.markdown-preview.prince .REY_BR4_NEGATIVE {
  margin-top: -15px;
}
.markdown-preview.prince .REY_BR4_NEGATIVE_WEIRD {
  margin-top: -42.5px;
}
.markdown-preview.prince .REY_BR5_NEGATIVE {
  margin-top: -10px;
}
.markdown-preview.prince .REY_PAGE_STARTS_WITH_H2 {
  margin-top: -50px;
}
.markdown-preview.prince .REY_PAGE_STARTS_WITH_H1 {
  margin-top: -65px;
}
.markdown-preview.prince .REY_NOSHOW_MD {
  display: block !important;
}
.markdown-preview.prince .REY_NOSHOW_PDF {
  display: none  !important;
}
.markdown-preview.prince h1,
.markdown-preview.prince h2 {
  text-align: center;
}
.markdown-preview.prince h3 {
  margin-top: -2.5px;
}
.markdown-preview.prince h6 {
  margin-top: 16px;
  margin-bottom: 16px;
}
.markdown-preview.prince .REY_BLOCK_GAP {
  margin-top: 50px;
}
.markdown-preview.prince .REY_PDF_MORE_HEIGHT {
  margin-top: -70pt;
}
.markdown-preview.prince .REY_PDF_MORE_HEIGHT2 {
  margin-top: -30pt;
}
.markdown-preview.prince .REY_HR > hr {
  display: none !important;
}
.markdown-preview.prince .REY_HR {
  margin-top: 50px;
}
.markdown-preview.prince .REY_SMALLER_CODE > pre > code {
  font-size: 1em;
  line-height: 100%;
}
.markdown-preview.prince a {
  font-style: italic;
  text-decoration: none;
  color: #08c;
}
.markdown-preview.prince a:hover {
  text-decoration: underline;
  color: #00a3f5;
}
.markdown-preview.prince ul > li,
.markdown-preview.prince ol > li {
  margin-bottom: 5px;
}
.markdown-preview.prince .REY_SECTION_TYPE1 ul > li,
.markdown-preview.prince .REY_SECTION_TYPE1 ol > li {
  margin-bottom: -3px;
}
.markdown-preview.prince .REY_SECTION_TYPE2 {
  line-height: 18px;
}
.markdown-preview.prince .REY_SECTION_TYPE2 ul > li,
.markdown-preview.prince .REY_SECTION_TYPE2 ol > li {
  margin-bottom: -5px;
}
.markdown-preview.prince .REY_SECTION_TYPE2 ul,
.markdown-preview.prince .REY_SECTION_TYPE2 li {
  margin-bottom: 10px;
}
.markdown-preview.prince ul > li ol > li,
.markdown-preview.prince ol > li ol > li,
.markdown-preview.prince ul > li ul > li,
.markdown-preview.prince ol > li ul > li {
  margin-bottom: 0px;
  font-family: 'Fira Sans Condensed Light Italic', 'Emoji REY', monospace;
  font-size: 92.5%;
}
.markdown-preview.prince pre {
  max-width: 100%;
  /* Prevent overflow */
}
.markdown-preview.prince img {
  max-width: 104%;
  width: - 104%;
  margin-left: -2%;
  display: flex;
}
.markdown-preview.prince pre {
  line-height: 110%;
  margin-bottom: 0px;
}
.markdown-preview.prince pre > code {
  font-size: 11px;
  white-space: pre-wrap;
  /* Enable word wrap */
  word-wrap: break-word;
  /* Break words that exceed the width */
  word-break: normal;
  overflow-wrap: break-word;
  /* Prevent overflow */
}
/**
MarkDown File Top part:-
---
id: "amVK_Docs"
class: "DocumentClass1"
---
*/
.REY_Class1 {
  font-size: 22px;
  font-family: 'Neuton';
  font-weight: 200;
  line-height: 28px;
}
.REY_Class1 em {
  font-weight: 400;
}
.REY_Class1 ul > li,
.REY_Class1 ol > li {
  margin-bottom: 0px;
  font-style: italic;
  font-weight: normal;
}
.REY_Class1 h1,
.REY_Class1 h2 {
  margin-bottom: 0px;
}
.REY_Class1 h1 {
  margin-top: 20px;
}
.REY_Class1 h2 {
  margin-top: 20px;
}
.REY_Class1.prince {
  font-size: 15px !important;
  font-family: 'Neuton', 'CMU Serif', 'Quivira', 'Bahnschrift Light Condensed' !important;
  font-weight: 200 !important;
  line-height: 17px;
}
.REY_Class2.prince {
  font-size: 15px !important;
  font-family: 'Neuton', 'CMU Serif', 'Quivira', 'Bahnschrift Light Condensed' !important;
  font-weight: 200 !important;
  line-height: 17px;
}
.REY_Class3.prince {
  font-size: 15px !important;
  font-family: 'Quartist', 'Neuton', 'CMU Serif', 'Quivira', 'Bahnschrift Light Condensed' !important;
  font-weight: 100 !important;
  line-height: 17px;
  color: black !important;
}
.REY_Class3.prince strong {
  font-family: 'Neuton Bold' !important;
}
.REY_Class4.prince {
  font-size: 14px !important;
  font-family: 'CMU Serif', 'Quivira', 'Bahnschrift Light Condensed' !important;
  font-weight: 100 !important;
  line-height: 16px;
  color: black !important;
}
.REY_Class4.prince strong {
  font-size: 13px !important;
  font-family: 'AudioLink Mono' !important;
  font-weight: 700 !important;
  background-color: #f0f0f0;
  border-radius: 3px;
  padding: 0.075em 0.3em;
}
/**
@page { 
    size: A4;

    margin-top: 1cm;
    margin-bottom: 1cm;
    margin-outside: 1.5cm;
    margin-inside: 1.5cm;

    prince-image-resolution: 300dpi;

    @bottom-center {
        content: counter(page);
        margin: 0;
        margin-top: -1.3cm;
        padding: 0;
    }
}
*/
@page {
  size: A4;
  margin-top: 0.5cm;
  margin-bottom: 0cm;
  margin-outside: 1cm;
  margin-inside: 1cm;
  prince-image-resolution: 300dpi;
  @bottom-center {
    content: counter(page);
    margin: 0;
    margin-top: -1.3cm;
    padding: 0;
  }
}
/**
    https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css?id=local-style
*/
/** I think this part means like.... Specific to only when CREATING THE PDF. But not like specific to PRINCE-XML */
@media print {
  color: black !important;
}
/** I think this part means like.... Specific to only when CREATING THE PDF. But yes like specific to PRINCE-XML */
.prince {
  color: black !important;
}

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<p></p><div align="center">
<p><img src="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjYwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPg0KICA8ZGVmcz4NCiAgICA8bGluZWFyR3JhZGllbnQgaWQ9Im9yYW5nZVB1cnBsZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIxMDAlIiB5Mj0iMTAwJSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjojZmY3ZjAwO3N0b3Atb3BhY2l0eToxIiAvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojOGU0NGFkO3N0b3Atb3BhY2l0eToxIiAvPg0KICAgIDwvbGluZWFyR3JhZGllbnQ+DQogICAgPGxpbmVhckdyYWRpZW50IGlkPSJncmV5V2hpdGUiIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6I2FhYWFhYTtzdG9wLW9wYWNpdHk6MSIgLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6IzQ0NDQ0NDtzdG9wLW9wYWNpdHk6MSIgLz4NCiAgICA8L2xpbmVhckdyYWRpZW50Pg0KICA8L2RlZnM+DQoNCiAgPHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIzNiIgZmlsbD0idXJsKCNvcmFuZ2VQdXJwbGUpIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+DQogICAgUkVZTkVQJ3MgVnVsa2FuICJBZHZlbnR1cmUgR3VpZGUiDQogIDwvdGV4dD4NCiAgPHRleHQgeD0iNTAlIiB5PSI4MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZmlsbD0idXJsKCNncmV5V2hpdGUpIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+DQogICAgV2hlcmUsIHlvdSBhZHZlbnR1cmUgb24geW91ciBvd24g8J+YiSwgSSBvbmx5ICdndWlkZScsIHNob3dpbmcgeW91IHRoZSByb2FkbWFwDQogIDwvdGV4dD4NCjwvc3ZnPg==" alt="svg1"></p>
<h2 id="chapter-0-prerequisites-">Chapter 0: Prerequisites ğŸ“¹ </h2>
</div>
<h4 id="-suggested-reading-before-embarking-on-this-journey">ğŸ“– Suggested Reading (before embarking on this journey) </h4>
<ol>
<li>
<p>Brendan Galea's Vulkan C++ [Youtube Series]</p>
<ul>
<li>ğŸ”— <a href="https://www.youtube.com/watch?v=Y9U9IE0gVHA&amp;list=PL8327DO66nu9qYVKLDmdLW_84-yE4auCR">https://www.youtube.com/watch?v=Y9U9IE0gVHA&amp;list=PL8327DO66nu9qYVKLDmdLW_84-yE4auCR</a></li>
<li>For now, just watch the first <code>3:40minute</code> video ğŸ’â€â™€ï¸
<ul>
<li>I don't recommend going down the playlist, right now, tho.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Alternatively:- <a href="https://paminerva.github.io/docs/LearnVulkan/01.A-Hello-Window">https://paminerva.github.io/docs/LearnVulkan/01.A-Hello-Window</a></p>
<ul>
<li>Read the <code>1 - Introduction</code> part from here only ğŸ˜Š [untill <code>1.2. Why Vulkan?</code> end]</li>
<li>ğŸ˜‰ <a href="./P.A.Minerva_LearnVulkan_PDF/00-Introduction-and-prerequisites.pdf">00-Introduction-and-prerequisites.pdf</a></li>
<li>ğŸ˜œ <a href="./P.A.Minerva_LearnVulkan_PDF/01.A-Hello-Window.pdf">01.A-Hello-Window.pdf</a></li>
</ul>
</li>
<li>
<p>Alternatively:- you can give this page a try too:-</p>
<ul>
<li><a href="https://vkdoc.net/chapters/fundamentals">https://vkdoc.net/chapters/fundamentals</a></li>
<li>that is, if you are into <em>"official formal-documentation"</em> [i sure am not....]<br>
<br></li>
</ul>
</li>
</ol>
<h4 id="ï¸-the-5-questions">ğŸ™‹ğŸ»â€â™€ï¸ The 5 Questions </h4>
<ul>
<li>
<p>1ï¸âƒ£ What is <code>Vulkan</code>? ....ğŸ¤”.... Why <code>Vulkan</code>?</p>
<ul>
<li>ğŸ”— <em>Suggested Reading 2</em>:- <code>p.a.minerva</code></li>
</ul>
</li>
<li>
<p>2ï¸âƒ£ Why should <strong><em>'you'</em></strong> learn/use <code>Vulkan</code>?</p>
<ol>
<li><em><strong>5-10% Faster</strong></em></li>
<li><em><strong>More Control</strong></em></li>
<li><em><strong>Lower Level API</strong></em></li>
<li>You can ask and know <em><strong>'what actuaaallyyy happens under the hood of the gpu?'</strong></em></li>
</ol>
</li>
<li>
<p>3ï¸âƒ£ Why is this Important?</p>
<ul>
<li><em>Well if you are planning on becoming a game dev, then yeah, this kinda is important!</em></li>
<li><em><strong>otherwise</strong></em>, if you are just here for <strong>CreatingShaders</strong>:- <code>OpenGL</code> is fine enough
<ol>
<li><code>Shader Enthusiast:- </code><a href="https://www.shadertoy.com/">https://www.shadertoy.com/</a>
<ol>
<li><a href="https://www.youtube.com/playlist?list=PL9Zb80ovNLWGRFZVL4LcckTWnEGN73dFS">https://www.youtube.com/playlist?list=PL9Zb80ovNLWGRFZVL4LcckTWnEGN73dFS</a></li>
<li><a href="https://www.youtube.com/playlist?list=PLGmrMu-IwbguU_nY2egTFmlg691DN7uE5">https://www.youtube.com/playlist?list=PLGmrMu-IwbguU_nY2egTFmlg691DN7uE5</a></li>
<li><a href="https://www.youtube.com/playlist?list=PLCAFZV4XJzP-jGbTke6Bd3PNDpP1AbIKo">https://www.youtube.com/playlist?list=PLCAFZV4XJzP-jGbTke6Bd3PNDpP1AbIKo</a></li>
<li><a href="https://www.youtube.com/playlist?list=PLGmrMu-IwbgtMxMiV3x4IrHPlPmg7FD-P">https://www.youtube.com/playlist?list=PLGmrMu-IwbgtMxMiV3x4IrHPlPmg7FD-P</a></li>
<li><a href="https://www.youtube.com/watch?v=5J-0sy2pu_8&amp;t=357s&amp;pp=ygUVc2hhZGVyVG95IHJheW1hcmNoaW5n">https://www.youtube.com/watch?v=5J-0sy2pu_8&amp;t=357s&amp;pp=ygUVc2hhZGVyVG95IHJheW1hcmNoaW5n</a></li>
<li><a href="https://www.youtube.com/watch?v=khblXafu7iA&amp;pp=ygUJc2hhZGVyVG95">https://www.youtube.com/watch?v=khblXafu7iA&amp;pp=ygUJc2hhZGVyVG95</a></li>
</ol>
</li>
<li><code>Making an App/UI :-</code> doing everything with <code>OpenGL</code> -&gt; would be just fine
<ol>
<li><a href="https://www.youtube.com/playlist?list=PLlrATfBNZ98foTJPJ_Ev03o2oq3-GGOS2">TheCherno OpenGL Playlist [YT]</a></li>
<li><a href="https://www.youtube.com/playlist?list=PLlrATfBNZ98dC-V-N3m0Go4deliWHPFwT">TheCherno Game Engine Playlist [YT]</a><br>
<br></li>
</ol>
</li>
</ol>
</li>
</ul>
</li>
<li>
<p>4ï¸âƒ£ When will <strong><em>'you'</em></strong> need <code>vulkan</code>?</p>
<ul>
<li>kinda never  -&gt;  unless you have grown tired of OpenGL</li>
<li>kinda   yes  -&gt;  when you wanna understand "How the heck does the GPU Work?"
<ul>
<li>but yes, Big AAA games would need <code>vulkan</code> for even that last 5-10% performance</li>
</ul>
</li>
</ul>
</li>
<li>
<p>5ï¸âƒ£ How does <code>vulkan</code> work?</p>
<ul>
<li>Rest of this entire guide is dedicated to answer this question ğŸ˜Š</li>
</ul>
</li>
</ul>
<div class="REY_NOSHOW_PDF">
<hr>
<div align="center" style="font-size: 50px; font-family: 'Iosevka Curly'; ">Page-Break</div>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<h4 id="1--grab-vulkan-sdk-cmake-amghost">1. ğŸ«³ grab <code>vulkan-sdk</code>, <code>cmake</code>, <code>amGHOST</code> </h4>
<ol>
<li>
<p>if you don't have <code>vscode</code> &amp; <code>C++ Compiler</code></p>
<ul>
<li>â¡ï¸ğŸ”— <a href="./4.guide.CH0.vscode.md">4.guide.CH0.vscode.md</a><br>
<br></li>
</ul>
</li>
<li>
<p>ğŸ“¥ <a href="https://vulkan.lunarg.com/sdk/home">https://vulkan.lunarg.com/sdk/home</a></p>
<ul>
<li>make sure <code>VULKAN_SDK</code> &amp; <code>VK_SDK_PATH</code> environment variables are set</li>
<li>restart vscode after installing<br>
<br></li>
</ul>
</li>
<li>
<p>ğŸ“¥ <a href="https://cmake.org/download/">https://cmake.org/download/</a></p>
<ul>
<li>
<p>ğŸ“ <code>Intro/Tutorials</code></p>
<ul>
<li><a href="https://enccs.github.io/intro-cmake/hello-cmake/">https://enccs.github.io/intro-cmake/hello-cmake/</a></li>
<li><code>OR</code>: Watch 6/7 videos from this playlist:-
<ul>
<li><a href="https://www.youtube.com/playlist?list=PLK6MXr8gasrGmIiSuVQXpfFuE1uPT615s">https://www.youtube.com/playlist?list=PLK6MXr8gasrGmIiSuVQXpfFuE1uPT615s</a><br>
<br></li>
</ul>
</li>
</ul>
</li>
<li>
<p>restart vscode after installing</p>
</li>
<li>
<h5><code>ğŸ“œ REY_DOCs</code></h5>
<ul>
<li>This is how it usually looks. Read through it ğŸ’â€â™€ï¸.</li>
<li>The app that we will make using <code>amGHOST</code>, will need to have these commands</li>
</ul>
<pre data-role="codeBlock" data-info="cmake" class="language-cmake cmake"><code><span class="token keyword keyword-cmake_minimum_required">cmake_minimum_required</span><span class="token punctuation">(</span><span class="token property">VERSION</span> <span class="token number">3.25</span> FATAL_ERROR<span class="token punctuation">)</span>

<span class="token keyword keyword-project">project</span><span class="token punctuation">(</span><span class="token string">"idk_PROJECT"</span> <span class="token property">VERSION</span> <span class="token number">0.1</span><span class="token punctuation">)</span>

    <span class="token keyword keyword-set">set</span><span class="token punctuation">(</span><span class="token variable">CMAKE_CXX_STANDARD</span> <span class="token number">23</span><span class="token punctuation">)</span>
    <span class="token keyword keyword-set">set</span><span class="token punctuation">(</span><span class="token variable">CMAKE_CXX_STANDARD_REQUIRED</span> <span class="token boolean">ON</span><span class="token punctuation">)</span>

<span class="token comment"># --------------------</span>
    <span class="token keyword keyword-set">set</span><span class="token punctuation">(</span>SRC
        <span class="token string">"main.cpp"</span>
    <span class="token punctuation">)</span>

    <span class="token keyword keyword-set">set</span><span class="token punctuation">(</span>INC
        <span class="token punctuation">${</span><span class="token variable">CMAKE_CURRENT_SOURCE_DIR</span><span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
<span class="token comment"># --------------------</span>

<span class="token comment"># --------------------</span>
<span class="token comment"># set_source_files_properties(main.cpp PROPERTIES COMPILE_FLAGS "/P /C")     </span>
<span class="token comment"># Output Preprocessed File</span>
            <span class="token keyword keyword-add_executable">add_executable</span> <span class="token punctuation">(</span>idk <span class="token punctuation">${</span>SRC<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword keyword-target_include_directories">target_include_directories</span> <span class="token punctuation">(</span>idk <span class="token namespace">PUBLIC</span> <span class="token punctuation">${</span>INC<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment"># ------amGHOST-------</span>
         <span class="token keyword keyword-add_subdirectory">add_subdirectory</span>  <span class="token punctuation">(</span>amGHOST<span class="token punctuation">)</span>
    <span class="token keyword keyword-target_link_libraries">target_link_libraries</span>  <span class="token punctuation">(</span>idk <span class="token namespace">PUBLIC</span> amGHOST<span class="token punctuation">)</span>

<span class="token comment"># ------install-------</span>
    <span class="token keyword keyword-install">install</span><span class="token punctuation">(</span>TARGETS idk
        DESTINATION <span class="token punctuation">${</span><span class="token variable">CMAKE_CURRENT_SOURCE_DIR</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>  <br>
</li>
</ul>
</li>
<li>
<p><code>amGHOST</code></p>
<ul>
<li><em>amateur's Generic Handy Operating System Toolkit</em>
<ul>
<li>[secretly inspired by <code>blender's GHOST</code> xP ğŸ˜œ]</li>
</ul>
</li>
<li><code>git clone -b win32-intro https://github.com/REYNEP/amGHOST</code></li>
<li>Open it with VSCode</li>
<li><code>F1</code> --&gt; <code>CMake: Configure</code></li>
<li><code>F1</code> --&gt; <code>CMake: Build</code></li>
<li><code>F1</code> --&gt; <code>CMake: Install</code> --&gt; <code>.insall</code> dir</li>
<li>check's <em><strong>amGHOST's Usage Example</strong></em> inside <code>amGHOST/README.md</code>
<ul>
<li><code>Option 1</code>:- use <code>cmake</code> for your project too.... using <code>add_subdirectory(amGHOST)</code></li>
<li><code>Option 2</code>:- use <code>libamGHOST.lib</code> after installing &amp; <code>#include amGHOST/&lt;header&gt;</code></li>
</ul>
</li>
<li>just copy paste <em><strong>amGHOST's Usage Example</strong></em> into a <code>main.cpp</code> for your program<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"amGHOST/amGHOST_System.hh"</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> argumentCount<span class="token punctuation">,</span> <span class="token keyword keyword-char">char</span><span class="token operator">*</span> argumentVector<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    amGHOST_System<span class="token double-colon punctuation">::</span><span class="token function">create_system</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// initializes amG_HEART</span>
    
    amGHOST_Window<span class="token operator">*</span> W <span class="token operator">=</span> amG_HEART<span class="token operator">-&gt;</span><span class="token function">new_window_interface</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    W<span class="token operator">-&gt;</span><span class="token function">create</span><span class="token punctuation">(</span>L<span class="token string">"Whatever"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    REY<span class="token double-colon punctuation">::</span>cin<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// wait for terminal input</span>
    W<span class="token operator">-&gt;</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><ul>
<li>[shorter than <code>readme ex. 1</code>]</li>
<li>now you shall have a OS-Window ğŸ˜Š<br>
<br><br>
<br></li>
</ul>
</li>
</ul>
</li>
<li>
<p>Viewing these readmes in a Nice Way</p>
<ul>
<li><a href="https://github.com/REYNEP/amGHOST/blob/main/amVK_Guide/P1/bkup/style-bkup.less">https://github.com/REYNEP/amGHOST/blob/main/amVK_Guide/P1/bkup/style-bkup.less</a></li>
<li><code>vscode extension</code>:- shd101wyy.markdown-preview-enhanced</li>
<li><code>scoop install princexml</code></li>
<li><code>vscode F1</code>:- Markdown Preview Enhanced:- Customize CSS (Global)</li>
<li>Paste my <code>style-bkup.less</code></li>
<li><code>vscode F1</code>:- Markdown Preview Enhanced:- Open Preview ğŸ’â€â™€ï¸</li>
</ul>
</li>
</ol>
<br>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<br>
<div class="REY_TITLE     REY_PAGE_STARTS_WITH_H1" align="center">
<img src="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCiAgPGRlZnM+DQogICAgPGxpbmVhckdyYWRpZW50IGlkPSJvcmFuZ2VQdXJwbGUiIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6I2ZmN2YwMDtzdG9wLW9wYWNpdHk6MSIgLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6IzhlNDRhZDtzdG9wLW9wYWNpdHk6MSIgLz4NCiAgICA8L2xpbmVhckdyYWRpZW50Pg0KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iZ3JleVdoaXRlIiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiNhYWFhYWE7c3RvcC1vcGFjaXR5OjEiIC8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiM0NDQ0NDQ7c3RvcC1vcGFjaXR5OjEiIC8+DQogICAgPC9saW5lYXJHcmFkaWVudD4NCiAgPC9kZWZzPg0KDQogIDx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMzIiIGZpbGw9InVybCgjb3JhbmdlUHVycGxlKSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPg0KICAgIFRoZSBSZWFsICJBZHZlbnR1cmUiIGJlZ2lucyBoZXJlIQ0KICA8L3RleHQ+DQogIDx0ZXh0IHg9IjUwJSIgeT0iNzUlIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZpbGw9InVybCgjZ3JleVdoaXRlKSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPg0KICAgIFsgd2VsbCwgbm90IHJlYWxseS4gSSBiZWxpZXZlIHRoZSByZWFsIGFkdmVudHVyZSBpcyBpbiBTSEFERVJzIGFuZCBBbGdvcml0aG1zISBdDQogIDwvdGV4dD4NCjwvc3ZnPg==" width="800px">
<div class="REY_BR1_NEGATIVE"></div>
<h1 id="chapter-1-vkinstance">Chapter 1: <code>VkInstance</code> </h1>
<div class="REY_BR5_NEGATIVE"></div>
<img src="./images/CH1.Khronos-Press-Update-SIGGRAPH-Jul19-2019-page36-1.png" width="85%">
</div>
<div class="REY_BR4_NEGATIVE_WEIRD"></div>
<h3 id="0-amvk-wrap-">0. <code>amVK</code> wrap ğŸŒ¯ </h3>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"amVK_Instance.hh"</span></span>
        <span class="token comment">// TwT</span>
    amVK_Instance<span class="token double-colon punctuation">::</span>AppInfo              <span class="token comment">// VkApplicationInfo        [public]</span>
    amVK_Instance<span class="token double-colon punctuation">::</span>CI                   <span class="token comment">// VkInstanceCreateInfo     [public]</span>
        <span class="token comment">// You can modify these as you wish ğŸ˜Š</span>
    amVK_Instance<span class="token double-colon punctuation">::</span><span class="token function">CreateInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// initializes amVK_HEART</span>
</code></pre><br>
<div class="REY_BR5_NEGATIVE"></div>
<h3 id="1-notes-on-notes">1. Notes on <code>Notes</code> </h3>
<div class="REY_BR5_NEGATIVE"></div>
<p><img src="./images/CH1.image2.png" alt="img2"></p>
<div class="REY_NOSHOW_MD">
        <div class="REY_PAGEBREAK"></div>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
        <div align="center"><img src="./images/CH1.image5.png" width="70%"></div>
        <div class="REY_PAGEBREAK"></div>
    <br>
    <br>
    <br>
    <br>
</div>
<ul>
<li>
<p><a href="https://vkdoc.net/man/VkApplicationInfo">https://vkdoc.net/man/VkApplicationInfo</a></p>
<ul>
<li>
<p><code>.sType</code>:-</p>
<ul>
<li>ğŸŸª almost every <code>VkStruct</code> is gonna have this field/member ğŸ’â€â™€ï¸</li>
<li>must be
<ul>
<li><code>VK_STRUCTURE_TYPE_APPLICATION_INFO</code> for <code>VkApplicationInfo</code></li>
<li><code>VK_STRUCTURE_TYPE_INSTANCE_CREATE_INFO</code> for <code>VkInstanceCreateInfo</code></li>
<li><code>VK_STRUCTURE_TYPE_DEVICE_CREATE_INFO</code> for <code>VkDeviceCreateInfo</code></li>
<li>and so on... (you get the idea)<br>
<br></li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>.pNext</code>:-</p>
<ul>
<li>ğŸŸª almost every <code>VkStruct</code> is gonna have this field/member ğŸ’â€â™€ï¸</li>
<li>Mostly <code>NULL</code> ğŸ’â€â™€ï¸</li>
<li>but it has an interesting use case:-
<ul>
<li><a href="https://vkdoc.net/man/VkDeviceCreateInfo#VUID-VkDeviceCreateInfo-pNext-pNext">https://vkdoc.net/man/VkDeviceCreateInfo#VUID-VkDeviceCreateInfo-pNext-pNext</a></li>
<li>you can kinda like pass in pointer to <code>VkStructEXT</code> when you need those Extension features ğŸ’â€â™€ï¸<br>
<br></li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>.pApplicationName</code> --&gt; null-terminated UTF-8 string</p>
</li>
<li>
<p><code>.applicationVersion</code> --&gt; <code>uint32</code></p>
<ul>
<li>you as the developer of your application can set it to arbitrarily anything you want it to ğŸ’â€â™€ï¸, say
<ul>
<li>101</li>
<li>005</li>
<li>1</li>
<li>2025</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>.pEngineName</code> --&gt; null-terminated UTF-8 string</p>
</li>
<li>
<p><code>.engineVersion</code> --&gt; <code>uint32</code></p>
</li>
<li>
<p><code>.apiVersion</code> --&gt; <code>uint32</code><br>
<br></p>
</li>
</ul>
</li>
<li>
<h6>again.... yeah, do remember to check the <code>Valid Usage</code> section ğŸ˜‰</h6>
</li>
</ul>
<br>
<ul>
<li>
<p>There's a alternative to <a href="http://vkdoc.net">vkdoc.net</a></p>
<ul>
<li><a href="https://github.com/ivirtex/vulkan-hover-docs/tree/master/vscode_ext/vulkan_man_md_pages/VkInstanceCreateFlagBits.md">https://github.com/ivirtex/vulkan-hover-docs/tree/master/vscode_ext/vulkan_man_md_pages/VkInstanceCreateFlagBits.md</a></li>
<li>it is also available as an extension in <code>vscode</code> --&gt; <code>ivirtex.vulkan-hover-docs</code><br>
<br></li>
</ul>
</li>
<li>
<p>Symbols</p>
<ul>
<li>ğŸŸª:- kinda means nothing
<ul>
<li>i kinda used to like make it look like a bit pattern-ish iguess ğŸ¥´ğŸ«¢</li>
</ul>
</li>
<li>ğŸŸ¨:- "Yellow Card"
<ul>
<li>it means, you don't need to hesitate about this thingy right now ğŸ’â€â™€ï¸ we will focus on this element later ğŸ¤­</li>
</ul>
</li>
<li>ğŸŸ§:- "Orange Card"
<ul>
<li>it means, this element is probably never gonna be 'necessary' for vulkan applications ğŸ’â€â™€ï¸<br>
<br></li>
</ul>
</li>
<li>[The extended list can be found in ğŸ”— <strong><em>Chapter3.14</em></strong>]</li>
</ul>
</li>
</ul>
<div class="REY_NOSHOW_PDF">
<hr>
<div align="center" style="font-size: 50px; font-family: 'Iosevka Curly'; ">Page-Break</div>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<br>
<br>
<h2 id="2-ï¸-vkapplicationinfo">2. ğŸ› ï¸ <code>VkApplicationInfo</code> </h2>
<ul>
<li>
<p><a href="https://vkdoc.net/man/VkApplicationInfo">https://vkdoc.net/man/VkApplicationInfo</a></p>
<ul>
<li><code>.sType</code> ğŸŸª <code>VK_STRUCTURE_TYPE_APPLICATION_INFO</code></li>
<li><code>.pNext</code> ğŸŸª <code>NULL</code></li>
<li><code>.pApplicationName</code> --&gt; null-terminated UTF-8 string</li>
<li><code>.applicationVersion</code> ğŸ·ï¸ <code>uint32</code></li>
<li><code>.pEngineName</code> --&gt; null-terminated UTF-8 string</li>
<li><code>.engineVersion</code> ğŸ·ï¸ <code>uint32</code></li>
<li><code>.apiVersion</code> ğŸ·ï¸ <code>uint32</code></li>
</ul>
</li>
<li>
<h5>ğŸ“œ REY_DOCs</h5>
<ul>
<li><code>.apiVersion</code>
<ul>
<li><code>lowest Vulkan API version</code> Your APP <strong><em>"can run"</em></strong> on.
<ul>
<li>[*clarification needed:- lowest or highest]</li>
</ul>
</li>
</ul>
</li>
<li><code>.engineVersion</code>
<ul>
<li>and the <code>version</code> of the <code>engine</code> (if any) used to create <strong><em>"Your APP".</em></strong></li>
<li>This can help <code>vulkan driver implementations</code> to perform <strong><em>"ad-hoc"</em></strong> optimizations.
<ul>
<li>e.g. like if a Triple-A [AAA] game used, for say, <code>Unreal Engine Version 4.1.smth</code> idk ğŸ¤·â€â™€ï¸</li>
</ul>
</li>
</ul>
</li>
<li>REFs:- <a href="https://paminerva.github.io/docs/LearnVulkan/01.A-Hello-Window">1. minerva</a><br>
<br></li>
</ul>
</li>
<li>
<p>yes, what are you waiting for ğŸ¤·â€â™€ï¸  go go, shooo.... (ğŸ¤­)</p>
<ol>
<li><code>#include &lt;vulkan/vulkan.h&gt;</code></li>
<li>take an instance of that <code>Struct</code> -&gt; Fill it up [ğŸ˜‰][have the <a href="http://vkdoc.net">vkdoc.net</a> as assist]<br>
<br></li>
</ol>
</li>
</ul>
<h2 id="3-ï¸-vkinstancecreateinfo">3. ğŸ› ï¸ <code>VkInstanceCreateInfo</code> </h2>
<ul>
<li><a href="https://vkdoc.net/man/VkInstanceCreateInfo">https://vkdoc.net/man/VkInstanceCreateInfo</a>
<ul>
<li><code>.sType</code> ğŸŸª <code>VK_STRUCTURE_TYPE_INSTANCE_CREATE_INFO</code></li>
<li><code>.pNext</code> ğŸª <code>NULL</code>
<ul>
<li>ğŸª: "Extensions"</li>
<li>Some intresting ones actually ğŸ˜‰ (will talk about them later)</li>
</ul>
</li>
<li><code>.flags</code> ğŸ³ï¸ <code>VkInstanceCreateFlagBits</code>
<ul>
<li><a href="https://vkdoc.net/man/VkInstanceCreateFlagBits">https://vkdoc.net/man/VkInstanceCreateFlagBits</a> | <a href="https://github.com/ivirtex/vulkan-hover-docs/tree/master/vscode_ext/vulkan_man_md_pages/VkInstanceCreateFlagBits.md">ivirtex-github</a></li>
</ul>
</li>
<li><code>.pApplicationInfo</code> ğŸŸª ğŸ’â€â™€ï¸ Duh!</li>
<li><code>.ppEnabledLayerNames</code> ğŸŸ¨ <strong>ChapterZZZ</strong></li>
<li><code>.ppEnabledExtensionNames</code> ğŸŸ¨ <strong><em>Chapter4.2</em></strong>
<ul>
<li>Don't hesitate about <code>EnabledLayer</code> &amp; <code>EnabledExtensions</code> right now
<ul>
<li>come back and add them when you need to ğŸ˜Š</li>
<li>This is what I would mean, when i would point smth to a later chapter</li>
<li>I will add the ğŸŸ¨ ("Yellow Card") too!</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<h5>ğŸ“œ REY_DOCs</h5>
<ul>
<li>Nothing that I need to add, in this section</li>
<li>Tho if this section gets big, I will create a separate <code>.md</code> file for that thingy</li>
</ul>
</li>
</ul>
<div class="REY_NOSHOW_PDF">
<hr>
<div align="center" style="font-size: 50px; font-family: 'Iosevka Curly'; ">Page-Break</div>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<br>
<br>
<br>
<h4 id="4-a--cool-vscode--visual-studio-extension-if-you-want-ï¸">4. A ğŸ˜ Cool <code>vscode</code> / <code>visual-studio</code> extension if you want ğŸ’â€â™€ï¸ </h4>
<ul>
<li><code>vscode extension name</code> --&gt; <code>ivirtex.vulkan-hover-docs</code>
<ul>
<li><a href="https://github.com/ivirtex/vulkan-hover-docs">https://github.com/ivirtex/vulkan-hover-docs</a></li>
</ul>
</li>
</ul>
<hr>
<h4 id="5-ï¸-vkinstance-m_instance--nullptr">5. ğŸ·ï¸ <code>VkInstance m_instance = nullptr;</code> </h4>
<ul>
<li><a href="https://vkdoc.net/man/VkInstance">https://vkdoc.net/man/VkInstance</a></li>
</ul>
<h4 id="6--vkcreateinstanceci-nullptr-m_instance">6. ğŸ“¦ <code>vkCreateInstance(CI, nullptr, &amp;m_instance)</code> </h4>
<ul>
<li>
<p><a href="https://vkdoc.net/man/vkCreateInstance">https://vkdoc.net/man/vkCreateInstance</a></p>
<ul>
<li><code>param pCreateInfo</code> ğŸŸª ğŸ’â€â™€ï¸ Duh!</li>
<li><code>param pAllocator</code> ğŸŸª <code>nullptr</code></li>
<li><code>param pInstance</code> ğŸŸª <code>&amp;m_instance</code></li>
</ul>
</li>
<li>
<h5>ğŸ“œ REY_DOCs</h5>
<ul>
<li><code>param pAllocator</code>
<ul>
<li><code>VkAllocationCallbacks</code> ğŸŸ¨ <strong>ChapterZZZ</strong>
<ul>
<li>I will make a chapter on this ğŸ¤­ [<a href="https://vkdoc.net/chapters/memory#memory-allocation">https://vkdoc.net/chapters/memory#memory-allocation</a>]</li>
</ul>
</li>
<li>Vulkan provides applications the opportunity to perform host memory allocations</li>
<li>If this feature is not used
<ul>
<li>the implementation will perform its own memory allocations.</li>
</ul>
</li>
<li>Since most memory allocations are off the critical path, this is not meant as a performance feature. Rather, this can be useful for certain embedded systems, for debugging purposes (e.g. putting a guard page after all host allocations), or for memory allocation logging.</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h4 id="7--error-handling--checking---logging">7. ğŸš¨ Error Handling / Checking / ğŸªµ Logging </h4>
<ul>
<li>check out my <a href="./../../amVK/utils/amVK_log.hh"><code>amVK_log.hh</code></a>
<ul>
<li>uses <a href="https://github.com/REYNEP/amGHOST">REY_LoggerNUtils</a> inside amGHOST</li>
<li>has a simple <code>stackTracer()</code> that i basically stripped from blender3D codebase ğŸ¥´</li>
</ul>
</li>
</ul>
<h4 id="8-ï¸-so-far-the-result----4guidechapter1hhexamples4guidechapter1hh">8. <code>ğŸ“½ï¸ So far, The result</code> :-  <a href="./examples/4.guide.chapter1.hh">4.guide.chapter1.hh</a> </h4>
<hr>
<h4 id="9-the-unused-ones">9. The Unused ones </h4>
<ol>
<li><code>vkEnumerateInstanceExtensionProperties()</code> --&gt; ğŸŸ¨ <strong><em>Chapter4.2</em></strong>
<ul>
<li><a href="https://vkdoc.net/man/vkEnumerateInstanceExtensionProperties">https://vkdoc.net/man/vkEnumerateInstanceExtensionProperties</a></li>
</ul>
</li>
<li><code>Add_InstanceEXT_ToEnable(const char* extName)</code> --&gt; ğŸŸ¨ <strong><em>Chapter4.2</em></strong>
<ul>
<li>this is a <strong><em>amVK/REY</em></strong> Custom Function</li>
</ul>
</li>
</ol>
<br>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<br>
<div class="REY_TITLE" align="center">
<h1 id="chapter-2-vkdevice">Chapter 2: <code>VkDevice</code> </h1>
<div class="REY_IMG_CONTAINER" align="center" style="text-align: center !important; font-align: center !important;">
<p><img src="./images/CH2.Vulkanised-2023-Tutorial-PART1_Page12_REY.png" alt="img1"><br>
Take a look into this awesome <a href="./Vulkanised-2023-Tutorial/Vulkanised-2023-Tutorial-PART1.pdf">slide</a> from slide-26 onwards<br>
...to understand what each of these steps above <em>"feel like"/mean/"how to imagine them"</em>.<br>
*slide = <a href="https://www.khronos.org/assets/uploads/developers/presentations/Vulkanised-2023-Tutorial-PART1.pdf">Vulkanised 2023 Tutorial Part 1</a></p>
</div>
</div>
<br>
<br>
<br>
<h2 id="0-amvk-wrap--1">0. <code>amVK</code> wrap ğŸŒ¯ </h2>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"amVK_Instance.hh"</span></span>
    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"amVK_DeviceQueues.hh"</span></span>
    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"amVK_Device.hh"</span></span>

        <span class="token comment">// TwT</span>
        <span class="token function">REY_LOG</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    amVK_Instance<span class="token double-colon punctuation">::</span><span class="token function">EnumeratePhysicalDevices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    amVK_GPUProps  <span class="token operator">*</span>GPUProps <span class="token operator">=</span> amVK_InstanceProps<span class="token double-colon punctuation">::</span><span class="token function">GetARandom_GPU</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    GPUProps<span class="token operator">-&gt;</span><span class="token function">GetPhysicalDeviceQueueFamilyProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    GPUProps<span class="token operator">-&gt;</span><span class="token function">REY_CategorizeQueueFamilies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    amVK_Device<span class="token operator">*</span> D <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token function">amVK_Device</span><span class="token punctuation">(</span>GPUProps<span class="token punctuation">)</span><span class="token punctuation">;</span>
        D<span class="token operator">-&gt;</span>CI                           <span class="token comment">// VkDeviceCreateInfo       [public]</span>
        D<span class="token operator">-&gt;</span>Queues                       <span class="token comment">// amVK_DeviceQueues        [public] [take a look inside ğŸ˜œ]</span>
        D<span class="token operator">-&gt;</span><span class="token function">add_1D_QFAMs_QCount_USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">// amVK_DeviceQueues</span>
        D<span class="token operator">-&gt;</span><span class="token function">CreateDevice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// param1 = GraphicsQueueCount = </span>
        D<span class="token operator">-&gt;</span><span class="token function">GetDeviceQueues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">//     see:- Queues.TheArrays ğŸ˜œ</span>
        D<span class="token operator">-&gt;</span>Queues<span class="token punctuation">.</span><span class="token function">GraphicsQ</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>          <span class="token comment">// returns   Queues.TheArrays.Graphics[0]</span>
</code></pre><div class="REY_NOSHOW_PDF">
<hr>
<div align="center" style="font-size: 50px; font-family: 'Iosevka Curly'; ">Page-Break</div>
</div>
<div class="REY_PAGEBREAK     REY_PAGE_STARTS_WITH_H2"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<h2 id="1--vkcreatedevice">1. ğŸ“¦ <code>vkCreateDevice()</code> </h2>
<ul>
<li><a href="https://vkdoc.net/man/vkCreateDevice">https://vkdoc.net/man/vkCreateDevice</a>
<ul>
<li><code>physicalDevice</code> ğŸŸª <code>HardwareGPU_List[0]</code> / <code>amVK_InstanceProps::GetARandom_GPU()</code>
<ul>
<li>Enumerate ğŸŸ¨ <strong><em>Chapter2.3</em></strong></li>
<li>How to <em>'choose'</em>? ğŸŸ¨ <strong><em>Chapter2.End</em></strong></li>
</ul>
</li>
<li><code>pCreateInfo</code> ğŸŸªğŸ’â€â™€ï¸
<ul>
<li>ğŸ”— <em><strong>SubChapter 2</strong></em></li>
</ul>
</li>
<li><code>pAllocator</code> ğŸŸ¨ <strong>ChapterZZZ</strong></li>
<li><code>pDevice</code> â†©ï¸ğŸ“¦ <code>&amp;m_Device</code>
<ul>
<li>â†©ï¸ğŸ“¦: "Returned by vkFunc()"</li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<p><img src="./images/CH2.image4.png" alt="image4"></p>
</blockquote>
<ul>
<li>
<h5><code>ğŸ“½ï¸ So far, The result</code>:-</h5>
<ul>
<li><a href="./examples/4.guide.chapter2.2.midway.hh">4.guide.chapter2.2.midway.hh</a></li>
</ul>
</li>
</ul>
<h2 id="2-ï¸-vkdevicecreateinfo">2. ğŸ› ï¸ <code>VkDeviceCreateInfo</code> </h2>
<ul>
<li>
<p><a href="https://vkdoc.net/man/VkDeviceCreateInfo">https://vkdoc.net/man/VkDeviceCreateInfo</a></p>
<ul>
<li>
<p><code>.sType</code> ğŸŸª <code>VK_STRUCTURE_TYPE_DEVICE_CREATE_INFO</code></p>
</li>
<li>
<p><code>.pNext</code> ğŸª <code>nullptr</code></p>
<ul>
<li>ğŸª almost any EXT that you are gonna enable.... is prolly gonna end up being passed on here.... tied to <code>VkDeviceCI</code> ğŸ’â€â™€ï¸</li>
</ul>
</li>
<li>
<p><code>.flags</code> ğŸ´ <code>0</code></p>
<ul>
<li>ğŸ´: "No Flag"</li>
<li><code>VkSpecs</code> Says:- <code>reserved for future use</code><br>
<br></li>
</ul>
</li>
<li>
<p><code>.pQueueCreateInfos</code> ğŸ”— <em><strong>SubChapter 5</strong></em></p>
<ul>
<li>Multiple Queue Create Infos:- ğŸŸ¨ <strong><em>Chapter2.8</em></strong></li>
</ul>
</li>
<li>
<p><code>.ppEnabledLayerNames</code> âš ï¸ <em>deprecated [by Vulkan]</em></p>
</li>
<li>
<p><code>.ppEnabledExtensionNames</code> ğŸŸ¨ <strong><em>Chapter4.2</em></strong></p>
</li>
<li>
<p><code>.pEnabledFeatures</code> ğŸŸ¨ <strong>ChapterZZZ</strong></p>
<ul>
<li>This should be really interesting</li>
</ul>
</li>
</ul>
</li>
<li>
<h5>ğŸ“œ REY_DOCs</h5>
<ul>
<li><code>.pQueueCreateInfos</code> -&gt; yes, you 'can' pass multiple ğŸ˜‰</li>
<li>Sometimes there will be <code>.zzzCreateInfoCount</code> &amp; <code>.pZZZCreateInfos</code>
<ul>
<li>So you could like pass in an array/vector</li>
<li>You will see this in lots of other places</li>
</ul>
</li>
</ul>
</li>
<li>
<h5><code>ğŸ“½ï¸ So far, The result</code>:-</h5>
<ul>
<li><a href="./examples/4.guide.chapter2.3.midway.hh">4.guide.chapter2.3.midway.hh</a></li>
</ul>
</li>
</ul>
<div class="REY_NOSHOW_PDF">
<hr>
<div align="center" style="font-size: 50px; font-family: 'Iosevka Curly'; ">Page-Break</div>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<br>
<h2 id="3--vkenumeratephysicaldevices">3. ğŸ“œ <code>vkEnumeratePhysicalDevices()</code> </h2>
<ul>
<li><a href="https://vkdoc.net/man/vkEnumeratePhysicalDevices">https://vkdoc.net/man/vkEnumeratePhysicalDevices</a></li>
<li>
<h5><code>&lt;/&gt; TheCode</code></h5>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-uint32_t">uint32_t</span> deviceCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>     
    <span class="token comment">// [implicit valid usage]:- must be 0 [if 3rd-param = nullptr]</span>
    <span class="token function">vkEnumeratePhysicalDevices</span><span class="token punctuation">(</span>m_instance<span class="token punctuation">,</span> <span class="token operator">&amp;</span>deviceCount<span class="token punctuation">,</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// it's kinda like the function is 'output-ing into' deviceCount</span>

std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>VkPhysicalDevice<span class="token operator">&gt;</span> <span class="token function">HardwareGPU_List</span><span class="token punctuation">(</span>gpuCount<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// best to save this as a class member variable</span>
    <span class="token function">vkEnumeratePhysicalDevices</span><span class="token punctuation">(</span>m_instance<span class="token punctuation">,</span> <span class="token operator">&amp;</span>deviceCount<span class="token punctuation">,</span> HardwareGPU_List<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// note: it does return     VkResult return_code</span>
</code></pre><ul>
<li><code>ğŸ‘€ Visualization / [See it] / JSON Printing</code>:- <a href="./examples/4.guide.chapter2.1.json.hh">4.guide.chapter2.1.json.hh</a></li>
<li><code>ğŸ“½ï¸ So far, The result</code>:- <a href="./examples/4.guide.chapter2.1.midway.hh">4.guide.chapter2.1.midway.hh</a></li>
<li><code>ğŸ”— GitHub</code>:- <a href="https://github.com/REYNEP/amGHOST/blob/74cf5c96a9b12db4896f2f4c592cfd72923d6231/amVK/utils/amVK_GPUProps.cpp#L5-L17">amVK_GPUProps.hh</a><br>
<br></li>
</ul>
</li>
</ul>
<div align="center">
<h2 id="4--amvk_instancepropsgetarandom_gpu">4. ğŸ§Š <code>amVK_InstanceProps::GetARandom_GPU()</code> </h2>
<p><code>&lt;/&gt; TheCode</code> ğŸ”— <code>GITHUB</code> <a href="https://github.com/REYNEP/amGHOST/blob/74cf5c96a9b12db4896f2f4c592cfd72923d6231/amVK/utils/amVK_InstanceProps.hh#L39">amVK_InstanceProps.hh#L39</a></p>
</div>
<br>
<h2 id="5-ï¸-vkdevicequeuecreateinfo---the-real-deal">5. ğŸ› ï¸ <code>VkDeviceQueueCreateInfo</code> - <em>'The Real Deal'</em> </h2>
<ul>
<li>
<p><a href="https://vkdoc.net/man/VkDeviceQueueCreateInfo">https://vkdoc.net/man/VkDeviceQueueCreateInfo</a></p>
<ul>
<li>
<p><code>.sType</code> ğŸŸª <code>VK_STRUCTURE_TYPE_DEVICE_QUEUE_CREATE_INFO</code></p>
</li>
<li>
<p><code>.pNext</code> ğŸª <code>nullptr</code></p>
<ul>
<li>ğŸª 2 Extensions ğŸ˜‰ (will talk about them later)</li>
</ul>
</li>
<li>
<p><code>.flags</code> ğŸ³ï¸ <code>0</code></p>
<ul>
<li>ğŸª <a href="https://vkdoc.net/man/VkDeviceQueueCreateFlagBits">https://vkdoc.net/man/VkDeviceQueueCreateFlagBits</a> | <a href="https://github.com/ivirtex/vulkan-hover-docs/tree/master/vscode_ext/vulkan_man_md_pages/VkDeviceQueueCreateFlagBits.md">ivirtex-github</a></li>
<li>ğŸš©: "Only Option"
<ul>
<li><code>VK_DEVICE_QUEUE_CREATE_PROTECTED_BIT</code> [Protected Queue]<br>
<br></li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>.queueFamilyIndex</code> ğŸ”— <em><strong>Next 3 SubChapters</strong></em></p>
<ul>
<li><code>vkGetPhysicalDeviceQueueFamilyProperties()</code> --&gt; look for a QueueFamily that supports <code>VK_QUEUE_GRAPHICS_BIT</code><br>
<br></li>
</ul>
</li>
<li>
<p><code>.queueCount</code> ğŸŸª <code>1</code> [Specify, how many you need ğŸ’â€â™€ï¸]<br>
<br></p>
</li>
<li>
<p><code>.pQueuePriorities</code> --&gt; yes, this can be multiple "Priorities" ğŸ¥´ [idk yet why tho]</p>
<ul>
<li>Range = (0.0 -&gt; 1.0) [inclusive]</li>
<li>Within the same device, queues with higher priority may be allotted more processing time than queues with lower priority.<br>
<br></li>
</ul>
</li>
</ul>
</li>
<li>
<h5><code>ğŸ“½ï¸ So far, The result</code>:-</h5>
<ul>
<li>We are gonna take a Big Leap &amp; Start connecting to ğŸ”— <code>GITHUB</code></li>
<li><a href="https://github.com/REYNEP/amGHOST/blob/1f6bfe014c42962f935a546c39ddb237ff99d002/amVK/core/amVK_DeviceQCI.hh#L9-L15">amVK_DeviceQCI.hh</a></li>
</ul>
</li>
</ul>
<br>
<br>
<div class="REY_NOSHOW_PDF">
<hr>
<div align="center" style="font-size: 50px; font-family: 'Iosevka Curly'; ">Page-Break</div>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<br>
<br>
<h2 id="6--vkgetphysicaldevicequeuefamilyproperties">6. ğŸ“œ <code>vkGetPhysicalDeviceQueueFamilyProperties()</code> </h2>
<br>
<ul>
<li>
<p><a href="https://vkdoc.net/man/vkGetPhysicalDeviceQueueFamilyProperties">https://vkdoc.net/man/vkGetPhysicalDeviceQueueFamilyProperties</a></p>
</li>
<li>
<h5>ğŸ“œ REY_DOCs</h5>
<ul>
<li>a GPU can have <em>"multiple QueueFamilies"</em>
<ul>
<li>a <code>QueueFamily</code> might support <code>VK_QUEUE_GRAPHICS_BIT</code></li>
<li>another <code>QueueFamily</code> might support <code>VK_QUEUE_COMPUTE_BIT</code></li>
<li>another <code>QueueFamily</code> might support <code>VK_QUEUE_TRANSFER_BIT</code></li>
<li>another <code>QueueFamily</code> might support <code>VK_QUEUE_VIDEO_ENCODE_BIT_KHR</code></li>
<li>another <code>QueueFamily</code> might support a-mixture of multiple</li>
<li>talking about this in -&gt; ğŸ”— <em>Next SubChapter</em><br>
<br></li>
</ul>
</li>
</ul>
</li>
<li>
<h5><code>&lt;/&gt; TheCode</code> [OldWay]</h5>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">GPUs</span>                                <span class="token expression">amVK_InstanceProps<span class="token double-colon punctuation">::</span>s_HardwareGPU_List</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">amVK_2D_GPUs_QFAMs</span>                     <span class="token expression">amVK_Instance<span class="token double-colon punctuation">::</span>s_HardwareGPU_QFamProps_List2D</span></span>
<span class="token keyword keyword-static">static</span> <span class="token keyword keyword-inline">inline</span> REY_Array<span class="token operator">&lt;</span>REY_Array<span class="token operator">&lt;</span>VkQueueFamilyProperties<span class="token operator">&gt;&gt;</span>   s_HardwareGPU_QFamProps_List2D<span class="token punctuation">;</span>
    <span class="token comment">// REY_Array --&gt; "REY_LoggerNUtils/REY_Utils.hh" ğŸ˜„</span>
    <span class="token comment">// 1 System/PC</span>
        <span class="token comment">// multiple GPU</span>
            <span class="token comment">// multiple QFamProps</span>
</code></pre><pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-static">static</span> <span class="token keyword keyword-inline">inline</span> <span class="token keyword keyword-void">void</span> <span class="token function">GetPhysicalDeviceQueueFamilyProperties</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    amVK_2D_GPUs_QFAMs<span class="token punctuation">.</span><span class="token function">reserve</span><span class="token punctuation">(</span>GPUs<span class="token punctuation">.</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// malloc using "new" keyword</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span> <span class="token keyword keyword-uint32_t">uint32_t</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  k <span class="token operator">&lt;</span> GPUs<span class="token punctuation">.</span>n<span class="token punctuation">;</span> k<span class="token operator">++</span> <span class="token punctuation">)</span>       <span class="token comment">// for each GPU</span>
    <span class="token punctuation">{</span>
        REY_Array<span class="token operator">&lt;</span>VkQueueFamilyProperties<span class="token operator">&gt;</span> <span class="token operator">*</span>k_QFamProps <span class="token operator">=</span> <span class="token operator">&amp;</span>amVK_2D_GPUs_QFAMs<span class="token punctuation">.</span>data<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token keyword keyword-uint32_t">uint32_t</span> QFamCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token function">vkGetPhysicalDeviceQueueFamilyProperties</span><span class="token punctuation">(</span>GPUs<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>QFamCount<span class="token punctuation">,</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        k_QFamProps<span class="token operator">-&gt;</span>n <span class="token operator">=</span> QFamCount<span class="token punctuation">;</span>
        k_QFamProps<span class="token operator">-&gt;</span>data <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> VkQueueFamilyProperties<span class="token punctuation">[</span>QFamCount<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token function">vkGetPhysicalDeviceQueueFamilyProperties</span><span class="token punctuation">(</span>GPUs<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>k_QFamProps<span class="token operator">-&gt;</span>n<span class="token punctuation">,</span> k_QFamProps<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">undef</span> <span class="token expression">GPUs</span></span>
<span class="token punctuation">}</span>
</code></pre><ul>
<li><code>ğŸ‘€ Visualization / [See it] / JSON Printing</code>:- <a href="./examples/4.guide.chapter2.5.json.hh">4.guide.chapter2.5.json.hh</a>
<ul>
<li>Check the <a href="./examples/4.guide.chapter2.5.data.json">3070 JSON by REY</a></li>
</ul>
</li>
<li><code>ğŸ“½ï¸ So far, The result</code>:- <strong><em>[OldWay]</em></strong> <a href="./examples/4.guide.chapter2.5.amVK_Instance.hh">4.guide.chapter2.5.amVK_Instance.hh</a>
<ul>
<li>Compare to -&gt; <a href="./examples/4.guide.chapter2.1.midway.hh">4.guide.chapter2.1.midway.hh</a>
<ul>
<li><code>2DArray_QFAM_Props</code> part &amp; below were added only compared to <code>Chapter2.1.</code><br>
<br><br>
<br></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<h5><code>ğŸ“½ï¸ So far, The result</code>:- ğŸ”— <code>GITHUB</code> [NewWay]</h5>
<ul>
<li><a href="https://github.com/REYNEP/amGHOST/blob/1f6bfe014c42962f935a546c39ddb237ff99d002/amVK/utils/amVK_GPUProps.hh">amVK_GPUProps.hh</a></li>
<li><a href="https://github.com/REYNEP/amGHOST/blob/1f6bfe014c42962f935a546c39ddb237ff99d002/amVK/utils/amVK_GPUProps.cpp#L5-L17">amVK_GPUProps.cpp#L5-L17</a></li>
</ul>
</li>
</ul>
<div class="REY_NOSHOW_PDF">
<hr>
<div align="center" style="font-size: 50px; font-family: 'Iosevka Curly'; ">Page-Break</div>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<h2 id="7-ï¸-vkqueuefamilyproperties">7. ğŸ·ï¸ <code>VkQueueFamilyProperties</code> </h2>
<ul>
<li><a href="https://vkdoc.net/man/VkQueueFamilyProperties">https://vkdoc.net/man/VkQueueFamilyProperties</a></li>
<li>
<h5>ğŸ“œ REY_DOCs</h5>
<ul>
<li><code>.queueFlags</code>
<ul>
<li>we are gonna choose a <code>QCI.queueFamilyIndex</code> based on these flags</li>
<li>primarily, for the least, we wanna choose a <code>QueueFamily</code> that supports <code>VK_QUEUE_GRAPHICS_BIT</code></li>
<li>all kinds of amazing things can be done using
<ul>
<li><code>VK_QUEUE_COMPUTE_BIT</code></li>
<li><code>VK_QUEUE_TRANSFER_BIT</code></li>
<li><code>VK_QUEUE_VIDEO_ENCODE_BIT_KHR</code></li>
</ul>
</li>
</ul>
</li>
<li><code>.queueCount</code>
<ul>
<li>yes there is a limit to 'how many <code>Queues</code> we are allowed to work with' ğŸ¥´</li>
</ul>
</li>
<li><code>.timestampValidBits</code></li>
<li><code>.minImageTransferGranularity</code><br>
<br></li>
</ul>
</li>
</ul>
<h2 id="8-vkdeviceqciqueuefamilyindex-oldway">8. <code>VkDeviceQCI.queueFamilyIndex</code> [OldWay] </h2>
<ul>
<li><code>ğŸ¯ Task</code>
<ul>
<li>is to choose a <code>QueueFamily</code> that supports <code>VK_QUEUE_GRAPHICS_BIT</code> ğŸ˜‰</li>
<li>(if you've followed on so far -&gt; this should be easy ğŸ˜‰)</li>
</ul>
</li>
<li>
<h5><code>&lt;/&gt; amVK_Device.hh</code></h5>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-void">void</span> amVK_Device<span class="token double-colon punctuation">::</span><span class="token function">Select_QFAM_GRAPHICS</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>amVK_Instance<span class="token double-colon punctuation">::</span>called_GetPhysicalDeviceQueueFamilyProperties<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        amVK_Instance<span class="token double-colon punctuation">::</span><span class="token function">EnumeratePhysicalDevices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>amVK_Instance<span class="token double-colon punctuation">::</span>called_GetPhysicalDeviceQueueFamilyProperties<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        amVK_Instance<span class="token double-colon punctuation">::</span><span class="token function">GetPhysicalDeviceQueueFamilyProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    amVK_Instance<span class="token double-colon punctuation">::</span>amVK_PhysicalDevice_Index index <span class="token operator">=</span> amVK_HEART<span class="token operator">-&gt;</span><span class="token function">GetARandom_PhysicalDevice_amVK_Index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>QCI<span class="token punctuation">.</span>Default<span class="token punctuation">.</span>queueFamilyIndex <span class="token operator">=</span> amVK_Instance<span class="token double-colon punctuation">::</span><span class="token function">ChooseAQueueFamily</span><span class="token punctuation">(</span>VK_QUEUE_GRAPHICS_BIT<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token comment">// If you wanna see the implementation for this function</span>
<span class="token punctuation">}</span>
</code></pre><ul>
<li><code>ğŸ“½ï¸ So far, The result</code>:- <em><strong>OldWay</strong></em> (Don't spend time inside this, more than 1 minute)
<ul>
<li><a href="./examples/4.guide.chapter2.9.Props.hh">4.guide.chapter2.9.Props.hh</a></li>
<li><a href="./examples/4.guide.chapter2.9.amVK.cpp">4.guide.chapter2.9.amVK.cpp</a><br>
<br></li>
</ul>
</li>
<li><code>ğŸ“½ï¸ So far, The result</code>:- <em><strong>NewWay</strong></em> ğŸ”— <code>GITHUB</code> (NewWay is like 10x more organized and easier to understand)
<ul>
<li><a href="https://github.com/REYNEP/amGHOST/blob/1f6bfe014c42962f935a546c39ddb237ff99d002/amVK/utils/amVK_GPUProps.hh">amVK_GPUProps.hh</a></li>
<li><a href="https://github.com/REYNEP/amGHOST/blob/1f6bfe014c42962f935a546c39ddb237ff99d002/amVK/utils/amVK_GPUProps.cpp#L266-L286">amVK_GPUProps.cpp#L266-L286</a><br>
<br></li>
</ul>
</li>
</ul>
</li>
</ul>
<div align="center">
<h2 id="9--rey_categorizequeuefamilies-newway">9. ğŸ§Š <code>REY_CategorizeQueueFamilies()</code> [NewWay] </h2>
<p><code>&lt;/&gt; TheCode</code> ğŸ”— <code>GITHUB</code><br>
<a href="https://github.com/REYNEP/amGHOST/blob/74cf5c96a9b12db4896f2f4c592cfd72923d6231/amVK/utils/amVK_GPUProps.hh#L50">amVK_GPUProps.hh#L50</a><br>
<a href="https://github.com/REYNEP/amGHOST/blob/main/amVK/utils/amVK_GPUProps.cpp#L260">amVK_GPUProps.cpp#L260</a></p>
</div>
<div class="REY_NOSHOW_PDF">
<hr>
<div align="center" style="font-size: 50px; font-family: 'Iosevka Curly'; ">Page-Break</div>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<h2 id="10-back-to--vkcreatedevice-finally-calling-it-">10. back to ğŸ“¦ <code>vkCreateDevice()</code> finally calling it ğŸ˜Š </h2>
<ul>
<li><a href="https://vkdoc.net/man/VkDeviceCreateInfo">https://vkdoc.net/man/VkDeviceCreateInfo</a></li>
<li>
<h5><code>&lt;/&gt; main.cpp</code></h5>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>amVK_Device<span class="token operator">*</span> D <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token function">amVK_Device</span><span class="token punctuation">(</span>GPUProps<span class="token punctuation">)</span><span class="token punctuation">;</span>
    D<span class="token operator">-&gt;</span>CI                           <span class="token comment">// VkDeviceCreateInfo       [public]</span>
    D<span class="token operator">-&gt;</span>Queues                       <span class="token comment">// amVK_DeviceQueues        [public] [take a look inside ğŸ˜œ]</span>
    D<span class="token operator">-&gt;</span><span class="token function">add_1D_QFAMs_QCount_USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">// amVK_DeviceQueues</span>
    D<span class="token operator">-&gt;</span><span class="token function">CreateDevice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// param1 = GraphicsQueueCount = 1</span>
    D<span class="token operator">-&gt;</span><span class="token function">GetDeviceQueues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">//     see:- Queues.TheArrays ğŸ˜œ</span>
    D<span class="token operator">-&gt;</span>Queues<span class="token punctuation">.</span><span class="token function">GraphicsQ</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>          <span class="token comment">// returns   Queues.TheArrays.Graphics[0]</span>
</code></pre><ul>
<li>Think of this as a PSeudoCode / or / check out my code if you wanna</li>
<li><code>CreateInfo</code> =&gt; By default has initial values inside <code>amVK_Device</code><br>
<br></li>
</ul>
</li>
</ul>
<div align="center">
<h2 id="11--amvk_devicequeues">11. ğŸ§Š <code>amVK_DeviceQueues</code> </h2>
<p>ğŸ”— <a href="https://github.com/REYNEP/amGHOST/blob/74cf5c96a9b12db4896f2f4c592cfd72923d6231/amVK/core/amVK_DeviceQueues.hh">amVK_DeviceQueues.hh</a></p>
</div>
<div class="REY_NOSHOW_PDF">
<hr>
<div align="center" style="font-size: 50px; font-family: 'Iosevka Curly'; ">Page-Break</div>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<br>
<br>
<br>
<br>
<h2 id="-extras--theend">ğŸŸª eXtras / TheEnd </h2>
<h4 id="11-multiple-vkdevicecreateinfopqueuecreateinfos">11. multiple <code>VkDeviceCreateInfo.pQueueCreateInfos</code> </h4>
<ul>
<li><a href="https://vkdoc.net/man/VkDeviceCreateInfo#VUID-VkDeviceCreateInfo-queueFamilyIndex-02802">VUID-VkDeviceCreateInfo-queueFamilyIndex-02802</a>
<ul>
<li>
<p>The <code>.queueFamilyIndex</code> member of each element of <code>.pQueueCreateInfos</code> must be unique ğŸ’â€â™€ï¸<br>
<br></p>
</li>
<li>
<p>So, randomly <code>push_back()</code>ing without any kinda safety â¡ï¸ kinda feels absurd. ğŸ’â€â™€ï¸ doesn't it? .... e.g.</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token comment">/* ============ REY_LoggerNUtils::REY_Utils.hh ============ */</span>
REY_ArrayDYN<span class="token operator">&lt;</span>VkDeviceQueueCreateInfo<span class="token operator">&gt;</span> Array <span class="token operator">=</span> <span class="token generic-function"><span class="token function">REY_ArrayDYN</span><span class="token generic class-name"><span class="token operator">&lt;</span>VkDeviceQueueCreateInfo<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">REY_ARRAY_PUSH_BACK</span><span class="token punctuation">(</span>Array<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>Default_QCI<span class="token punctuation">;</span>
    <span class="token function">REY_ARRAY_PUSH_BACK</span><span class="token punctuation">(</span>Array<span class="token punctuation">)</span> <span class="token operator">=</span>          Your_QCI<span class="token punctuation">;</span>
</code></pre><ul>
<li>
<h5>[OldWay]:- <a href="https://github.com/REYNEP/amGHOST/blob/1f6bfe014c42962f935a546c39ddb237ff99d002/amVK/core/amVK_DeviceQCI.hh#L19">amVK_DeviceQCI.hh</a></h5>
</li>
</ul>
</li>
<li>
<p>So what i did is:- to introduce a <code>QCount</code> array as per <code>QFamily</code> ğŸ’â€â™€ï¸</p>
<ul>
<li>
<h5>[NewWay]:- <a href="https://github.com/REYNEP/amGHOST/blob/74cf5c96a9b12db4896f2f4c592cfd72923d6231/amVK/core/amVK_DeviceQueues.hh#L56">amVK_DeviceQueues.hh#L56</a></h5>
</li>
</ul>
</li>
<li>
<p>&amp; then have a function for the user to increase the <code>QCount</code></p>
<ul>
<li>
<h5>[NewWay]:- ğŸ”— <code>GITHUB_WIP</code> --&gt; <code>amVK_Device::add_1D_QFAMs_QCount_USER()</code></h5>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ol start="12">
<li>
<h4>OldWay ğŸ“† <code>March, 2025</code></h4>
<ol>
<li><code>class amVK_InstanceProps</code>
<ul>
<li><code>EnumeratePhysicalDevices()</code></li>
<li><code>GetPhysicalDeviceQueueFamilyProperties()</code></li>
</ul>
</li>
</ol>
<ul>
<li>
<p>(Don't spend time inside this, more than 1 minute)</p>
<ul>
<li>ğŸ“ <a href="./examples/4.guide.chapter2.9.Props.hh">4.guide.chapter2.9.Props.hh</a></li>
<li>ğŸ“ <a href="./examples/4.guide.chapter2.9.amVK.cpp">4.guide.chapter2.9.amVK.cpp</a></li>
</ul>
</li>
<li>
<p><a href="https://github.com/REYNEP/amGHOST/tree/3e44b982902a3f3fa4ac584aefb19da3d4cdfcc6">https://github.com/REYNEP/amGHOST/tree/3e44b982902a3f3fa4ac584aefb19da3d4cdfcc6</a></p>
</li>
</ul>
</li>
<li>
<h4>NewWay ğŸ“† <code>May, 2025</code></h4>
<ul>
<li>ğŸ”— <code>GITHUB</code> (<strong>NewWay</strong> is like 10x more organized and easier to understand)
<ul>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/1f6bfe014c42962f935a546c39ddb237ff99d002/amVK/utils/amVK_GPUProps.hh">amVK_GPUProps.hh</a></li>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/1f6bfe014c42962f935a546c39ddb237ff99d002/amVK/utils/amVK_GPUProps.cpp#L266-L286">amVK_GPUProps.cpp#L266-L286</a><br>
<br></li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>vkGetPhysicalDeviceProperties()</code> ğŸŸ¨ <strong>Chapter11</strong></p>
</li>
<li>
<p>GetFeatures ğŸŸ¨ <strong>Chapter11</strong></p>
</li>
<li>
<p>MemoryTypes ğŸŸ¨ <strong>Chapter11</strong></p>
</li>
<li>
<p>Guide on <code>amVK_Array</code> ğŸŸ¨ <em><strong>Chapter6.6</strong></em></p>
</li>
</ol>
<br>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<br>
<h3 id="chapter-3-common-patterns-if-someone-missed-to-catch-it-yet-">Chapter 3: Common Patterns: <em>if someone missed to catch it yet</em> ğŸ˜‰ </h3>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token builtin">Object</span>  Vk      VkInstance
Types   Vk      VkInstanceCreateInfo
Funcs   vk      vkCreateInstance<span class="token punctuation">(</span><span class="token punctuation">)</span>
Enums   <span class="token constant">VK_</span>     <span class="token constant">VK_STRUCTURE_TYPE_INSTANCE_CREATE_INFO</span>

Extensions
    <span class="token symbol">KHR</span><span class="token operator">:</span><span class="token operator">-</span> Khronos authored<span class="token punctuation">,</span>
    <span class="token symbol">EXT</span><span class="token operator">:</span><span class="token operator">-</span> multi<span class="token operator">-</span>company authored

Creating <span class="token string-literal"><span class="token string">"VkZZZ"</span></span> object
    <span class="token number">1.</span> take <span class="token command-literal"><span class="token command string">`VkZZZCreateInfo`</span></span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span> fill it up
    <span class="token number">2.</span> call <span class="token command-literal"><span class="token command string">`vkCreateZZZ()`</span></span>
    <span class="token number">3.</span> also <span class="token command-literal"><span class="token command string">`vkDestroyZZZ()`</span></span> before closing your app

    <span class="token number">4.</span> Some objects get <span class="token string-literal"><span class="token string">"allocated"</span></span> rather than <span class="token string-literal"><span class="token string">"created"</span></span>
        <span class="token command-literal"><span class="token command string">`VkZZZAllocateInfo`</span></span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token command-literal"><span class="token command string">`vkAllocateZZZ`</span></span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token command-literal"><span class="token command string">`vkFreeZZZ`</span></span>

    <span class="token number">5.</span> Sometimes there will be <span class="token command-literal"><span class="token command string">`.zzzCreateInfoCount`</span></span> <span class="token operator">&amp;</span> <span class="token command-literal"><span class="token command string">`.pZZZCreateInfos`</span></span>
                        e<span class="token punctuation">.</span>g<span class="token punctuation">.</span> <span class="token command-literal"><span class="token command string">`.queueCreateInfoCount`</span></span> <span class="token operator">&amp;</span> <span class="token command-literal"><span class="token command string">`.pQueueCreateInfos`</span></span>`
            <span class="token operator">-</span><span class="token operator">&gt;</span> So you could like pass <span class="token keyword keyword-in">in</span> an array<span class="token operator">/</span>vector
            <span class="token operator">-</span><span class="token operator">&gt;</span> You will see this <span class="token keyword keyword-in">in</span> lots of other places

Getting List<span class="token operator">/</span>Properties
    <span class="token number">6.</span> vkEnumerateZZZ<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span> \see <span class="token command-literal"><span class="token command string">`[Chapter2.1.] vkEnumeratePhysicalDevices()`</span></span> example
</code></pre><p>-- | -- | -- | ----------------------------------------------------------------------------</p>
<ol start="7">
<li>
<p>ğŸŸª almost every <code>VkStruct</code> is gonna have these 3 field/member ğŸ’â€â™€ï¸</p>
<ol>
<li><code>sType</code>:-
<ul>
<li>It may seem somewhat redundant, but this information can be useful for the <code>vulkan-loader</code> and actual <code>gpu-driver-implementations</code> to know what type of structure was passed in through <code>pNext</code>.</li>
</ul>
</li>
<li><code>pNext</code>:-
<ul>
<li><em>allows to create a linked list between structures.</em></li>
<li>It is mostly used when dealing with extensions that expose new structures to provide additional information to the <code>vulkan-loader</code>, <code>debugging-validation-layers</code>, and <code>gpu-driver-implementations</code>.
<ul>
<li><em>i.e. they can use the <code>pNext-&gt;stype</code> field to know what's ahead in the linked list</em></li>
</ul>
</li>
</ul>
</li>
<li><code>.flags</code>:-
<ul>
<li>this one goes mostly ignored / set to <code>0</code><br>
<br></li>
</ul>
</li>
</ol>
</li>
<li>
<p><code>.pQueueCreateInfos</code>:- yes, you 'can' pass multiple ğŸ˜‰</p>
<ul>
<li>Sometimes there will be <code>.zzzCreateInfoCount</code> &amp; <code>.pZZZCreateInfos</code>
<ul>
<li>So you could like pass in an array/vector</li>
<li>You will see this in lots of other places</li>
</ul>
</li>
</ul>
</li>
</ol>
<p>-- | -- | -- | ----------------------------------------------------------------------------</p>
<ol start="9">
<li>
<h6>CreateInfo StartingPoint</h6>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>VkRenderPassCreateInfo CI <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span>sType <span class="token operator">=</span> VK_STRUCTURE_TYPE_SWAPCHAIN_CREATE_INFO_KHR<span class="token punctuation">,</span>
    <span class="token punctuation">.</span>pNext <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">,</span>
    <span class="token punctuation">.</span>flags <span class="token operator">=</span> <span class="token number">0</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></li>
</ol>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token number">10.</span>  Do remember to check the <span class="token command-literal"><span class="token command string">`Valid Usage`</span></span> section within <span class="token keyword keyword-each">each</span> manual<span class="token operator">-</span>page
</code></pre><ol start="11">
<li>
<h6>Getting/Enumerating VkObject list ğŸ’â€â™€ï¸</h6>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-uint32_t">uint32_t</span> deviceCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>     
    <span class="token comment">// [implicit valid usage]:- must be 0 [if 3rd-param = nullptr]</span>
    <span class="token function">vkEnumeratePhysicalDevices</span><span class="token punctuation">(</span>m_instance<span class="token punctuation">,</span> <span class="token operator">&amp;</span>deviceCount<span class="token punctuation">,</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// it's kinda like the function is 'output-ing into' deviceCount</span>

std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>VkPhysicalDevice<span class="token operator">&gt;</span> <span class="token function">HardwareGPU_List</span><span class="token punctuation">(</span>gpuCount<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// best to save this as a class member variable</span>
    <span class="token function">vkEnumeratePhysicalDevices</span><span class="token punctuation">(</span>m_instance<span class="token punctuation">,</span> <span class="token operator">&amp;</span>deviceCount<span class="token punctuation">,</span> HardwareGPU_List<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// note: it does return     VkResult return_code</span>
</code></pre></li>
</ol>
<div style="page-break-after: always;"></div>
<p>-- | -- | -- | ----------------------------------------------------------------------------</p>
<ol start="12">
<li><code>Symbols</code>:-
<ul>
<li>
<p>ğŸŸª:- kinda means nothing</p>
<ul>
<li>i kinda used to like make it look like a bit pattern-ish iguess ğŸ¥´ğŸ«¢<br>
<br></li>
<li>ğŸŸªğŸ’â€â™€ï¸: "Pretty Obvious"</li>
</ul>
</li>
<li>
<p>ğŸŸ¨:- "Yellow Card"</p>
<ul>
<li>it means, you don't need to hesitate about this thingy right now ğŸ’â€â™€ï¸ we will focus on this element later ğŸ¤­</li>
</ul>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token number">1.</span> ChapterZZZ <span class="token operator">=&gt;</span> Unknown <span class="token constant">WIP</span><span class="token operator">/</span><span class="token constant">TBD</span> Chapter
<span class="token number">2.</span> Chapter2<span class="token punctuation">.</span><span class="token number">4</span> <span class="token operator">=&gt;</span> 
    If <span class="token constant">LATER</span><span class="token operator">-</span><span class="token constant">CHAPTER</span> <span class="token operator">=&gt;</span> Dont hesitate right now<span class="token punctuation">,</span> Do this <span class="token keyword keyword-when">when</span> you <span class="token keyword keyword-each">each</span> that <span class="token constant">LATER</span><span class="token operator">-</span>Chapter
    If  <span class="token constant">PREV</span><span class="token operator">-</span><span class="token constant">CHAPTER</span> <span class="token operator">=&gt;</span> You can go back <span class="token keyword keyword-and">and</span> check ğŸ˜›
        ğŸ”— <span class="token command-literal"><span class="token command string">`SurfCAP.currentTransform`</span></span>
        ğŸ”— Chapter2<span class="token punctuation">.</span><span class="token number">4</span>
</code></pre></li>
<li>
<p>ğŸŸ§:- "Orange Card"</p>
<ul>
<li>it means, this element is probably never gonna be 'necessary' for vulkan applications ğŸ’â€â™€ï¸<br>
<br></li>
</ul>
</li>
<li>
<p>ğŸª: "Extensions"</p>
<ul>
<li>Same as ğŸŸ¨ "Yellow Card". But marks a little bit more, that, "Here goes Extension" Features<br>
<br></li>
</ul>
</li>
<li>
<p>ğŸ” : "Options"</p>
<ul>
<li>Sometimes you'd "Must Need" to choose between a few options<br>
<br></li>
</ul>
</li>
<li>
<p>ğŸ³ï¸: "I Lose, You Win!" / General Flag Icon / Sometimes means -&gt; "Lots of Flags" / IDK / Didn't check [IDC]</p>
</li>
<li>
<p>ğŸŒ: "Nice/Important Flags"</p>
</li>
<li>
<p>ğŸš©: "One Flag" [IDC]</p>
</li>
<li>
<p>ğŸ´: "No Flag" [IDC]</p>
</li>
<li>
<p>âš ï¸: "Deprecated Feature" / "Other Kinds of Warnings" / I will try to name when using this emoji/sign</p>
</li>
<li>
<p>ğŸ·ï¸: "Type"</p>
</li>
<li>
<p>ğŸŸ¨ <strong>ChapterZZZ</strong></p>
</li>
<li>
<p>ğŸ”— <strong><em>Chapter2.1</em></strong></p>
</li>
<li>
<p>ğŸ”— <code>GITHUB_WIP</code></p>
</li>
<li>
<p>ğŸ“‹ğŸ”„ <strong><em>Chapter2.1</em></strong></p>
<ul>
<li><code>vkEnumeratePhysicalDevices()</code></li>
<li>it means, Implement Exactly like in <strong><em>Chapter2.1</em></strong> ğŸ˜‰<br>
<br></li>
</ul>
</li>
<li>
<p>â„¹ï¸: "Create Info"</p>
</li>
<li>
<p>ğŸŒ¯: <code>amVK_Wrap</code></p>
</li>
<li>
<p>â†©ï¸ğŸ“¦: "Object Getting return by Vulkan Function"</p>
</li>
<li>
<p><code>ğŸ“œ REY_DOCs</code></p>
<ul>
<li>Actual Notes</li>
<li>Mostly, <a href="http://vkdoc.net">vkdoc.net</a> documentation is good enough. But if I wanna add smth extra, it goes here</li>
<li>This section might get big &amp; robust sometimes ğŸ¤­</li>
</ul>
</li>
<li>
<p><code>&lt;/&gt; TheCode</code></p>
</li>
<li>
<p><code>ğŸ“½ï¸ So far, The result</code></p>
<ul>
<li>ğŸ“:- "File Icon"</li>
</ul>
</li>
<li>
<p><code>ğŸ‘€ Visualization / [See it] / JSON Printing</code><br>
<br></p>
</li>
<li>
<p><code>ğŸ”¬ğŸ› ï¸ 2DriverIMPL</code></p>
<ul>
<li>To The People Who are gonna Implement the Driver</li>
<li>Other Keyword:- "DriverGurantee"<br>
<br></li>
</ul>
</li>
</ul>
</li>
</ol>
<p>-- | -- | -- | ----------------------------------------------------------------------------</p>
<ol>
<li>
<h5>Emojis List</h5>
<ul>
<li>ğŸŸª ğŸŸ¨ ğŸŸ§ ğŸª ğŸ”  â¡ï¸ ğŸ·ï¸ ğŸ“ â„¹ï¸ ğŸ“¥ ğŸŒ‹ ğŸ§Š</li>
<li>ğŸŸªğŸ’â€â™€ï¸</li>
<li>â†©ï¸ğŸ“¦</li>
<li>ğŸ”— <em><strong>SubChapter 2</strong></em></li>
<li>ğŸ”— <em><strong>Next SubChapter</strong></em></li>
<li>ğŸ”— <strong><em>Chapter2.1</em></strong></li>
<li>ğŸŸ¨ <strong>ChapterZZZ</strong></li>
<li>ğŸ“‹ğŸ”„ <strong><em>Chapter2.1</em></strong></li>
<li>ğŸ”— <code>GITHUB_WIP</code></li>
<li>
<h5>â†©ï¸ Return Codes</h5>
</li>
<li>
<h5>ğŸ“œ REY_DOCs</h5>
</li>
<li>
<h5><code>&lt;/&gt; TheCode</code></h5>
</li>
<li>
<h5><code>&lt;/&gt; main.cpp</code></h5>
</li>
<li>
<h5><code>ğŸ“½ï¸ So far, The result</code></h5>
</li>
<li>
<h5><code>ğŸ”¬ğŸ› ï¸ 2DriverIMPL</code></h5>
</li>
<li>
<h5><code>ğŸ‘€ Visualization / [See it] / JSON Printing</code></h5>
</li>
</ul>
</li>
<li>
<h5>Templates Below</h5>
<ul>
<li>
<p><a href="https://vkdoc.net/man/VkGraphicsPipelineCreateInfo">https://vkdoc.net/man/VkGraphicsPipelineCreateInfo</a></p>
<ul>
<li><code>.sType</code> ğŸŸª <code>VK_STRUCTURE_TYPE_GRAPHICS_PIPELINE_CREATE_INFO</code></li>
<li><code>.pNext</code> ğŸª <code>nullptr</code></li>
<li><code>.flags</code> ğŸ³ï¸ <code>0</code>
<ul>
<li>ğŸª <a href="https://vkdoc.net/man/VkPipelineCreateFlagBits">https://vkdoc.net/man/VkPipelineCreateFlagBits</a> | <a href="https://github.com/ivirtex/vulkan-hover-docs/tree/master/vscode_ext/vulkan_man_md_pages/VkPipelineCreateFlagBits.md">ivirtex-github</a><br>
<br></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="https://vkdoc.net/man/VkGraphicsPipelineCreateInfo">https://vkdoc.net/man/VkGraphicsPipelineCreateInfo</a></p>
<ul>
<li>
<p><code>.sType</code> ğŸŸª <code>VK_STRUCTURE_TYPE_GRAPHICS_PIPELINE_CREATE_INFO</code></p>
</li>
<li>
<p><code>.pNext</code> ğŸª <code>nullptr</code></p>
</li>
<li>
<p><code>.flags</code> ğŸ³ï¸ <code>VkBufferCreateFlagBits</code></p>
<ul>
<li><a href="https://vkdoc.net/man/VkBufferCreateFlagBits">https://vkdoc.net/man/VkBufferCreateFlagBits</a> | <a href="https://github.com/ivirtex/vulkan-hover-docs/tree/master/vscode_ext/vulkan_man_md_pages/VkBufferCreateFlagBits.md">ivirtex-github</a>
<ul>
<li><code>SPARSE</code> ğŸŸ¨ <strong>ChapterZZZ</strong></li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>.pSwapchains</code> ğŸŸªğŸ’â€â™€ï¸</p>
</li>
<li>
<p><code>.pNext</code> ğŸª <code>nullptr</code></p>
<ul>
<li>ğŸª <code>VkDeviceGroupCommandBufferBeginInfo</code></li>
<li>ğŸª Maybe some interesting extensions, idk</li>
</ul>
</li>
<li>
<p><code>.flags</code> ğŸ”  <code>VkCommandBufferUsageFlagBits</code></p>
<ul>
<li><a href="https://vkdoc.net/man/VkCommandBufferUsageFlagBits">https://vkdoc.net/man/VkCommandBufferUsageFlagBits</a> | <a href="https://github.com/ivirtex/vulkan-hover-docs/tree/master/vscode_ext/vulkan_man_md_pages/VkCommandBufferUsageFlagBits.md">ivirtex-github</a>
<ul>
<li>ğŸ”  <code>ONE_TIME_SUBMIT</code></li>
<li>ğŸ”  <code>RENDER_PASS_CONTINUE</code> [secondary command buffer]</li>
<li>ğŸ”  <code>SIMULTANEOUS_USE</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<h5>Extra Emojis</h5>
<p>ğŸ“ŸğŸ“‡<br>
ğŸšï¸ğŸŒğŸ³ï¸<br>
ğŸ”ŒğŸš€<br>
ğŸš«ğŸ“œ<br>
âš ï¸ğŸ§“<br>
â˜¢ï¸ğŸ§¨<br>
â˜¢ï¸ğŸ’€<br>
âš ï¸ğŸšï¸</p>
</li>
<li>
<h5>Number BLocks</h5>
<p>1ï¸âƒ£<br>
2ï¸âƒ£<br>
3ï¸âƒ£<br>
4ï¸âƒ£<br>
5ï¸âƒ£<br>
6ï¸âƒ£<br>
7ï¸âƒ£<br>
8ï¸âƒ£<br>
9ï¸âƒ£<br>
ğŸ”Ÿ<br>
1ï¸âƒ£1ï¸âƒ£<br>
1ï¸âƒ£2ï¸âƒ£<br>
1ï¸âƒ£3ï¸âƒ£<br>
1ï¸âƒ£4ï¸âƒ£<br>
1ï¸âƒ£5ï¸âƒ£<br>
1ï¸âƒ£6ï¸âƒ£<br>
1ï¸âƒ£7ï¸âƒ£<br>
1ï¸âƒ£8ï¸âƒ£<br>
1ï¸âƒ£9ï¸âƒ£<br>
2ï¸âƒ£0ï¸âƒ£</p>
</li>
<li>
<h5>Possible Function Naming Verbs-Emojis</h5>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token number">1.</span> query_SurfCap ğŸ•µï¸â™‚ï¸
<span class="token number">2.</span> update_SurfCap ğŸ”„
<span class="token number">3.</span> load_SurfCap ğŸ“¥
<span class="token number">4.</span> acquire_SurfCap ğŸ”—
<span class="token number">5.</span> get_SurfCap ğŸ“¤
<span class="token number">6.</span> grab_SurfCap	ğŸ‘
<span class="token number">7.</span> snag_SurfCap	ğŸ£ <span class="token punctuation">(</span>Quick pull<span class="token punctuation">)</span>
<span class="token number">8.</span> pluck_SurfCap	âœ‚ï¸ <span class="token punctuation">(</span>Precision<span class="token punctuation">)</span>
<span class="token number">9.</span> selected_gpu_surfCap	ğŸ¯ <span class="token punctuation">(</span>Targeted<span class="token punctuation">)</span>	Emphasizes the GPU_Index selection<span class="token punctuation">.</span>
<span class="token number">10.</span> current_surfCap	â³ <span class="token punctuation">(</span>Stateful<span class="token punctuation">)</span>
<span class="token number">11.</span> yoink_SurfCap	ğŸ¦„ <span class="token punctuation">(</span>Playful<span class="token punctuation">)</span>	VkSurfaceCapabilitiesKHR<span class="token operator">*</span> cap <span class="token operator">=</span> <span class="token function">yoink_SurfCap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">12.</span> procure_SurfCap	ğŸ•´ï¸ <span class="token punctuation">(</span>Formal<span class="token punctuation">)</span>	<span class="token function">procure_SurfCap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> â†’ Sounds like a business transaction<span class="token operator">!</span>
<span class="token number">13.</span> obtain_SurfCap	ğŸ† <span class="token punctuation">(</span>Success<span class="token punctuation">)</span>
<span class="token number">14.</span> collect_SurfCap	ğŸ“š <span class="token punctuation">(</span>Gathering<span class="token punctuation">)</span>
<span class="token number">15.</span> retrieve_SurfCap	ğŸ¯ <span class="token punctuation">(</span>Accuracy<span class="token punctuation">)</span>
<span class="token number">16.</span> sync_SurfCap	ğŸ”„ <span class="token punctuation">(</span>Sync State<span class="token punctuation">)</span>
<span class="token number">17.</span> pull_SurfCap	ğŸª¢ <span class="token punctuation">(</span>Tug<span class="token operator">-</span>of<span class="token operator">-</span>war<span class="token punctuation">)</span>
<span class="token number">18.</span> refresh_SurfCap	ğŸ’« <span class="token punctuation">(</span>Update<span class="token punctuation">)</span>
<span class="token number">19.</span> reload_SurfCap	â™»ï¸ <span class="token punctuation">(</span>Reload<span class="token punctuation">)</span>
<span class="token number">20.</span> populate_SurfCap	ğŸŒ± <span class="token punctuation">(</span>Fill Data<span class="token punctuation">)</span>
<span class="token number">21.</span> enumerate_SurfCap	ğŸ“‡ <span class="token punctuation">(</span>Listing<span class="token punctuation">)</span>
<span class="token number">22.</span> summon_SurfCap	ğŸ§™â™‚ï¸ <span class="token punctuation">(</span>Magic<span class="token punctuation">)</span>
<span class="token number">23.</span> harvest_SurfCap	ğŸŒ¾ <span class="token punctuation">(</span>Farm<span class="token punctuation">)</span>
<span class="token number">24.</span> fish_SurfCap	ğŸ£ <span class="token punctuation">(</span>Fishing<span class="token punctuation">)</span>
<span class="token number">25.</span> dial in	ğŸ›ï¸ <span class="token punctuation">(</span>Precision<span class="token punctuation">)</span>
<span class="token number">26.</span> shape up	ğŸŒŸ <span class="token punctuation">(</span>Polishing<span class="token punctuation">)</span>
<span class="token number">27.</span> rig	ğŸ› ï¸ <span class="token punctuation">(</span>Hacky<span class="token punctuation">)</span>
<span class="token number">28.</span> tailor	ğŸ‘— <span class="token punctuation">(</span>Custom<span class="token operator">-</span>fit<span class="token punctuation">)</span>
<span class="token number">29.</span> access_SurfCap ğŸ”
<span class="token number">30.</span> craft	ğŸ§™â™‚ï¸ <span class="token punctuation">(</span>Artisan<span class="token punctuation">)</span>
<span class="token number">31.</span> surfCap ğŸ“‹ <span class="token punctuation">(</span>property<span class="token operator">-</span>style<span class="token punctuation">)</span>
<span class="token number">32.</span> surfCap_ptr ğŸ¯ <span class="token punctuation">(</span><span class="token operator">or</span> surfCapRef<span class="token punctuation">)</span>
</code></pre></li>
<li>
<h5>Extra Emojis</h5>
<pre data-role="codeBlock" data-info="py" class="language-python py"><code><span class="token comment">#!/usr/bin/env python3</span>
<span class="token comment"># ğŸ® Ultimate Vulkan Emoji Guide (1-35)</span>

vulkan_steps <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token comment"># Core Setup (Original 1-5)</span>
    <span class="token string">"1. ğŸŒ Instance Creation"</span><span class="token punctuation">,</span>
    <span class="token string">"2. ğŸ–¥ï¸ Physical Device Selection"</span><span class="token punctuation">,</span>
    <span class="token string">"3. âš™ï¸ Logical Device Setup"</span><span class="token punctuation">,</span>
    <span class="token string">"4. ğŸ¨ Graphics Pipeline"</span><span class="token punctuation">,</span>
    <span class="token string">"5. ğŸ–¼ï¸ SwapChain Initialization"</span><span class="token punctuation">,</span>

    <span class="token comment"># Resource Management (Original 6-10)</span>
    <span class="token string">"6. ğŸ—„ï¸ Buffer Allocation"</span><span class="token punctuation">,</span>
    <span class="token string">"7. ğŸ§  Memory Binding"</span><span class="token punctuation">,</span>
    <span class="token string">"8. ğŸ–Œï¸ Descriptor Sets"</span><span class="token punctuation">,</span>
    <span class="token string">"9. ğŸ“¦ Image Creation"</span><span class="token punctuation">,</span>
    <span class="token string">"10. ğŸ® Command Pools"</span><span class="token punctuation">,</span>

    <span class="token comment"># Execution Flow (Original 11-12)</span>
    <span class="token string">"11. ğŸ“œ Command Buffers"</span><span class="token punctuation">,</span>
    <span class="token string">"12. â±ï¸ Synchronization"</span><span class="token punctuation">,</span>

    <span class="token comment"># Debugging (Original 13-14)</span>
    <span class="token string">"13. ğŸ” Validation Layers"</span><span class="token punctuation">,</span>
    <span class="token string">"14. ğŸ› Debug Messenger"</span><span class="token punctuation">,</span>

    <span class="token comment"># Advanced Features (Original 15-17)</span>
    <span class="token string">"15. ğŸŒŒ Ray Tracing"</span><span class="token punctuation">,</span>
    <span class="token string">"16. ğŸ¤– Compute Pipeline"</span><span class="token punctuation">,</span>
    <span class="token string">"17. ğŸ§µ Multi-Threading"</span><span class="token punctuation">,</span>

    <span class="token comment"># Cleanup (Original 18-20)</span>
    <span class="token string">"18. ğŸ§¹ Resource Destruction"</span><span class="token punctuation">,</span>
    <span class="token string">"19. ğŸ’¥ Device Cleanup"</span><span class="token punctuation">,</span>
    <span class="token string">"20. ğŸš€ Instance Shutdown"</span><span class="token punctuation">,</span>

    <span class="token comment"># New Additions (21-35)</span>
    <span class="token string">"21. ğŸ§Š Device Memory"</span><span class="token punctuation">,</span>
    <span class="token string">"22. ğŸ”„ Memory Barriers"</span><span class="token punctuation">,</span>
    <span class="token string">"23. ğŸ“Š Buffer Views"</span><span class="token punctuation">,</span>
    <span class="token string">"24. ğŸ›ï¸ Pipeline Layout"</span><span class="token punctuation">,</span>
    <span class="token string">"25. ğŸ”® Shader Modules"</span><span class="token punctuation">,</span>
    <span class="token string">"26. ğŸ§© Pipeline Cache"</span><span class="token punctuation">,</span>
    <span class="token string">"27. ğŸ† Render Passes"</span><span class="token punctuation">,</span>
    <span class="token string">"28. ğŸ–Œï¸ Dynamic Rendering"</span><span class="token punctuation">,</span>
    <span class="token string">"29. ğŸŒ Multi-View Rendering"</span><span class="token punctuation">,</span>
    <span class="token string">"30. â³ Timeline Semaphores"</span><span class="token punctuation">,</span>
    <span class="token string">"31. ğŸš¦ Fences"</span><span class="token punctuation">,</span>
    <span class="token string">"32. ğŸ“¡ Debug Markers"</span><span class="token punctuation">,</span>
    <span class="token string">"33. ğŸ“ˆ Performance Queries"</span><span class="token punctuation">,</span>
    <span class="token string">"34. ğŸŒ€ Compute Dispatches"</span><span class="token punctuation">,</span>
    <span class="token string">"35. ğŸš€ Acceleration Structures"</span>
<span class="token punctuation">]</span>
</code></pre><pre data-role="codeBlock" data-info="py" class="language-python py"><code><span class="token comment">#!/usr/bin/env python3</span>
<span class="token comment"># ğŸ† Ultimate Vulkan Emoji Cheatsheet (50+ Concepts)</span>

vulkan_concepts <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment"># === Core Setup ===</span>
    <span class="token string">"ğŸŒ"</span><span class="token punctuation">:</span> <span class="token string">"Instance Creation (vkCreateInstance)"</span><span class="token punctuation">,</span>
    <span class="token string">"ğŸ–¥ï¸"</span><span class="token punctuation">:</span> <span class="token string">"Physical Device Selection (vkEnumeratePhysicalDevices)"</span><span class="token punctuation">,</span>
    <span class="token string">"âš™ï¸"</span><span class="token punctuation">:</span> <span class="token string">"Logical Device (vkCreateDevice)"</span><span class="token punctuation">,</span>
    <span class="token string">"ğŸ“œ"</span><span class="token punctuation">:</span> <span class="token string">"Extensions/Layers (ppEnabledExtensionNames)"</span><span class="token punctuation">,</span>
    
    <span class="token comment"># === Resources ===</span>
    <span class="token string">"ğŸ—„ï¸"</span><span class="token punctuation">:</span> <span class="token string">"Buffers (vkCreateBuffer)"</span><span class="token punctuation">,</span>
    <span class="token string">"ğŸ§Š"</span><span class="token punctuation">:</span> <span class="token string">"Device Memory (vkAllocateMemory)"</span><span class="token punctuation">,</span>
    <span class="token string">"ğŸ“¦"</span><span class="token punctuation">:</span> <span class="token string">"Images (vkCreateImage)"</span><span class="token punctuation">,</span>
    <span class="token string">"ğŸ”„"</span><span class="token punctuation">:</span> <span class="token string">"Memory Barriers (vkCmdPipelineBarrier)"</span><span class="token punctuation">,</span>
    <span class="token string">"ğŸ§¶"</span><span class="token punctuation">:</span> <span class="token string">"Image Views (vkCreateImageView)"</span><span class="token punctuation">,</span>
    <span class="token string">"ğŸ§©"</span><span class="token punctuation">:</span> <span class="token string">"Sparse Resources (VkSparseImageMemoryBind)"</span><span class="token punctuation">,</span>
    
    <span class="token comment"># === Pipeline ===</span>
    <span class="token string">"ğŸ¨"</span><span class="token punctuation">:</span> <span class="token string">"Graphics Pipeline (vkCreateGraphicsPipelines)"</span><span class="token punctuation">,</span>
    <span class="token string">"ğŸ¤–"</span><span class="token punctuation">:</span> <span class="token string">"Compute Pipeline (vkCreateComputePipelines)"</span><span class="token punctuation">,</span>
    <span class="token string">"ğŸ”®"</span><span class="token punctuation">:</span> <span class="token string">"Shader Modules (vkCreateShaderModule)"</span><span class="token punctuation">,</span>
    <span class="token string">"ğŸ›ï¸"</span><span class="token punctuation">:</span> <span class="token string">"Pipeline Layout (vkCreatePipelineLayout)"</span><span class="token punctuation">,</span>
    <span class="token string">"ğŸ§ª"</span><span class="token punctuation">:</span> <span class="token string">"Pipeline Cache (vkCreatePipelineCache)"</span><span class="token punctuation">,</span>
    
    <span class="token comment"># === Descriptors ===</span>
    <span class="token string">"ğŸ–Œï¸"</span><span class="token punctuation">:</span> <span class="token string">"Descriptor Sets (vkAllocateDescriptorSets)"</span><span class="token punctuation">,</span>
    <span class="token string">"ğŸ“‡"</span><span class="token punctuation">:</span> <span class="token string">"Descriptor Pool (vkCreateDescriptorPool)"</span><span class="token punctuation">,</span>
    <span class="token string">"ğŸ“Š"</span><span class="token punctuation">:</span> <span class="token string">"Descriptor Set Layout (vkCreateDescriptorSetLayout)"</span><span class="token punctuation">,</span>
    
    <span class="token comment"># === Rendering ===</span>
    <span class="token string">"ğŸ†"</span><span class="token punctuation">:</span> <span class="token string">"Render Passes (vkCreateRenderPass)"</span><span class="token punctuation">,</span>
    <span class="token string">"ğŸ–¼ï¸"</span><span class="token punctuation">:</span> <span class="token string">"Framebuffers (vkCreateFramebuffer)"</span><span class="token punctuation">,</span>
    <span class="token string">"ğŸšï¸"</span><span class="token punctuation">:</span> <span class="token string">"Dynamic Rendering (VK_KHR_dynamic_rendering)"</span><span class="token punctuation">,</span>
    <span class="token string">"ğŸ‘ï¸"</span><span class="token punctuation">:</span> <span class="token string">"Multi-View (VK_KHR_multiview)"</span><span class="token punctuation">,</span>
    
    <span class="token comment"># === Commands ===</span>
    <span class="token string">"ğŸ®"</span><span class="token punctuation">:</span> <span class="token string">"Command Pools (vkCreateCommandPool)"</span><span class="token punctuation">,</span>
    <span class="token string">"ğŸ“œ"</span><span class="token punctuation">:</span> <span class="token string">"Command Buffers (vkAllocateCommandBuffers)"</span><span class="token punctuation">,</span>
    <span class="token string">"â±ï¸"</span><span class="token punctuation">:</span> <span class="token string">"Queue Submission (vkQueueSubmit)"</span><span class="token punctuation">,</span>
    
    <span class="token comment"># === Synchronization ===</span>
    <span class="token string">"ğŸš¦"</span><span class="token punctuation">:</span> <span class="token string">"Fences (vkCreateFence)"</span><span class="token punctuation">,</span>
    <span class="token string">"â³"</span><span class="token punctuation">:</span> <span class="token string">"Timeline Semaphores (VK_KHR_timeline_semaphore)"</span><span class="token punctuation">,</span>
    <span class="token string">"ğŸ¤"</span><span class="token punctuation">:</span> <span class="token string">"Events (vkCreateEvent)"</span><span class="token punctuation">,</span>
    
    <span class="token comment"># === Advanced ===</span>
    <span class="token string">"ğŸŒŒ"</span><span class="token punctuation">:</span> <span class="token string">"Ray Tracing (VK_KHR_ray_tracing_pipeline)"</span><span class="token punctuation">,</span>
    <span class="token string">"ğŸš€"</span><span class="token punctuation">:</span> <span class="token string">"Acceleration Structures (vkCreateAccelerationStructureKHR)"</span><span class="token punctuation">,</span>
    <span class="token string">"ğŸŒ€"</span><span class="token punctuation">:</span> <span class="token string">"Mesh Shading (VK_EXT_mesh_shader)"</span><span class="token punctuation">,</span>
    <span class="token string">"ğŸ’«"</span><span class="token punctuation">:</span> <span class="token string">"Task Shaders (VK_EXT_mesh_shader)"</span><span class="token punctuation">,</span>
    
    <span class="token comment"># === Debugging ===</span>
    <span class="token string">"ğŸ”"</span><span class="token punctuation">:</span> <span class="token string">"Validation Layers (VK_LAYER_KHRONOS_validation)"</span><span class="token punctuation">,</span>
    <span class="token string">"ğŸ›"</span><span class="token punctuation">:</span> <span class="token string">"Debug Utils (vkCreateDebugUtilsMessengerEXT)"</span><span class="token punctuation">,</span>
    <span class="token string">"ğŸ“¡"</span><span class="token punctuation">:</span> <span class="token string">"Debug Markers (vkCmdDebugMarkerBeginEXT)"</span><span class="token punctuation">,</span>
    <span class="token string">"ğŸ“ˆ"</span><span class="token punctuation">:</span> <span class="token string">"Performance Queries (VK_QUERY_TYPE_PERFORMANCE_QUERY_KHR)"</span><span class="token punctuation">,</span>
    
    <span class="token comment"># === Cleanup ===</span>
    <span class="token string">"ğŸ§¹"</span><span class="token punctuation">:</span> <span class="token string">"Resource Destruction (vkDestroy*)"</span><span class="token punctuation">,</span>
    <span class="token string">"ğŸ’¥"</span><span class="token punctuation">:</span> <span class="token string">"Device Cleanup (vkDestroyDevice)"</span><span class="token punctuation">,</span>
    <span class="token string">"ğŸš€"</span><span class="token punctuation">:</span> <span class="token string">"Instance Shutdown (vkDestroyInstance)"</span><span class="token punctuation">,</span>
    
    <span class="token comment"># === New Additions ===</span>
    <span class="token string">"ğŸ”„"</span><span class="token punctuation">:</span> <span class="token string">"Push Constants (vkCmdPushConstants)"</span><span class="token punctuation">,</span>
    <span class="token string">"ğŸšï¸"</span><span class="token punctuation">:</span> <span class="token string">"Dynamic States (VkPipelineDynamicStateCreateInfo)"</span><span class="token punctuation">,</span>
    <span class="token string">"ğŸ§ "</span><span class="token punctuation">:</span> <span class="token string">"Pipeline Derivatives (VK_PIPELINE_CREATE_DERIVATIVE_BIT)"</span><span class="token punctuation">,</span>
    <span class="token string">"ğŸ“Œ"</span><span class="token punctuation">:</span> <span class="token string">"Specialization Constants (VkSpecializationInfo)"</span><span class="token punctuation">,</span>
    <span class="token string">"ğŸŒ"</span><span class="token punctuation">:</span> <span class="token string">"External Memory (VK_KHR_external_memory)"</span><span class="token punctuation">,</span>
    <span class="token string">"ğŸ”—"</span><span class="token punctuation">:</span> <span class="token string">"Linked GPUs (VK_KHR_device_group)"</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="py" class="language-python py"><code><span class="token comment">#!/usr/bin/env python3</span>
<span class="token comment"># ğŸ† Ultimate Vulkan Cheatsheet (70+ Concepts) ğŸ†</span>

vulkan_steps <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token comment"># === Core Setup (1-8) ===</span>
    <span class="token string">"1. ğŸŒ Instance Creation"</span><span class="token punctuation">,</span>
    <span class="token string">"2. ğŸ–¥ï¸ Physical Device Selection"</span><span class="token punctuation">,</span>
    <span class="token string">"3. âš™ï¸ Logical Device Setup"</span><span class="token punctuation">,</span>
    <span class="token string">"4. ğŸ”Œ Device Features"</span><span class="token punctuation">,</span>
    <span class="token string">"5. ğŸ“œ Extensions/Layers"</span><span class="token punctuation">,</span>
    <span class="token string">"6. ğŸ–¼ï¸ SwapChain Initialization"</span><span class="token punctuation">,</span>
    <span class="token string">"7. ğŸŒ Surface Creation"</span><span class="token punctuation">,</span>
    <span class="token string">"8. ğŸ§­ Queue Families"</span><span class="token punctuation">,</span>

    <span class="token comment"># === Resources (9-24) ===</span>
    <span class="token string">"9. ğŸ—„ï¸ Buffer Allocation"</span><span class="token punctuation">,</span>
    <span class="token string">"10. ğŸ§Š Device Memory"</span><span class="token punctuation">,</span>
    <span class="token string">"11. ğŸ“¦ Image Creation"</span><span class="token punctuation">,</span>
    <span class="token string">"12. ğŸ§¶ Image Views"</span><span class="token punctuation">,</span>
    <span class="token string">"13. ğŸ”„ Memory Barriers"</span><span class="token punctuation">,</span>
    <span class="token string">"14. ğŸ§© Sparse Resources"</span><span class="token punctuation">,</span>
    <span class="token string">"15. ğŸ“Š Buffer Views"</span><span class="token punctuation">,</span>
    <span class="token string">"16. ğŸ§µ Host-Coherent Memory"</span><span class="token punctuation">,</span>
    <span class="token string">"17. ğŸšš Memory Transfers"</span><span class="token punctuation">,</span>
    <span class="token string">"18. ğŸ§  Staging Buffers"</span><span class="token punctuation">,</span>
    <span class="token string">"19. ğŸ”— External Memory"</span><span class="token punctuation">,</span>
    <span class="token string">"20. ğŸ§¿ Protected Memory"</span><span class="token punctuation">,</span>
    <span class="token string">"21. ğŸ’¿ Buffer Device Address"</span><span class="token punctuation">,</span>
    <span class="token string">"22. ğŸ·ï¸ Resource Naming"</span><span class="token punctuation">,</span>
    <span class="token string">"23. ğŸ“ Memory Requirements"</span><span class="token punctuation">,</span>
    <span class="token string">"24. ğŸ§‘â€ğŸ”§ Memory Budget"</span><span class="token punctuation">,</span>

    <span class="token comment"># === Pipeline (25-40) ===</span>
    <span class="token string">"25. ğŸ¨ Graphics Pipeline"</span><span class="token punctuation">,</span>
    <span class="token string">"26. ğŸ¤– Compute Pipeline"</span><span class="token punctuation">,</span>
    <span class="token string">"27. ğŸ”® Shader Modules"</span><span class="token punctuation">,</span>
    <span class="token string">"28. ğŸ›ï¸ Pipeline Layout"</span><span class="token punctuation">,</span>
    <span class="token string">"29. ğŸ§ª Pipeline Cache"</span><span class="token punctuation">,</span>
    <span class="token string">"30. ğŸ”„ Push Constants"</span><span class="token punctuation">,</span>
    <span class="token string">"31. ğŸšï¸ Dynamic States"</span><span class="token punctuation">,</span>
    <span class="token string">"32. ğŸ“Œ Specialization Constants"</span><span class="token punctuation">,</span>
    <span class="token string">"33. ğŸ§  Pipeline Derivatives"</span><span class="token punctuation">,</span>
    <span class="token string">"34. ğŸ’¾ Pipeline Libraries"</span><span class="token punctuation">,</span>
    <span class="token string">"35. ğŸŒ€ Tessellation"</span><span class="token punctuation">,</span>
    <span class="token string">"36. ğŸ’« Geometry Shaders"</span><span class="token punctuation">,</span>
    <span class="token string">"37. ğŸ§ª Subpasses"</span><span class="token punctuation">,</span>
    <span class="token string">"38. âœ‚ï¸ Depth/Stencil"</span><span class="token punctuation">,</span>
    <span class="token string">"39. ğŸŒˆ Blend States"</span><span class="token punctuation">,</span>
    <span class="token string">"40. ğŸ§µ Multiview Rendering"</span><span class="token punctuation">,</span>

    <span class="token comment"># === Commands (41-50) ===</span>
    <span class="token string">"41. ğŸ® Command Pools"</span><span class="token punctuation">,</span>
    <span class="token string">"42. ğŸ“œ Command Buffers"</span><span class="token punctuation">,</span>
    <span class="token string">"43. â±ï¸ Queue Submission"</span><span class="token punctuation">,</span>
    <span class="token string">"44. ğŸ” Secondary Command Buffers"</span><span class="token punctuation">,</span>
    <span class="token string">"45. ğŸ§‘â€ğŸ³ Indirect Commands"</span><span class="token punctuation">,</span>
    <span class="token string">"46. ğŸ›ï¸ Device Groups"</span><span class="token punctuation">,</span>
    <span class="token string">"47. ğŸ¤ Queue Priorities"</span><span class="token punctuation">,</span>
    <span class="token string">"48. â³ Timeline Semaphores"</span><span class="token punctuation">,</span>
    <span class="token string">"49. ğŸš¦ Fences"</span><span class="token punctuation">,</span>
    <span class="token string">"50. ğŸ¤ Events"</span><span class="token punctuation">,</span>

    <span class="token comment"># === Advanced (51-70) ===</span>
    <span class="token string">"51. ğŸŒŒ Ray Tracing"</span><span class="token punctuation">,</span>
    <span class="token string">"52. ğŸš€ Acceleration Structures"</span><span class="token punctuation">,</span>
    <span class="token string">"53. ğŸŒ€ Mesh Shading"</span><span class="token punctuation">,</span>
    <span class="token string">"54. ğŸ’« Task Shading"</span><span class="token punctuation">,</span>
    <span class="token string">"55. ğŸ“¡ Debug Markers"</span><span class="token punctuation">,</span>
    <span class="token string">"56. ğŸ“ˆ Performance Queries"</span><span class="token punctuation">,</span>
    <span class="token string">"57. ğŸ•µï¸â€â™€ï¸ Object Tracking"</span><span class="token punctuation">,</span>
    <span class="token string">"58. ğŸ§© Bindless Resources"</span><span class="token punctuation">,</span>
    <span class="token string">"59. ğŸš§ Pipeline Barriers"</span><span class="token punctuation">,</span>
    <span class="token string">"60. ğŸ’¾ Pipeline Statistics"</span><span class="token punctuation">,</span>
    <span class="token string">"61. ğŸŒ External Semaphores"</span><span class="token punctuation">,</span>
    <span class="token string">"62. ğŸ”„ Present Modes"</span><span class="token punctuation">,</span>
    <span class="token string">"63. ğŸ–Œï¸ Dynamic Rendering"</span><span class="token punctuation">,</span>
    <span class="token string">"64. ğŸ§¶ Fragment Density Maps"</span><span class="token punctuation">,</span>
    <span class="token string">"65. ğŸŒ€ Variable Rate Shading"</span><span class="token punctuation">,</span>
    <span class="token string">"66. ğŸ§¿ Protected Swapchains"</span><span class="token punctuation">,</span>
    <span class="token string">"67. ğŸ“œ Shader Printf"</span><span class="token punctuation">,</span>
    <span class="token string">"68. ğŸ§ª Pipeline Robusness"</span><span class="token punctuation">,</span>
    <span class="token string">"69. ğŸ›¡ï¸ Validation Features"</span><span class="token punctuation">,</span>
    <span class="token string">"70. ğŸ§¹ Resource Cleanup"</span>
<span class="token punctuation">]</span>
</code></pre></li>
</ol>
<p>-- | -- | -- | ----------------------------------------------------------------------------</p>
<br>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<br>
<h1 id="chapter-4-vkswapchainkhr-">Chapter 4: <code>VkSwapchainKHR</code> ğŸªŸ </h1>
<h2 id="0-vkswapchaincreateinfokhr-iï¸">0. <code>VkSwapchainCreateInfoKHR</code> â„¹ï¸ </h2>
<ul>
<li><a href="https://vkdoc.net/man/VkSwapchainCreateInfoKHR">https://vkdoc.net/man/VkSwapchainCreateInfoKHR</a>
<ul>
<li><code>.sType</code> ğŸŸª <code>VK_STRUCTURE_TYPE_SWAPCHAIN_CREATE_INFO</code></li>
<li><code>.pNext</code> ğŸª <code>nullptr</code></li>
<li><code>.flags</code> ğŸ³ï¸ <strong>ChapterZZZ</strong></li>
<li><code>.surface</code> ğŸ„â€â™€ï¸ <strong><em>Chapter4.2</em></strong></li>
<li>ğŸ–¼ï¸ Image options ğŸ”— <strong><em>Chapter4.4</em></strong>
<ul>
<li><code>.minImageCount</code></li>
<li><code>.imageFormat</code> ğŸ¤­</li>
<li><code>.imageColorSpace</code> ğŸ¤­</li>
<li><code>.imageExtent</code> ğŸ˜Š</li>
<li><code>.imageArrayLayers</code></li>
<li><code>.imageUsage</code></li>
<li><code>.imageSharingMode</code> ğŸŸª <code>EXCLUSIVE/CONCURRENT</code> [Toggle]</li>
</ul>
</li>
<li><code>VK_SHARING_MODE_CONCURRENT</code> ğŸŸ¨ <strong>ChapterZZZ</strong>
<ul>
<li><code>.queueFamilyIndexCount</code> --&gt; if using, must be <code>greated than 1</code></li>
<li><code>.pQueueFamilyIndices</code> --&gt; These two are used only if <code>.imageSharingMode = CONCURRENT</code> iguess</li>
</ul>
</li>
<li>ğŸ§™â€â™‚ï¸ Compositing Options ğŸ”— <strong><em>Chapter4.5</em></strong>
<ul>
<li><code>.preTransform</code>:- <code>VkSurfaceTransformFlagBitsKHR</code></li>
<li><code>.compositeAlpha</code>:- <code>VkCompositeAlphaFlagBitsKHR</code></li>
<li><code>.presentMode</code>:- <code>VkPresentModeKHR</code></li>
<li><code>.clipped</code>:- <code>VkBool32</code></li>
</ul>
</li>
<li><code>.oldSwapchain</code> ğŸŸ¨ <strong>ChapterZZZ</strong>
<ul>
<li>ğŸŸ¨ SwapchainReCration</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="1-amvk-wrap--part-i">1. <code>amVK</code> wrap ğŸŒ¯ Part I </h2>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"amGHOST_VkSurfaceKHR.hh"</span></span>

        <span class="token comment">// TwT</span>
        <span class="token function">REY_LOG</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    amVK_Instance<span class="token double-colon punctuation">::</span><span class="token function">EnumerateInstanceExtensions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    amVK_Instance<span class="token double-colon punctuation">::</span><span class="token function">addTo_1D_Instance_EXTs_Enabled</span><span class="token punctuation">(</span><span class="token string">"VK_KHR_surface"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    amVK_Instance<span class="token double-colon punctuation">::</span><span class="token function">addTo_1D_Instance_EXTs_Enabled</span><span class="token punctuation">(</span>amGHOST_System<span class="token double-colon punctuation">::</span><span class="token function">get_vulkan_os_surface_ext_name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// amGHOST_VkSurfaceKHR::create_surface() needs that extension enabled</span>
    amVK_Instance<span class="token double-colon punctuation">::</span><span class="token function">CreateInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">REY_LOG</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    VkSurfaceKHR  VK_S <span class="token operator">=</span> amGHOST_VkSurfaceKHR<span class="token double-colon punctuation">::</span><span class="token function">create_surface</span><span class="token punctuation">(</span>W<span class="token punctuation">,</span> amVK_Instance<span class="token double-colon punctuation">::</span>vk_Instance<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// another ğŸŒ¯ amVK_Wrap, at the end of this file</span>
</code></pre><div class="REY_NOSHOW_PDF">
<hr>
<div align="center" style="font-size: 50px; font-family: 'Iosevka Curly'; ">Page-Break</div>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<h1 id="2-vksurfacekhr-ï¸">2. <code>VkSurfaceKHR</code> ğŸ„â€â™€ï¸ </h1>
<div class="REY_IMG_CONTAINER" align="center">
<h3 id="part-i--enabling-vk_khr_surface-vulkan-extension">Part I:- Enabling <code>VK_KHR_surface</code> Vulkan Extension </h3>
<p><a href="https://vkdoc.net/man/VkSurfaceKHR">https://vkdoc.net/man/VkSurfaceKHR</a><br>
<a href="https://vkdoc.net/extensions/VK_KHR_surface">https://vkdoc.net/extensions/VK_KHR_surface</a><br>
Yaaaay, we have reached our first extension to enable<br>
we need to enable it back in <code>vkCreateInstance()</code> from ğŸ”— <strong><em>Chapter1.2</em></strong></p>
</div>
<ol>
<li>
<h4>ğŸ“œ <code>vkEnumerateInstanceExtensionProperties()</code></h4>
<ul>
<li><a href="https://vkdoc.net/man/vkEnumerateInstanceExtensionProperties">https://vkdoc.net/man/vkEnumerateInstanceExtensionProperties</a></li>
<li>ğŸ“‹ğŸ”„ <strong><em>Chapter2.1</em></strong>
<ul>
<li>This symbol/emoji means <em>"Implement Exactly like in <strong><em>Chapter2.1</em></strong> ğŸ˜‰"</em></li>
</ul>
</li>
</ul>
</li>
<li>
<h4>ğŸ§Š <code>IS_InstanceEXT_Available(const char* extName)</code></h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-bool">bool</span> amVK_InstanceProps<span class="token double-colon punctuation">::</span><span class="token function">IS_InstanceEXT_Available</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-char">char</span> <span class="token operator">*</span>extName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-uint32_t">uint32_t</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> lim <span class="token operator">=</span> amVK_EXT_PROPs<span class="token punctuation">.</span>n<span class="token punctuation">;</span> k <span class="token operator">&lt;</span> lim<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token function">strcmp</span><span class="token punctuation">(</span>amVK_EXT_PROPs<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">.</span>extensionName<span class="token punctuation">,</span> extName<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// &lt;cstring&gt;</span>
            <span class="token keyword keyword-return">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-return">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></li>
<li>
<h4>ğŸ§Š <code>Add_InstanceEXT_ToEnable(const char* extName)</code></h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-static">static</span> <span class="token keyword keyword-inline">inline</span> REY_ArrayDYN<span class="token operator">&lt;</span><span class="token keyword keyword-char">char</span><span class="token operator">*</span><span class="token operator">&gt;</span> s_Enabled_EXTs <span class="token operator">=</span> <span class="token generic-function"><span class="token function">REY_ArrayDYN</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-char">char</span><span class="token operator">*</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// It will be automatically allocated, resize, as we keep adding ğŸ˜Š</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span></span>
<span class="token keyword keyword-void">void</span> amVK_Instance<span class="token double-colon punctuation">::</span><span class="token function">Add_InstanceEXT_ToEnable</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-char">char</span><span class="token operator">*</span> extName<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>amVK_InstanceProps<span class="token double-colon punctuation">::</span>called_EnumerateInstanceExtensions<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         amVK_InstanceProps<span class="token double-colon punctuation">::</span><span class="token function">EnumerateInstanceExtensions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>amVK_InstanceProps<span class="token double-colon punctuation">::</span><span class="token function">IS_InstanceEXT_Available</span><span class="token punctuation">(</span>extName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-char">char</span>  <span class="token operator">*</span>dont_lose <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-char">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>extName<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token function">strcpy</span><span class="token punctuation">(</span>dont_lose<span class="token punctuation">,</span> extName<span class="token punctuation">)</span><span class="token punctuation">;</span>

        s_Enabled_EXTs<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>dont_lose<span class="token punctuation">)</span><span class="token punctuation">;</span>

        amVK_Instance<span class="token double-colon punctuation">::</span>CI<span class="token punctuation">.</span>enabledExtensionCount <span class="token operator">=</span> s_Enabled_EXTs<span class="token punctuation">.</span>neXt<span class="token punctuation">;</span>
        amVK_Instance<span class="token double-colon punctuation">::</span>CI<span class="token punctuation">.</span>ppEnabledExtensionNames <span class="token operator">=</span> s_Enabled_EXTs<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-else">else</span> <span class="token punctuation">{</span>
        <span class="token function">REY_LOG_notfound</span><span class="token punctuation">(</span><span class="token string">"Vulkan Extension:- "</span> <span class="token operator">&lt;&lt;</span> extName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <br>
 <br>
 <br>
 <br>
 <br>
</li>
</ol>
<h3 id="part-ii--os-specfic-surfaceext--creating-it">Part II:- OS Specfic SurfaceEXT &amp; Creating it </h3>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>amVK_Instance<span class="token double-colon punctuation">::</span><span class="token function">Add_InstanceEXT_ToEnable</span><span class="token punctuation">(</span>amGHOST_System<span class="token double-colon punctuation">::</span><span class="token function">get_vulkan_os_surface_ext_name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// or</span>
amVK_Instance<span class="token double-colon punctuation">::</span><span class="token function">Add_InstanceEXT_ToEnable</span><span class="token punctuation">(</span><span class="token string">"VK_KHR_win32_surface"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// or some other surface name</span>
</code></pre><ol>
<li><code>Win32SurfaceCI</code>
<ul>
<li><a href="https://vkdoc.net/man/VkWin32SurfaceCreateInfoKHR">https://vkdoc.net/man/VkWin32SurfaceCreateInfoKHR</a></li>
</ul>
</li>
<li><code>vkCreateWin32SurfaceKHR()</code>
<ul>
<li><a href="https://vkdoc.net/man/vkCreateWin32SurfaceKHR">https://vkdoc.net/man/vkCreateWin32SurfaceKHR</a></li>
</ul>
</li>
<li><code>&lt;/&gt; TheCode</code><pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>pure<span class="token operator">-</span><span class="token keyword keyword-virtual">virtual</span> VkSurfaceKHR amGHOST_VkSurfaceKHR_WIN32<span class="token double-colon punctuation">::</span><span class="token function">create</span><span class="token punctuation">(</span>VkInstance I<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    amGHOST_SystemWIN32 <span class="token operator">*</span>heart_win32 <span class="token operator">=</span> <span class="token punctuation">(</span>amGHOST_SystemWIN32 <span class="token operator">*</span><span class="token punctuation">)</span> amGHOST_System<span class="token double-colon punctuation">::</span>heart<span class="token punctuation">;</span>
    VkWin32SurfaceCreateInfoKHR CI <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token punctuation">.</span>sType <span class="token operator">=</span> VK_STRUCTURE_TYPE_WIN32_SURFACE_CREATE_INFO_KHR<span class="token punctuation">,</span>
        <span class="token punctuation">.</span>pNext <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
        <span class="token punctuation">.</span>flags <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token punctuation">.</span>hinstance <span class="token operator">=</span> heart_win32<span class="token operator">-&gt;</span>_hInstance<span class="token punctuation">,</span>
        <span class="token punctuation">.</span>hwnd <span class="token operator">=</span> <span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>W<span class="token operator">-&gt;</span>m_hwnd
            <span class="token comment">// W = amGHOST_WindowWIN32</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    VkSurfaceKHR S <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
    VkResult return_code <span class="token operator">=</span> <span class="token function">vkCreateWin32SurfaceKHR</span><span class="token punctuation">(</span>I<span class="token punctuation">,</span> <span class="token operator">&amp;</span>CI<span class="token punctuation">,</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>S<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">amVK_return_code_log</span><span class="token punctuation">(</span> <span class="token string">"vkCreateWin32SurfaceKHR()"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> S<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></li>
<li><code>VkXlibSurfaceCreateInfoKHR</code> &amp; <code>vkCreateXlibSurfaceKHR()</code> ğŸ› ï¸ [wip]</li>
<li>
<h5>ğŸ“œ REY_DOCs</h5>
<ul>
<li>you can also check <code>amGHOST_VkSurfaceKHR::create_surface()</code> ğŸ˜‰</li>
</ul>
</li>
<li>
<h5><code>ğŸ“½ï¸ So far, The result</code></h5>
<ul>
<li><a href="./examples/4.guide.chapter4.2.amGHOST.hh">4.guide.chapter4.2.amGHOST.hh</a></li>
<li>in the end people will just use 1 line<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>VkSurfaceKHR VK_S <span class="token operator">=</span> amGHOST_VkSurfaceKHR<span class="token double-colon punctuation">::</span><span class="token function">create_surface</span><span class="token punctuation">(</span>amG_WindowOBJ<span class="token punctuation">,</span> amVK_Instance<span class="token double-colon punctuation">::</span>s_vk<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></li>
</ul>
</li>
</ol>
<div class="REY_NOSHOW_PDF">
<hr>
<div align="center" style="font-size: 50px; font-family: 'Iosevka Curly'; ">Page-Break</div>
</div>
<div class="REY_PAGEBREAK     REY_PAGE_STARTS_WITH_H2"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<h2 id="3-naming-patterns-ï¸">3. <code>Naming Patterns</code> âœï¸ </h2>
<div class="REY_TITLE_SUB2" align="center">
<p>example naming patterns for storing all these data.... cz <em>it's gonna get overwhelming pretty soon, pretty fast</em></p>
</div>
<ol>
<li>
<h4><code>Arrays</code></h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">amVK_InstanceProps</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span><span class="token operator">:</span>
        <span class="token comment">// Array of `HardWare amVK_1D_GPUs` connected to motherboard</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-inline">inline</span> REY_Array<span class="token operator">&lt;</span>VkPhysicalDevice<span class="token operator">&gt;</span>                          amVK_1D_GPUs<span class="token punctuation">;</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-inline">inline</span> REY_Array<span class="token operator">&lt;</span>REY_Array<span class="token operator">&lt;</span>VkQueueFamilyProperties<span class="token operator">&gt;&gt;</span>        amVK_2D_GPUs_QFAMs<span class="token punctuation">;</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-inline">inline</span> REY_Array<span class="token operator">&lt;</span>VkExtensionProperties<span class="token operator">&gt;</span>                     amVK_1D_InstanceEXTs<span class="token punctuation">;</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-inline">inline</span> REY_ArrayDYN<span class="token operator">&lt;</span><span class="token keyword keyword-char">char</span><span class="token operator">*</span><span class="token operator">&gt;</span>                                  amVK_1D_InstanceEXTs_Enabled<span class="token punctuation">;</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-inline">inline</span> REY_ArrayDYN<span class="token operator">&lt;</span>SurfaceInfo<span class="token operator">&gt;</span>                            amVK_1D_SurfaceInfos<span class="token punctuation">;</span> <span class="token comment">// See Below</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-inline">inline</span> REY_Array<span class="token operator">&lt;</span>REY_Array<span class="token operator">&lt;</span>VkExtensionProperties<span class="token operator">&gt;&gt;</span>          amVK_2D_GPUs_EXTs<span class="token punctuation">;</span>
        <span class="token comment">// REY_Array  doesn't allocate any memory by default</span>

    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">amVK_LOOP_GPUs</span><span class="token expression"><span class="token punctuation">(</span>_var_<span class="token punctuation">)</span>           </span><span class="token punctuation">\</span>
        <span class="token expression"><span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-uint32_t">uint32_t</span> _var_ <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> lim <span class="token operator">=</span> amVK_1D_GPUs<span class="token punctuation">.</span>n<span class="token punctuation">;</span>             _var_ <span class="token operator">&lt;</span> lim<span class="token punctuation">;</span>  _var_<span class="token operator">++</span><span class="token punctuation">)</span></span></span>
    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">amVK_LOOP_QFAMs</span><span class="token expression"><span class="token punctuation">(</span>_k_<span class="token punctuation">,</span> _var_<span class="token punctuation">)</span>     </span><span class="token punctuation">\</span>
        <span class="token expression"><span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-uint32_t">uint32_t</span> _var_ <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> lim <span class="token operator">=</span> amVK_2D_GPUs_QFAMs<span class="token punctuation">[</span>_k_<span class="token punctuation">]</span><span class="token punctuation">.</span>n<span class="token punctuation">;</span>  _var_ <span class="token operator">&lt;</span> lim<span class="token punctuation">;</span>  _var_<span class="token operator">++</span><span class="token punctuation">)</span></span></span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></li>
<li>
<h4><code>ChildrenStructs</code></h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">amVK_InstanceProps</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-class">class</span> <span class="token class-name">SurfaceInfo</span> <span class="token punctuation">{</span>
      <span class="token keyword keyword-public">public</span><span class="token operator">:</span>
        VkSurfaceKHR S <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
        <span class="token function">SurfaceInfo</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token function">SurfaceInfo</span><span class="token punctuation">(</span>VkSurfaceKHR pS<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span> S <span class="token operator">=</span> pS<span class="token punctuation">;</span><span class="token punctuation">}</span>

                REY_Array<span class="token operator">&lt;</span>REY_Array<span class="token operator">&lt;</span>VkSurfaceFormatKHR<span class="token operator">&gt;&gt;</span>          amVK_2D_GPUs_ImageFMTs<span class="token punctuation">;</span>

        <span class="token keyword keyword-bool">bool</span> called_GetPhysicalDeviceSurfaceFormatsKHR <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-void">void</span>        <span class="token function">GetPhysicalDeviceSurfaceFormatsKHR</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// amVK_2D_GPUs_ImageFMTs</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></li>
<li>
<h4><code>VkFuncCalls</code></h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">amVK_InstanceProps</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-inline">inline</span> <span class="token keyword keyword-bool">bool</span> called_EnumeratePhysicalDevices <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-inline">inline</span> <span class="token keyword keyword-bool">bool</span> called_GetPhysicalDeviceQueueFamilyProperties <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-inline">inline</span> <span class="token keyword keyword-bool">bool</span> called_EnumerateInstanceExtensions <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">EnumeratePhysicalDevices</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                         <span class="token comment">// amVK_1D_GPUs</span>
    <span class="token keyword keyword-static">static</span>       <span class="token keyword keyword-void">void</span> <span class="token function">GetPhysicalDeviceQueueFamilyProperties</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// amVK_2D_GPUs_QFAMs</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">EnumerateInstanceExtensions</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                      <span class="token comment">// amVK_1D_InstanceEXTs</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></li>
</ol>
<ul>
<li>
<h4><code>ğŸ“œ REY_DOCs</code></h4>
<ul>
<li>Lots of other nice stuffs are happening inside <code>amVK_InstanceProps.hh</code></li>
</ul>
</li>
<li>
<h4><code>ğŸ“½ï¸ So far, The result</code>:-</h4>
<ul>
<li>ğŸ“ <a href="./examples/4.guide.chapter4.3.Props.hh">4.guide.chapter4.3.Props.hh</a></li>
<li>ğŸ“ <a href="./examples/4.guide.chapter4.3.Props.cpp">4.guide.chapter4.3.Props.cpp</a></li>
<li>ğŸ“ <a href="./examples/4.guide.chapter4.3.PropsOLD.hh">4.guide.chapter4.3.PropsOLD.hh</a></li>
</ul>
</li>
</ul>
<div class="REY_NOSHOW_PDF">
<hr>
<div align="center" style="font-size: 50px; font-family: 'Iosevka Curly'; ">Page-Break</div>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<div align="center">
<h2 id="4-swapchain-image-options-ï¸">4. <code>SwapChain Image Options</code> ğŸ–¼ï¸ </h2>
<p><code>.imageFormat + .imageColorSpace</code></p>
</div>
<ol>
<li>
<p><code>vkGetPhysicalDeviceSurfaceFormatsKHR()</code></p>
<ul>
<li><a href="https://vkdoc.net/man/vkGetPhysicalDeviceSurfaceFormatsKHR">https://vkdoc.net/man/vkGetPhysicalDeviceSurfaceFormatsKHR</a>
<ul>
<li><code>param surface</code></li>
</ul>
</li>
<li>
<h5>ğŸ“‹ğŸ”„ <strong><em>Chapter2.5</em></strong></h5>
<ul>
<li>Only difference is, <code>Formats</code> might be a bit different as per <code>VkSurfaceKHR</code></li>
<li><code>ğŸ“½ï¸ So far, The result</code>:- <a href="./examples/4.guide.chapter4.4.5.midway.cpp">4.guide.chapter4.4.5.midway.cpp</a></li>
</ul>
</li>
</ul>
</li>
<li>
<h5><code>VkSurfaceFormatKHR</code> ğŸ“º</h5>
<ul>
<li><a href="https://vkdoc.net/man/VkSurfaceFormatKHR">https://vkdoc.net/man/VkSurfaceFormatKHR</a>
<ul>
<li><code>||| .format</code>  ğŸ–¼ï¸ğŸ”¢ ImageFormat</li>
<li><code>.colorSpace</code>  ğŸ–¼ï¸ğŸŒˆ ImageColorSpace</li>
<li><em>No Other options</em></li>
</ul>
</li>
<li>
<h5>ğŸ“œ REY_DOCs</h5>
<ul>
<li>This is basically a Combo of ğŸ–¼ï¸ğŸ”¢ <code>ImageFormat</code> &amp; ğŸ–¼ï¸ğŸŒˆ <code>ColorSpace</code>
<ul>
<li>so, the gpu kinda expects you to respect these combos, when you are gonna set these into <code>VkSwapchainCreateInfoKHR</code>. instead of mumbo-jumbo-ing &amp; mixing random stufs alltogether....</li>
<li>altho, even if you do so, gpu is probably gonna show you the result of WRONG COLORSPACE/IMAGEFORMATs  on the screen</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
</li>
<li>
<p><code>Life is Hard without Images/Visualization</code></p>
<ul>
<li>So we are gonna Export to JSON/YAML
<ul>
<li><a href="./examples/4.guide.chapter4.4.3.Enum2String.hh">4.guide.chapter4.4.3.Enum2String.hh</a></li>
<li><a href="./examples/4.guide.chapter4.4.3.data.jsonc">4.guide.chapter4.4.3.data.jsonc</a></li>
<li><a href="./examples/4.guide.chapter4.4.3.Export.cpp">4.guide.chapter4.4.3.Export.cpp</a>
<ul>
<li>aaaaggghhhhh.... ik, the export file, looks a little bit messy. ğŸ˜… but, dw, we won't use this export code in the end, it will be refactored &amp; organized in ğŸ”— <strong><em>Chapter4.4.6</em></strong></li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
</li>
</ol>
<div align="center">
<p><code>.minImageCount</code><br>
ğŸ–¼ï¸ <code>+ .imageExtent + .imageArrayLayers + .imageUsage</code><br>
ğŸ§™â€â™‚ï¸ <code>.compositeAlpha + .preTransform</code></p>
</div>
<h4 id="4-vksurfacecapabilitieskhr">4. <code>VkSurfaceCapabilitiesKHR</code> </h4>
<ul>
<li>
<p><a href="https://vkdoc.net/man/VkSurfaceCapabilitiesKHR">https://vkdoc.net/man/VkSurfaceCapabilitiesKHR</a></p>
<ul>
<li>
<h5>ğŸ–¼ï¸ Image options ğŸ”— <strong><em>Chapter4.4</em></strong></h5>
<ul>
<li><code>.minImageCount</code></li>
<li><code>.currentExtent</code>
<ul>
<li>as the OS Window size changes, <code>SurfCaps</code> also change</li>
<li>call <code>vkGetPhysicalDeviceSurfaceCapabilitiesKHR()</code> to get <em>updated</em> <code>WindowSize</code> / <code>SurfCaps</code></li>
</ul>
</li>
<li><code>.maxImageArrayLayers</code></li>
<li><code>.supportedUsageFlags</code></li>
</ul>
</li>
<li>
<h5>ğŸ§™â€â™‚ï¸ Compositing Options ğŸ”— <strong><em>Chapter4.5</em></strong></h5>
<ul>
<li><code>.supportedTransforms</code></li>
<li><code>.supportedCompositeAlpha</code>
<ul>
<li><code>ALPHA-Blending/Transparency/GlassEffect</code>:- you'd have to enable blending/transparency @ OS-Level first, iguess ğŸ¤”</li>
</ul>
</li>
</ul>
</li>
<li>
<h6>Transparency ğŸŸ¨ <strong>ChapterZZZ</strong></h6>
</li>
<li>
<h5><code>ğŸ”¬ğŸ› ï¸ 2DriverIMPL</code></h5>
<ul>
<li>This section changed the perspective a little bit. Like, what I mean is that, Official Vulkan Specs requires GPU Driver Implementations to abide by these requirements ğŸ’â€â™€ï¸</li>
<li><code>.minImageCount</code>:- <strong><em>must</em></strong> be at least 1</li>
<li><code>.maxImageArrayLayers</code>:- <strong><em>must</em></strong> be at least 1</li>
<li><code>.supportedTransforms</code>:- at least 1 bit <strong><em>must</em></strong> be set.</li>
<li><code>.supportedUsageFlags</code>:-
<ul>
<li><code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code> <strong><em>must</em></strong> be included in the set.</li>
<li>Implementations <strong><em>may</em></strong> support additional usages.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ol start="5">
<li>
<h5><code>vkGetPhysicalDeviceSurfaceCapabilitiesKHR()</code></h5>
<ul>
<li><a href="https://vkdoc.net/man/vkGetPhysicalDeviceSurfaceCapabilitiesKHR">https://vkdoc.net/man/vkGetPhysicalDeviceSurfaceCapabilitiesKHR</a></li>
<li>
<h5>ğŸ“œ REY_DOCs</h5>
<ul>
<li>we add right beside the function from ğŸ”— <strong><em>Chapter4.4.1</em></strong> ğŸ˜‰</li>
<li><code>ğŸ“½ï¸ So far, The result</code>:- <a href="./examples/4.guide.chapter4.4.5.midway.cpp">4.guide.chapter4.4.5.midway.cpp</a></li>
</ul>
</li>
</ul>
<hr>
</li>
<li>
<p><code>Life is Hard without Images/Visualization 2</code></p>
<ul>
<li>Sooooooo many things to keep track of, So here we go again
<ul>
<li><a href="./examples/4.guide.chapter4.4.3.Export.cpp">4.guide.chapter4.4.6.Export.cpp</a></li>
<li><a href="./examples/4.guide.chapter4.4.6.data.jsonc">4.guide.chapter4.4.6.data.jsonc</a></li>
</ul>
</li>
</ul>
<hr>
</li>
</ol>
<div align="center">
<p><code>.imageSharingMode</code></p>
</div>
<ol start="7">
<li>
<p><code>VkSharingMode</code></p>
<ul>
<li><a href="https://vkdoc.net/man/VkSharingMode">https://vkdoc.net/man/VkSharingMode</a></li>
<li>it's like a Toggle/Button -&gt; <code>EXCLUSIVE/CONCURRENT</code></li>
</ul>
<hr>
</li>
<li>
<p><code>ğŸ“½ï¸ So far, The result</code>:-</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>amVK_SwapChain <span class="token operator">*</span>SC <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token function">amVK_SwapChain</span><span class="token punctuation">(</span>VK_Surface<span class="token punctuation">)</span><span class="token punctuation">;</span>
    SC<span class="token operator">-&gt;</span>CI<span class="token punctuation">.</span>imageFormat <span class="token operator">=</span> VK_FORMAT_B8G8R8A8_UNORM<span class="token punctuation">;</span>
    SC<span class="token operator">-&gt;</span>CI<span class="token punctuation">.</span>imageColorSpace <span class="token operator">=</span> VK_COLOR_SPACE_SRGB_NONLINEAR_KHR<span class="token punctuation">;</span>
    SC<span class="token operator">-&gt;</span>CI<span class="token punctuation">.</span>minImageCount    <span class="token operator">=</span> amVK_InstanceProps<span class="token double-colon punctuation">::</span>amVK_1D_SurfaceInfos<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>amVK_1D_GPUs_SurfCAP<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>minImageCount<span class="token punctuation">;</span>
    SC<span class="token operator">-&gt;</span>CI<span class="token punctuation">.</span>imageExtent      <span class="token operator">=</span> amVK_InstanceProps<span class="token double-colon punctuation">::</span>amVK_1D_SurfaceInfos<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>amVK_1D_GPUs_SurfCAP<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>currentExtent<span class="token punctuation">;</span>
    SC<span class="token operator">-&gt;</span>CI<span class="token punctuation">.</span>imageArrayLayers <span class="token operator">=</span> amVK_InstanceProps<span class="token double-colon punctuation">::</span>amVK_1D_SurfaceInfos<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>amVK_1D_GPUs_SurfCAP<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>maxImageArrayLayers<span class="token punctuation">;</span>
        <span class="token comment">// You can just use "1" too, which is guranteed by DRIVER_IMPLEMENTATION [2DriverIMPL]</span>
    SC<span class="token operator">-&gt;</span>CI<span class="token punctuation">.</span>imageSharingMode <span class="token operator">=</span> VK_SHARING_MODE_EXCLUSIVE<span class="token punctuation">;</span>
        <span class="token comment">// `EXCLUSIVE/CONCURRENT` [Toggle]</span>
    SC<span class="token operator">-&gt;</span>CI<span class="token punctuation">.</span>imageUsage       <span class="token operator">=</span> VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT<span class="token punctuation">;</span>
        <span class="token comment">// 2DriverIMPL:- VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT is guranteed to be supported by SurfCAP</span>
</code></pre><hr>
</li>
<li>
<p><code>Abbreviations</code></p>
<ul>
<li><code>PD</code> -&gt; PhysicalDevice</li>
<li><code>GPUs</code> -&gt; PhysicalDevices</li>
<li><code>CI</code> -&gt; CreateInfo</li>
<li><code>QCI</code> -&gt; QueueCreateInfo</li>
<li><code>QFAM</code> -&gt; QueueFamily</li>
<li><code>SurfCAP</code> -&gt; <a href="https://vkdoc.net/man/VkSurfaceCapabilitiesKHR">https://vkdoc.net/man/VkSurfaceCapabilitiesKHR</a></li>
<li><code>SurfFMT</code> -&gt; <a href="https://vkdoc.net/man/VkSurfaceFormatKHR">https://vkdoc.net/man/VkSurfaceFormatKHR</a></li>
<li><code>SC</code> -&gt; SwapChain</li>
</ul>
<hr>
</li>
<li>
<p><code>VkSwapchainCreateInfoKHR</code></p>
</li>
</ol>
<ul>
<li><a href="https://vkdoc.net/man/VkSwapchainCreateInfoKHR">https://vkdoc.net/man/VkSwapchainCreateInfoKHR</a>
<ul>
<li><code>.flags</code> ğŸ³ï¸ <strong>ChapterZZZ</strong></li>
<li><code>.surface</code> ğŸ„â€â™€ï¸ <strong><em>Chapter4.2</em></strong></li>
<li>ğŸ–¼ï¸ Image options ğŸ”— <strong><em>Chapter4.4</em></strong>
<ul>
<li><code>.minImageCount</code> = ğŸŸªğŸ˜‰ <code>SurfCAP.minImageCount</code></li>
<li><code>.imageFormat</code> = ğŸŸªğŸ˜‰ <code>SurfFMT[x].format</code></li>
<li><code>.imageColorSpace</code> = ğŸŸªğŸ¤­ <code>SurfFMT[x].colorSpace</code>
<ul>
<li>Choosing a Combo ğŸŸ¨ <strong>ChapterZZZ</strong></li>
<li>Compositing &amp; ColorSpaces ğŸŸ¨ <strong>ChapterZZZ</strong></li>
</ul>
</li>
<li><code>.imageExtent</code> = ğŸŸªğŸ˜Š <code>SurfCAP.minImageCount</code></li>
<li><code>.imageArrayLayers</code> = ğŸŸª <code>1</code>
<ul>
<li>ğŸ”¬ğŸ› ï¸ 2DriverIMPL Gurantee</li>
</ul>
</li>
<li><code>.imageUsage</code> -&gt; <code>VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</code>
<ul>
<li>ğŸ”¬ğŸ› ï¸ 2DriverIMPL Gurantee</li>
</ul>
</li>
<li><code>.imageSharingMode</code> = ğŸŸª <code>EXCLUSIVE/CONCURRENT</code> [Toggle]
<ul>
<li><code>VK_SHARING_MODE_CONCURRENT</code> ğŸŸ¨ <strong>ChapterZZZ</strong>
<ul>
<li>we aren't gonna use concurrent for now</li>
<li><code>.queueFamilyIndexCount</code> -&gt; <code>0</code></li>
<li><code>.pQueueFamilyIndices</code> -&gt; <code>nullptr</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="REY_NOSHOW_PDF">
<hr>
<div align="center" style="font-size: 50px; font-family: 'Iosevka Curly'; ">Page-Break</div>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<h2 id="5-swapchain-compositing-options-ï¸">5. <code>SwapChain Compositing Options</code> ğŸ§™â€â™‚ï¸ </h2>
<ol>
<li>
<h4><code>.compositeAlpha</code></h4>
<ul>
<li><a href="https://vkdoc.net/man/VkCompositeAlphaFlagBitsKHR">https://vkdoc.net/man/VkCompositeAlphaFlagBitsKHR</a></li>
<li>
<h5>ğŸ“œ REY_DOCs</h5>
<ul>
<li><code>Options</code>:- Don't use / Pre-multiplied / Post-multiplied / inherit from OS-native window system</li>
<li><code>Requirement</code>:-
<ul>
<li>You would have to enable  @ OS level first, to enable ALPHA/Transparency/GlassEffect for window-s/surfaces</li>
<li>then after that, if you query for <code>vkGetPhysicalDeviceSurfaceCapabilitiesKHR()</code>
<ul>
<li><code>SurfCAP.supportedCompositeAlpha</code> will change</li>
</ul>
</li>
<li>by default, it's prolly always gonna support
<ul>
<li><code>VK_COMPOSITE_ALPHA_OPAQUE_BIT_KHR</code></li>
<li>i.e. if you haven't done any mastery wizardry yet, to enable ALPHA/Transparency/GlassEffect</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<h4><code>.preTransform</code></h4>
<ul>
<li><a href="https://vkdoc.net/man/VkSurfaceTransformFlagBitsKHR">https://vkdoc.net/man/VkSurfaceTransformFlagBitsKHR</a></li>
<li>
<h5>ğŸ“œ REY_DOCs</h5>
<ul>
<li>ğŸ”— <code>SurfCAP.currentTransform</code></li>
<li>you should probably log it if <code>currentTransform</code> isn't
<ul>
<li><code>VK_SURFACE_TRANSFORM_IDENTITY_BIT_KHR</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<h4><code>.clipped</code></h4>
<ul>
<li>
<h5>ğŸ“œ REY_DOCs</h5>
<ul>
<li>Setting clipped to <code>VK_TRUE</code> allows the implementation to discard rendering outside of the surface area</li>
</ul>
</li>
</ul>
</li>
<li>
<h4><code>.presentMode</code> ğŸ·ï¸ <code>VkPresentModeKHR</code></h4>
<ul>
<li><a href="https://vkdoc.net/man/VkPresentModeKHR">https://vkdoc.net/man/VkPresentModeKHR</a></li>
<li>
<h5>ğŸ“œ REY_DOCs</h5>
<ul>
<li><code>Options</code>:- IMMEDIATE / MAILBOX / FirstInFirstOut / FIFO_Relaxed</li>
</ul>
</li>
</ul>
</li>
<li>
<h4><code>.oldSwapChain</code></h4>
<ul>
<li>
<h5>ğŸ“œ REY_DOCs</h5>
<ul>
<li>if you are <em>"re-creating"</em> swapchain &amp; you had an oldSwapchain</li>
<li>We do this when
<ol>
<li>Window Size / WindowExtent / Surface was Changed</li>
</ol>
</li>
</ul>
</li>
</ul>
</li>
<li>
<h4>ğŸ“½ï¸ <code>So far, The result</code></h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>amVK_SwapChain <span class="token operator">*</span>SC <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token function">amVK_SwapChain</span><span class="token punctuation">(</span>VK_Surface<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token type-opencl-host-cpp keyword">Image</span> Stuffs
    SC<span class="token operator">-&gt;</span>CI<span class="token punctuation">.</span>compositeAlpha <span class="token operator">=</span> VK_COMPOSITE_ALPHA_OPAQUE_BIT_KHR<span class="token punctuation">;</span>
    SC<span class="token operator">-&gt;</span>CI<span class="token punctuation">.</span>preTransform   <span class="token operator">=</span> amVK_InstanceProps<span class="token double-colon punctuation">::</span>amVK_1D_SurfaceInfos<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>amVK_1D_GPUs_SurfCAP<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>currentTransform<span class="token punctuation">;</span>
    SC<span class="token operator">-&gt;</span>CI<span class="token punctuation">.</span>clipped        <span class="token operator">=</span> VK_TRUE<span class="token punctuation">;</span>
    SC<span class="token operator">-&gt;</span>CI<span class="token punctuation">.</span>presentMode    <span class="token operator">=</span> VK_PRESENT_MODE_FIFO_KHR<span class="token punctuation">;</span>
    SC<span class="token operator">-&gt;</span>CI<span class="token punctuation">.</span>oldSwapchain   <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
</code></pre></li>
</ol>
<div class="REY_NOSHOW_PDF">
<hr>
<div align="center" style="font-size: 50px; font-family: 'Iosevka Curly'; ">Page-Break</div>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<h3 id="6-swapchain-extension-enabling--vk_khr_swapchain">6. <code>SwapChain Extension Enabling</code> ğŸ§© [<code>VK_KHR_swapchain</code>] </h3>
<ol>
<li>
<h4><code>vkEnumerateDeviceExtensionProperties()</code></h4>
<ul>
<li><a href="https://vkdoc.net/man/vkEnumerateDeviceExtensionProperties">https://vkdoc.net/man/vkEnumerateDeviceExtensionProperties</a>
<ul>
<li>honestly this should be named <code>vkEnumeratePhysicalDeviceExtensionProperties()</code></li>
<li>bcz,
<ul>
<li>it doesn't associate with <code>VkDevice</code></li>
<li>but rather with <code>VkPhysicalDevice</code></li>
</ul>
</li>
</ul>
</li>
<li>
<h5>ğŸ“œ REY_DOCs</h5>
</li>
</ul>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">amVK_InstanceProps</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-inline">inline</span> <span class="token keyword keyword-bool">bool</span> called_EnumerateDeviceExtensionProperties <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span>               <span class="token function">EnumerateDeviceExtensionProperties</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// amVK_2D_GPUs_EXTs</span>

    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-inline">inline</span> REY_Array<span class="token operator">&lt;</span>REY_Array<span class="token operator">&lt;</span>VkExtensionProperties<span class="token operator">&gt;&gt;</span>              amVK_2D_GPUs_EXTs<span class="token punctuation">;</span>
    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">amVK_LOOP_GPU_EXTs</span><span class="token expression"><span class="token punctuation">(</span>_k_<span class="token punctuation">,</span> _var_<span class="token punctuation">)</span>  <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-uint32_t">uint32_t</span> _var_ <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>  lim <span class="token operator">=</span> amVK_2D_GPUs_EXTs<span class="token punctuation">[</span>_k_<span class="token punctuation">]</span><span class="token punctuation">.</span>n<span class="token punctuation">;</span>   _var_ <span class="token operator">&lt;</span> lim<span class="token punctuation">;</span>  _var_<span class="token operator">++</span><span class="token punctuation">)</span></span></span>

    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-bool">bool</span>      <span class="token function">IS_GPU_EXT_Available</span><span class="token punctuation">(</span>PD_Index GPU_k<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-char">char</span> <span class="token operator">*</span>extName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// amVK_2D_GPUs_EXTs</span>
    <span class="token comment">// kinda copy of IS_InstanceEXT_Available</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></li>
<li>
<h4><code>amVK_Device::Add_GPU_EXT_ToEnable(const char* extName)</code></h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">amVK_Device</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    REY_ArrayDYN<span class="token operator">&lt;</span><span class="token keyword keyword-char">char</span><span class="token operator">*</span><span class="token operator">&gt;</span>   amVK_1D_DeviceEXTs_Enabled<span class="token punctuation">;</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">Log_GPU_EXTs_Enabled</span><span class="token punctuation">(</span>VkResult ret<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">Add_GPU_EXT_ToEnable</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-char">char</span><span class="token operator">*</span> extName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Copy of `amVK_InstanceProps::Add_InstanceEXT_ToEnable()` -&gt; but not static anymore.... ğŸ¤·â€â™€ï¸</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></li>
<li>
<h4>ğŸ“½ï¸ <code>So far, The result</code></h4>
<ul>
<li><a href="./examples/4.guide.chapter4.6.newStuffs.hh">4.guide.chapter4.6.newStuffs.hh</a></li>
<li><a href="./examples/4.guide.chapter4.7.Props.hh">4.guide.chapter4.7.Props.hh</a></li>
<li><a href="./examples/4.guide.chapter4.7.Props.cpp">4.guide.chapter4.7.Props.cpp</a></li>
</ul>
</li>
</ol>
<div class="REY_NOSHOW_PDF">
<hr>
<div align="center" style="font-size: 50px; font-family: 'Iosevka Curly'; ">Page-Break</div>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<h2 id="7--vkcreateswapchainkhr">7. ğŸŒ± <code>vkCreateSwapchainKHR()</code> </h2>
<ul>
<li><a href="https://vkdoc.net/man/vkCreateSwapchainKHR">https://vkdoc.net/man/vkCreateSwapchainKHR</a></li>
<li>[TODO]:- Add the commit-tree Link</li>
<li>It took me 5days to complete <strong><em>Chapter4</em></strong> ğŸ¥´
<ul>
<li>(well, i worked on a houdini project ğŸ«¢ for 2 days.... so yeah ğŸ¥´)</li>
</ul>
</li>
</ul>
<h2 id="8-amvk-wrap--part-ii">8. <code>amVK</code> wrap ğŸŒ¯ Part II </h2>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>    amVK_InstanceProps<span class="token double-colon punctuation">::</span><span class="token function">EnumerateDeviceExtensionProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    amVK_Device<span class="token operator">*</span> D <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token function">amVK_Device</span><span class="token punctuation">(</span>amVK_InstanceProps<span class="token double-colon punctuation">::</span><span class="token function">GetARandom_GPU</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        D<span class="token operator">-&gt;</span><span class="token function">select_QFAM_Graphics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        D<span class="token operator">-&gt;</span><span class="token function">Add_GPU_EXT_ToEnable</span><span class="token punctuation">(</span><span class="token string">"VK_KHR_swapchain"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        D<span class="token operator">-&gt;</span><span class="token function">CreateDevice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h2 id="9-amvk-wrap--part-iii">9. <code>amVK</code> wrap ğŸŒ¯ Part III </h2>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"amVK_Surface.hh"</span></span>
    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"amVK_SwapChain.hh"</span></span>

        <span class="token comment">// TwT</span>
        <span class="token function">REY_LOG</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>
    amVK_Surface           <span class="token operator">*</span>S  <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token function">amVK_Surface</span><span class="token punctuation">(</span>VK_S<span class="token punctuation">)</span><span class="token punctuation">;</span>
    amVK_SurfacePresenter  <span class="token operator">*</span>PR <span class="token operator">=</span> S<span class="token operator">-&gt;</span>PR<span class="token punctuation">;</span>
                            PR<span class="token operator">-&gt;</span><span class="token function">bind_Surface</span><span class="token punctuation">(</span>S<span class="token punctuation">)</span><span class="token punctuation">;</span>
                            PR<span class="token operator">-&gt;</span><span class="token function">bind_Device</span><span class="token punctuation">(</span>D<span class="token punctuation">)</span><span class="token punctuation">;</span>
                            PR<span class="token operator">-&gt;</span><span class="token function">create_SwapChain_interface</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       
                                <span class="token comment">// This amVK_SwapChain is Bound to this amVK_Surface</span>

    amVK_SwapChain <span class="token operator">*</span>SC <span class="token operator">=</span>    PR<span class="token operator">-&gt;</span>SC<span class="token punctuation">;</span>
        SC<span class="token operator">-&gt;</span><span class="token function">konf_ImageSharingMode</span><span class="token punctuation">(</span>VK_SHARING_MODE_EXCLUSIVE<span class="token punctuation">)</span><span class="token punctuation">;</span>
        SC<span class="token operator">-&gt;</span><span class="token function">konf_Images</span><span class="token punctuation">(</span>
            amVK_IF<span class="token double-colon punctuation">::</span>RGBA_8bpc_UNORM<span class="token punctuation">,</span>   <span class="token comment">// VK_FORMAT_R8G8B8A8_UNORM</span>
            amVK_CS<span class="token double-colon punctuation">::</span>sRGB<span class="token punctuation">,</span>              <span class="token comment">// VK_COLOR_SPACE_SRGB_NONLINEAR_KHR</span>
            amVK_IU<span class="token double-colon punctuation">::</span>Color_Display      <span class="token comment">// VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
        SC<span class="token operator">-&gt;</span><span class="token function">konf_Compositing</span><span class="token punctuation">(</span>
            amVK_PM<span class="token double-colon punctuation">::</span>FIFO<span class="token punctuation">,</span>              <span class="token comment">// VK_PRESENT_MODE_FIFO_KHR</span>
            amVK_CC<span class="token double-colon punctuation">::</span>YES<span class="token punctuation">,</span>               <span class="token comment">// Clipping:- VK_TRUE</span>
            amVK_TA<span class="token double-colon punctuation">::</span>Opaque             <span class="token comment">// VK_COMPOSITE_ALPHA_OPAQUE_BIT_KHR</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
        SC<span class="token operator">-&gt;</span><span class="token function">sync_SurfCaps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// refresh/fetch &amp; set/sync ---&gt; latest SurfCaps</span>

        SC<span class="token operator">-&gt;</span>CI<span class="token punctuation">.</span>oldSwapchain     <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
        SC<span class="token operator">-&gt;</span><span class="token function">CreateSwapChain</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><br>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<br>
<div align="center">
<p style="font-size: 200%; font-weight: bold;" align="center"> ğŸ§™â€â™‚ï¸ Part 2: The True Arcane Secrets of </p>
<p style="font-size: 300%; font-weight: bold; margin-top: -0.5em;" align="center"> RenderPass </p>
<p style="font-size: 150%; font-weight: bold; margin-top: -1.75em;" align="center"> (SubPass + Image Layer Transition) &amp; FrameBuffers </p>
<p style="font-size: 100%; margin-top: 0;" align="center"> Welcome to the inner sanctum where GPU gods decide how fast your pixels live or die. </p>
<p style="font-size: 75%; margin-top: 0;" align="center"> - ChatGPT </p>
<br>
</div>
<h2 id="chapter-5-renderpass-">Chapter 5: <code>RenderPass</code> ğŸ¥ª </h2>
<blockquote>
<p>"<strong><em><code>subpasses</code> are the soul of RenderPass!</em></strong> . But it's not just about <code>subpasses</code> only...." - ChatGPT</p>
</blockquote>
<h4 id="0-why-renderpass">0. Why <code>RenderPass</code>? </h4>
<ul>
<li>
<p><em>"This is one of the most convoluted parts of the Vulkan specification, especially for those who are just starting out."</em> - P.A. Minerva</p>
</li>
<li>
<p>ex. 1:- <code>PostProcessing Effects</code></p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>RenderPass<span class="token operator">:</span>
<span class="token operator">-</span> color attachment
<span class="token operator">-</span> depth attachment

subpasses<span class="token operator">:</span>
<span class="token operator">-</span> Subpass <span class="token number">0</span><span class="token operator">:</span> render geometry
<span class="token operator">-</span> Subpass <span class="token number">1</span><span class="token operator">:</span> post<span class="token operator">-</span>process effects
    <span class="token comment">// multiple rendering steps without switching FrameBuffers/AttachMents</span>

<span class="token comment">// All defined in ONE render pass</span>
</code></pre>  <br>
</li>
<li>
<p>ex. 2:- <code>Deferred Shading</code></p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>attachments<span class="token operator">:</span>
<span class="token operator">-</span> position<span class="token operator">:</span> offscreen image
<span class="token operator">-</span> normal<span class="token operator">:</span> offscreen image
<span class="token operator">-</span> albedo<span class="token operator">:</span> offscreen image
<span class="token operator">-</span> depth<span class="token operator">:</span> depth image
<span class="token operator">-</span> finalColor<span class="token operator">:</span> swapchain image
subpasses<span class="token operator">:</span>
<span class="token operator">-</span> Subpass <span class="token number">0</span><span class="token operator">:</span> G<span class="token operator">-</span>buffer <span class="token function">generation</span> <span class="token punctuation">(</span>write position<span class="token punctuation">,</span> normal<span class="token punctuation">,</span> albedo<span class="token punctuation">)</span>
<span class="token operator">-</span> Subpass <span class="token number">1</span><span class="token operator">:</span> Lighting <span class="token function">pass</span> <span class="token punctuation">(</span>read G<span class="token operator">-</span>buffers<span class="token punctuation">,</span> write to finalColor<span class="token punctuation">)</span>
</code></pre><ul>
<li>Without <code>subpasses</code>, you'd need to switch framebuffers (expensive!).</li>
<li>With <code>subpasses</code>, Vulkan can optimize this by keeping data in GPU memory (especially tile-based GPUs).<br>
<br><br>
<br></li>
</ul>
</li>
<li>
<p>ex. 3:- <code>Post-Processing Chain</code></p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>attachments<span class="token operator">:</span>
<span class="token operator">-</span> scene<span class="token operator">:</span> offscreen image
<span class="token operator">-</span> postProcessOut<span class="token operator">:</span> swapchain image
subpasses<span class="token operator">:</span>
<span class="token operator">-</span> Subpass <span class="token number">0</span><span class="token operator">:</span> scene render â†’ scene
<span class="token operator">-</span> Subpass <span class="token number">1</span><span class="token operator">:</span> post<span class="token operator">-</span>process â†’ postProcessOut
</code></pre><ul>
<li>Purpose:- After rendering the main scene, do effects like bloom, blur, or color correction.</li>
<li>Why a RenderPass?
<ul>
<li>Again, Vulkan sees the full plan and can optimize the transitions.</li>
<li>You can define layout transitions (e.g. <code>COLOR_ATTACHMENT_OPTIMAL â†’ SHADER_READ_ONLY_OPTIMAL</code>)<br>
<br><br>
<br></li>
</ul>
</li>
</ul>
</li>
<li>
<p>ex. 4:- <code>Shadow Map Pass</code> / Render from light's POV, to a depth-only image</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>attachments<span class="token operator">:</span>
<span class="token operator">-</span> depth<span class="token operator">:</span> depth image
subpasses<span class="token operator">:</span>
<span class="token operator">-</span> Subpass <span class="token number">0</span><span class="token operator">:</span> write to depth <span class="token function">only</span> <span class="token punctuation">(</span>no color<span class="token punctuation">)</span>
</code></pre><ul>
<li>Why a RenderPass?
<ul>
<li>This pass is often done offscreen, then used as a texture later.<br>
<br></li>
</ul>
</li>
</ul>
</li>
<li>
<p>ex. 5:- <code>3D Scene -&gt; Depth Testing</code></p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>attachments<span class="token operator">:</span>
<span class="token operator">-</span> color<span class="token operator">:</span> swapchain image
<span class="token operator">-</span> depth<span class="token operator">:</span> depth image
subpasses<span class="token operator">:</span>
<span class="token operator">-</span> Subpass <span class="token number">0</span><span class="token operator">:</span>
    <span class="token operator">-</span> color attachment<span class="token operator">:</span> color
    <span class="token operator">-</span> depth attachment<span class="token operator">:</span> depth
</code></pre>  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <div style="page-break-after: always;"></div>
</li>
</ul>
<h4 id="1-what-is-renderpass-">1. What is <code>RenderPass</code>? ğŸ¥ª </h4>
<ol>
<li>
<h5><code>RenderPass</code> is designed around <code>subpasses</code>.</h5>
<ul>
<li>
<p>The core purpose of a <code>RenderPass</code> is to tell Vulkan:</p>
<ul>
<li>
<blockquote>
<p><em>â€œHey, Iâ€™m going to do these <strong>rendering stages</strong> (<code>subpasses</code>), in this order, using these <strong>attachments</strong>.â€</em></p>
</blockquote>
</li>
</ul>
</li>
<li>
<p>So yeah, <code>subpasses</code> are the main reason for a RenderPass to exist. <strong><em>subpasses are the soul of RenderPass!</em></strong></p>
</li>
<li>
<p>But it's not just about <code>subpasses</code> only:-</p>
<ol>
<li>
<p>ğŸŒŸ <code>Load/Store Ops</code> â€” "What should I do with the image before &amp; after rendering?"</p>
<ul>
<li>ğŸšª loadOp â€” When RenderPass begins:<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>     LOAD<span class="token operator">:</span> Keep whatever was already in the attachment<span class="token punctuation">.</span>
    CLEAR<span class="token operator">:</span> Wipe it to a specific <span class="token function">value</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>g<span class="token punctuation">.</span><span class="token punctuation">,</span> clear color to black<span class="token punctuation">)</span><span class="token punctuation">.</span>
DONT_CARE<span class="token operator">:</span> Vulkan can <span class="token keyword keyword-throw">throw</span> away old <span class="token function">contents</span> <span class="token punctuation">(</span>faster<span class="token punctuation">,</span> <span class="token keyword keyword-if">if</span> you donâ€™t care<span class="token punctuation">)</span><span class="token punctuation">.</span>
</code></pre></li>
<li>ğŸšª storeOp â€” When RenderPass ends:<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>    STORE<span class="token operator">:</span> Save the <span class="token function">result</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>g<span class="token punctuation">.</span><span class="token punctuation">,</span> to present to the screen <span class="token operator">or</span> use later<span class="token punctuation">)</span><span class="token punctuation">.</span>
DONT_CARE<span class="token operator">:</span> Vulkan can discard the <span class="token function">result</span> <span class="token punctuation">(</span>like shadow maps <span class="token operator">or</span> intermediate stuff you don<span class="token number">'</span>t need to read later<span class="token punctuation">)</span><span class="token punctuation">.</span>
</code></pre></li>
<li>ex.<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>colorAttachment<span class="token punctuation">.</span>loadOp <span class="token operator">=</span> VK_ATTACHMENT_LOAD_OP_CLEAR<span class="token punctuation">;</span>
colorAttachment<span class="token punctuation">.</span>storeOp <span class="token operator">=</span> VK_ATTACHMENT_STORE_OP_STORE<span class="token punctuation">;</span>
    <span class="token comment">// Meaning: Clear the image before rendering, and store the result so we can present it.</span>
</code></pre></li>
</ul>
</li>
<li>
<p>ğŸ¯ <code>Image Layout Transitions</code> â€” "How should the GPU access this image during the pass?"</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code>                        <span class="token punctuation">[</span> <span class="token constant">VK_IMAGE_LAYOUT_UNDEFINED</span> <span class="token punctuation">]</span>
                                    ğŸ‘‡ clear
                        <span class="token punctuation">[</span> <span class="token constant">VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL</span> <span class="token punctuation">]</span>
                                    ğŸ‘‡ render
                        <span class="token punctuation">[</span> <span class="token constant">VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL</span> <span class="token punctuation">]</span>
                                    ğŸ‘‡ post<span class="token operator">-</span>process
                        <span class="token punctuation">[</span> <span class="token constant">VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</span> <span class="token punctuation">]</span>
</code></pre></li>
<li>
<p>ğŸ“œ <code>Attachments</code> â€” "What images are we using?"</p>
<ul>
<li><strong><em><code>RenderPass Attachment</code> is not an actual thing!</em></strong></li>
<li><em><code>RenderPass Attachment Description/Descriptor</code> is a thing!</em>
<ul>
<li>However, the idea is.... <em><strong>We do "define"</strong></em> the <code>Attachments</code> right here, as we send the <code>AttachmentDescriptions</code> -&gt; <code>RenderPass</code></li>
</ul>
</li>
<li><code>RenderPass Attachment</code> != <code>FrameBuffer Attachment</code></li>
<li><code>FrameBuffer Attachment</code>
<ul>
<li>----&gt; actual <code>VkImageView</code>s of <code>SwapChain Images</code><br>
<br><br>
<br></li>
</ul>
  <div style="page-break-after: always;"></div>
</li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
<li>
<h5>ğŸ¯ <code>Image Layout Transitions</code></h5>
<ol>
<li>
<p>ğŸ­ 1. Different hardware units = different memory access patterns</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>GPU Unit	                Access Pattern
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>     <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
Fragment Shader 	    Texture<span class="token operator">-</span><span class="token function">like</span> <span class="token punctuation">(</span>random<span class="token punctuation">)</span>
Render Output Unit	    Tiled <span class="token operator">or</span> <span class="token function">linear</span> <span class="token punctuation">(</span>write<span class="token operator">-</span>heavy<span class="token punctuation">)</span>
Compute Shader	        Raw buffer<span class="token operator">-</span>style
Display Engine	        Linear format

<span class="token operator">-</span> <span class="token keyword keyword-for">for</span> ex<span class="token punctuation">.</span>
</code></pre><ul>
<li>When an image is used as a <em><strong>color attachment</strong></em>, it might be <em>stored tiled in memory</em> for <em>fast write performance</em>.</li>
<li>But when you use the same image as a texture, the shader expects it to be in a format optimized for random read access.</li>
<li>ğŸ‘‰ If you tried to read from a tiled format as if it were a texture, you'd either:
<ul>
<li>Get <code>garbage</code></li>
<li>Or pay a <code>huge perf penalty</code> as the driver does conversion.... (every single time you access a single pixel) (a single pixel would = an element in an 2D Array) (Texture might have Millions of Pixel)<br>
<br><br>
<br></li>
</ul>
</li>
</ul>
</li>
<li>
<p>ğŸ§± Physical Layout in VRAM (Tiles vs Linear)</p>
<ul>
<li>Most modern GPUs store <strong><em>image data</em></strong> in <em><strong>tiles</strong></em> internally.
<ul>
<li>(like Z-order, Morton order, or other optimized memory layouts).</li>
<li>This helps GPUs fetch memory in cache-friendly blocks for faster rendering.</li>
</ul>
</li>
<li>But when an image is to be presented to the <em><strong>screen/monitor</strong></em>, it must be <em><strong>Flat (linear)</strong></em> (as HDMI/display engines canâ€™t decode tiles).
<ul>
<li>Yes â€” by "linear", we mean a simple 2D array where pixels are stored in a straightforward, left-to-right, top-to-bottom format.</li>
</ul>
</li>
<li>So when you do this:-<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>finalLayout <span class="token operator">=</span> VK_IMAGE_LAYOUT_PRESENT_SRC_KHR<span class="token punctuation">;</span>
</code></pre><ul>
<li>ğŸ’¡ What you're really telling Vulkan is:</li>
<li>
<blockquote>
<p><em>â€œYo, Iâ€™m done rendering â€” please un-tile this, decompress it, and arrange it in scanlines for display.â€</em></p>
</blockquote>
</li>
<li>If you donâ€™t tell Vulkan, it has to guess or stall â€” or worse, copy the whole thing behind your back.<br>
<br><br>
<br></li>
</ul>
</li>
</ul>
</li>
<li>
<p>ğŸ”„ Transitions let the driver do reordering, compression, or memory reallocation</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>    <span class="token comment">//  When you declare:-</span>
finalLayout <span class="token operator">=</span> VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL<span class="token punctuation">;</span>
    <span class="token comment">// you are not just giving a hint.... </span>
    <span class="token comment">// ---- you are saying:-</span>
</code></pre><ul>
<li>
<blockquote>
<p><em>â€œAfter rendering, I'm going to sample this as a texture â€” so prepare it.â€</em></p>
</blockquote>
</li>
</ul>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>This allows the GPU driver to<span class="token operator">:</span>
<span class="token operator">-</span> flush caches
<span class="token operator">-</span> Decompress the <span class="token function">image</span> <span class="token punctuation">(</span>some GPUs compress attachments during render<span class="token operator">!</span><span class="token punctuation">)</span>
<span class="token operator">-</span> Move memory <span class="token operator">or</span> restructure tiles
<span class="token operator">-</span> Or even alias memory with another attachment in a single memory block
<span class="token operator">-</span> In modern GPUs<span class="token punctuation">,</span> there<span class="token number">'</span>s hardware image compression<span class="token punctuation">,</span> like<span class="token operator">:</span><span class="token operator">-</span>
    <span class="token operator">-</span> ARM<span class="token number">'</span>s <span class="token function">AFBC</span> <span class="token punctuation">(</span>Arm Frame <span class="token type-opencl-host-cpp keyword">Buffer</span> Compression<span class="token punctuation">)</span>
    <span class="token operator">-</span> AMD<span class="token number">'</span>s <span class="token function">DCC</span> <span class="token punctuation">(</span>Delta Color Compression<span class="token punctuation">)</span>
    <span class="token operator">-</span> NVIDIA has their own secret sauce too
</code></pre> <br>
</li>
<li>
<p>ğŸŒ€ Aliasing &amp; Tile Memory Reuse [<code>ImageLayouts + Barriers</code>]</p>
<ul>
<li>One of the sickest optimizations is this one</li>
<li>You can use the same memory for multiple attachments (e.g. shadow map, depth, HDR buffer), as long as you donâ€™t use them at the same time.</li>
<li>But to do that safely, Vulkan needs to know:
<ul>
<li>
<blockquote>
<p><em>â€œWhen does this memory stop being â€˜render targetâ€™ and start being â€˜textureâ€™ or â€˜compute inputâ€™?â€</em></p>
</blockquote>
</li>
</ul>
</li>
</ul>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>Layouts <span class="token operator">+</span> barriers <span class="token operator">=</span> safe aliasing<span class="token punctuation">.</span>

Drivers can now<span class="token operator">:</span>
<span class="token operator">-</span> Use the same memory pool
<span class="token operator">-</span> Skip clearing
<span class="token operator">-</span> Not <span class="token keyword keyword-double">double</span> allocate

You become a GPU memory ninja ğŸ’¨ğŸ—¡ï¸
</code></pre> <br>
</li>
<li>
<p>ğŸ“œ Predictability = Performance</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>Explicit layouts give Vulkan <span class="token keyword keyword-this">this</span> power<span class="token operator">:</span>
<span class="token operator">-</span> It knows exactly when <span class="token operator">and</span> how you are going to use an image<span class="token punctuation">.</span>
<span class="token operator">-</span> So it can avoid runtime guessing<span class="token punctuation">,</span> which causes<span class="token operator">:</span>
    <span class="token operator">-</span> CPU stalls
    <span class="token operator">-</span> Cache flushes
    <span class="token operator">-</span> Sync fences
    <span class="token operator">-</span> Or even full GPU pipeline bubbles ğŸ˜µâ€ğŸ’«

<span class="token operator">-</span> Compared to OpenGL <span class="token operator">or</span> DirectX11<span class="token punctuation">,</span> where the driver had to guess what you meant <span class="token operator">and</span> <span class="token keyword keyword-do">do</span> hidden magic â€” Vulkan is like<span class="token operator">:</span> 
</code></pre><ul>
<li>
<blockquote>
<p><em>â€œIf you donâ€™t tell me what layout you want, Iâ€™ll trip and fall flat on my face ğŸ˜­â€</em></p>
</blockquote>
</li>
</ul>
 <br>
 <div style="page-break-after: always;"></div>
</li>
<li>
<p>ğŸ‘» You can skip transitions altogether if you do it right</p>
<ul>
<li>This is the reward -&gt; If your RenderPass is smart â€” using <code>VK_ATTACHMENT_LOAD_OP_DONT_CARE</code> and reusing image layouts cleverly â€” you can avoid layout transitions entirely.
<ul>
<li>This is massive for tile-based GPUs (like on mobile phones):</li>
<li>No layout transition = no VRAM flush</li>
<li>Everything happens on-chip, like magic ğŸ’¨<br>
<br><br>
<br></li>
</ul>
</li>
</ul>
</li>
<li>
<p>ğŸ® Analogy: Baking Cookies ğŸª</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>Letâ€™s say you<span class="token number">'</span>re<span class="token operator">:</span>
<span class="token operator">-</span> Baking <span class="token function">cookies</span> <span class="token punctuation">(</span>rendering<span class="token punctuation">)</span>
<span class="token operator">-</span> Then you plate them <span class="token keyword keyword-for">for</span> <span class="token function">display</span> <span class="token punctuation">(</span>presenting<span class="token punctuation">)</span>
<span class="token operator">-</span> Later you want to show them off <span class="token operator">or</span> decorate <span class="token function">them</span> <span class="token punctuation">(</span>sample in shaders<span class="token punctuation">)</span>
</code></pre><ul>
<li>Hereâ€™s the deal:</li>
</ul>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>Vulkan <span class="token type-opencl-host-cpp keyword">Image</span> Layout	                  Cookie Stage
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>      <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
UNDEFINED	                    Empty tray<span class="token punctuation">,</span> nothing on it yet
COLOR_ATTACHMENT_OPTIMAL	    You<span class="token number">'</span>re baking the cookies ğŸ”¥
SHADER_READ_ONLY_OPTIMAL	    Youâ€™ve finished baking <span class="token operator">and</span> wanna <span class="token function">decorate</span> <span class="token punctuation">(</span>like sampling in a post<span class="token operator">-</span>process shader<span class="token punctuation">)</span> ğŸ¨
PRESENT_SRC_KHR	                Youâ€™re plating the cookies to serve ğŸ¥‚ <span class="token punctuation">(</span>sending to the screen<span class="token punctuation">)</span>
</code></pre><ul>
<li>Butâ€¦ here's the twist:
<ul>
<li>ğŸ’¥ You canâ€™t decorate cookies while theyâ€™re still baking in the oven.</li>
<li>ğŸ’¥ And you definitely canâ€™t serve someone cookies that are still stuck in a 200Â°C tray.</li>
</ul>
</li>
<li>So Vulkan says:
<ul>
<li>
<blockquote>
<p><em>â€œPlease transition between layouts, so I know what stage your cookie is in â€” and Iâ€™ll move it to the right place, with oven mitts, spatulas, etc.â€</em></p>
</blockquote>
</li>
</ul>
</li>
</ul>
 <br>
</li>
<li>
<p>ğŸ§¼ Why does this matter?</p>
<ul>
<li>If you donâ€™t do the transitions:</li>
</ul>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>You may <span class="token keyword keyword-try">try</span> to grab a cookie off a <span class="token number">200</span>Â°C tray <span class="token operator">and</span> get <span class="token function">burned</span> <span class="token punctuation">(</span>ğŸ’€ invalid reads<span class="token punctuation">)</span>
The cookies may <span class="token operator">not</span> be fully <span class="token function">baked</span> <span class="token punctuation">(</span>ğŸ’€ undefined writes<span class="token punctuation">)</span>
Or worse<span class="token operator">:</span> you show your customer an empty plate because Vulkan never moved them to the PRESENT_SRC_KHR plate ğŸ˜­
</code></pre><br>
</li>
<li>
<p>ğŸš€ What makes Vulkan powerful?</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>You get to say<span class="token operator">:</span>
<span class="token number">1.</span> <span class="token string">"Bake in tray A"</span>
<span class="token number">2.</span> <span class="token string">"Decorate using buffer B"</span>
<span class="token number">3.</span> <span class="token string">"Present from plate C"</span>

But you must tell Vulkan when to move cookies from one surface to another<span class="token punctuation">.</span>
Layouts <span class="token operator">=</span> telling Vulkan exactly thaaat<span class="token operator">!</span>
</code></pre><br>
<div style="page-break-after: always;"></div>
</li>
<li>
<p>ğŸ§ª Subpass Optimization (Tile-Based GPUs)</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>On tile<span class="token operator">-</span>based <span class="token function">GPUs</span> <span class="token punctuation">(</span>like PowerVR <span class="token operator">or</span> Mali<span class="token punctuation">)</span><span class="token operator">:</span>
<span class="token operator">-</span> Entire framebuffers live on<span class="token operator">-</span>chip<span class="token punctuation">,</span> in tiles
<span class="token operator">-</span> You can run all subpasses without touching VRAM<span class="token operator">!</span>

But it only works <span class="token keyword keyword-if">if</span> Vulkan knows<span class="token operator">:</span>
<span class="token operator">-</span> The image will stay in the same layout
<span class="token operator">-</span> No unnecessary STORE <span class="token operator">or</span> layout transitions

By carefully <span class="token keyword keyword-using">using</span><span class="token operator">:</span>
    layout <span class="token operator">=</span> VK_IMAGE_LAYOUT_ATTACHMENT_OPTIMAL<span class="token punctuation">;</span>
    loadOp <span class="token operator">=</span> DONT_CARE<span class="token punctuation">;</span>
    storeOp <span class="token operator">=</span> DONT_CARE<span class="token punctuation">;</span>

You unlock ğŸ¥· zero<span class="token operator">-</span>cost rendering<span class="token punctuation">.</span>
</code></pre><ul>
<li>That's why subpasses and layouts are so closely linked â€” <strong><em>no layout change</em></strong> â†’ <strong><em>no memory movement.</em></strong><br>
<br><br>
<br><br>
<br><br>
<br><br>
<br><br>
<br></li>
</ul>
</li>
</ol>
</li>
<li>
<p>ğŸ TL;DR: <code>Image Layout Transitions</code> Arenâ€™t Just Bureaucracy</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>ğŸ¯ They are literal instructions to the driver<span class="token operator">:</span>
    <span class="token operator">-</span> <span class="token string">"Where this image lives"</span>
    <span class="token operator">-</span> <span class="token string">"How itâ€™s structured"</span>
    <span class="token operator">-</span> <span class="token string">"What GPU unit will touch it next"</span>
    <span class="token operator">-</span> <span class="token string">"Whether you need to prepare, flush, decompress, or alias it"</span>

ğŸ¯ And by explicitly telling the GPU<span class="token punctuation">,</span> you<span class="token operator">:</span>
    <span class="token operator">-</span> Avoid expensive guesses
    <span class="token operator">-</span> Skip hidden memory ops
    <span class="token operator">-</span> Unlock mobile<span class="token operator">-</span>level optimizations
    <span class="token operator">-</span> Prevent subtle bugs <span class="token operator">and</span> undefined behavior
</code></pre> <br>
 <div style="page-break-after: always;"></div>
</li>
<li>
<p>ğŸ“œ <code>RenderPass Attachments Desc.</code></p>
<ul>
<li><strong><em><code>RenderPass Attachment</code> is not an actual thing!</em></strong></li>
<li><em><code>RenderPass Attachment Description/Descriptor</code> is a thing!</em>
<ul>
<li>However, the idea is.... <em><strong>We do "define"</strong></em> the <code>Attachments</code> right here, as we send the <code>AttachmentDescriptions</code> -&gt; <code>RenderPass</code></li>
</ul>
</li>
<li><em><code>RenderPass Attachment Description/Descriptors</code> are not actual images â€” theyâ€™re a template for what the RenderPass expects!</em>
<ul>
<li>&amp; The FrameBuffers must delivery <code>RenderPass</code> exactly with that</li>
</ul>
</li>
<li>
<h2><code>RenderPass Attachment</code> != <code>FrameBuffer Attachment</code></h2>
<table>
<thead>
<tr>
<th>RenderPass Attachments</th>
<th>Framebuffers</th>
</tr>
</thead>
<tbody>
<tr>
<td>Define what is needed</td>
<td>Provide which resources to use</td>
</tr>
<tr>
<td>Abstract (format, usage, layout)</td>
<td>Concrete (image views)</td>
</tr>
<tr>
<td>Reusable across Framebuffers</td>
<td>Swapchain-dependent (often 1:1)</td>
</tr>
</tbody>
</table>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>Think of it like a Socket <span class="token operator">&amp;</span> Plug
    <span class="token operator">-</span> `RenderPass`  ğŸ¥ª <span class="token operator">=</span> The RenderPass defines the <span class="token function">socket</span> <span class="token punctuation">(</span>shape<span class="token punctuation">,</span> voltage<span class="token punctuation">)</span><span class="token punctuation">.</span>
    <span class="token operator">-</span> `Framebuffer` ğŸ“¦ <span class="token operator">=</span> The Framebuffer provides the <span class="token function">plug</span> <span class="token punctuation">(</span>actual wires<span class="token punctuation">)</span> that fits the socket<span class="token punctuation">.</span>
</code></pre>  <br> 
</li>
</ul>
</li>
<li>
<p>ğŸ“¦ <code>FrameBuffer Attachment</code></p>
<ul>
<li>Actual <code>VkImageView</code><pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token type-opencl-host-cpp keyword">Image</span> <span class="token function">Views</span> <span class="token punctuation">(</span>VkImageView<span class="token punctuation">)</span><span class="token operator">:</span> 
    Handles to specific <span class="token function">images</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>g<span class="token punctuation">.</span><span class="token punctuation">,</span> swapchain images<span class="token punctuation">,</span> depth textures<span class="token punctuation">)</span><span class="token punctuation">.</span>
Compatibility<span class="token operator">:</span> 
    Must match the RenderPassâ€™s attachment <span class="token function">definitions</span> <span class="token punctuation">(</span>format<span class="token punctuation">,</span> sample count<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">.</span>
Swapchain Link<span class="token operator">:</span> 
    Typically<span class="token punctuation">,</span> one Framebuffer per swapchain image<span class="token punctuation">.</span>
</code></pre>  <br>
</li>
</ul>
</li>
<li>
<p>ğŸ›’ <code>FrameBuffers</code> [ğŸğŸ…ğŸ¥šğŸ—]</p>
<ul>
<li>Binds concrete <code>ImageViews</code> (e.g., <code>SwapChain Images</code>, <code>Depth Textures</code>) to the <code>attachments</code> defined in the <code>RenderPass</code>.</li>
<li>Must match the <code>RenderPassâ€™s Attachment Descriptions</code> (format, size, sample count).</li>
<li>Is <code>SwapChain</code>-dependent (e.g., each <code>SwapChainImage</code> typically has its own <code>Framebuffer</code>).</li>
<li>Analogy<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token operator">-</span> `RenderPass`  ğŸ¥ª <span class="token operator">=</span> A recipe requiring <span class="token string">"2 eggs and 1 cup of flour"</span> <span class="token punctuation">(</span>attachments<span class="token punctuation">)</span><span class="token punctuation">.</span>
<span class="token operator">-</span> `Framebuffer` ğŸ›’ <span class="token operator">=</span> The actual eggs <span class="token operator">and</span> <span class="token function">flour</span> <span class="token punctuation">(</span>image views<span class="token punctuation">)</span> you use to bake a <span class="token function">cake</span> <span class="token punctuation">(</span>render a frame<span class="token punctuation">)</span><span class="token punctuation">.</span>
</code></pre>  <br>
  <div style="page-break-after: always;"></div>
</li>
</ul>
</li>
<li>
<p>ğŸ“¦ <code>Attachments</code></p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>RenderPass <span class="token function">Attachments</span> <span class="token punctuation">(</span>Blueprint<span class="token punctuation">)</span>   â†’       <span class="token function">Framebuffer</span> <span class="token punctuation">(</span>Instance<span class="token punctuation">)</span>
â”Œ<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>â”        â”Œ<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>â”
â”‚ Attachment <span class="token number">0</span><span class="token operator">:</span> <span class="token function">Color</span> <span class="token punctuation">(</span>SRGB<span class="token punctuation">)</span>    â”‚        â”‚ <span class="token type-opencl-host-cpp keyword">Image</span> View <span class="token number">0</span><span class="token operator">:</span> Swapchain IMG â”‚
â”‚ Attachment <span class="token number">1</span><span class="token operator">:</span> <span class="token function">Depth</span> <span class="token punctuation">(</span>D32_SF<span class="token punctuation">)</span>  â”‚        â”‚ <span class="token type-opencl-host-cpp keyword">Image</span> View <span class="token number">1</span><span class="token operator">:</span> Depth Texture â”‚
â””<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>â”˜        â””<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>â”˜
</code></pre><ul>
<li>Attachments are simply images (or buffers) where Vulkan stores or reads data during a RenderPass.</li>
<li>Attachments are the actual framebuffer images (swapchain images, depth buffers, offscreen render targets, etc.)<br>
<br></li>
</ul>
<ol>
<li>ğŸ–Œï¸ Color Attachments = where the pretty pixels (RGBA) are painted and stored. This is like your paint palette! ğŸ¨</li>
<li>ğŸ”ï¸ Depth Attachments = the landscapes that prevent objects from clipping or showing up out of order. Imagine topography maps for depth! ğŸ—ºï¸</li>
<li>âœï¸ Stencil Attachments = the guides that show where we can paint, like drawing a "map" where only certain areas can be modified. ğŸ—ºï¸<br>
<br></li>
</ol>
<ul>
<li>Whatâ€™s inside?
<ul>
<li>A framebuffer that stores things like RGBA values (Red, Green, Blue, Alpha/Transparency).</li>
<li>For example,
<ul>
<li>Color Attachment 0 might hold the albedo or the final color of an object, while</li>
<li>Color Attachment 1 could store the lighting information or additional passes like ambient occlusion.</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>Each attachment you declare includes<span class="token operator">:</span>
<span class="token operator">-</span> <span class="token function">Format</span> <span class="token punctuation">(</span>VK_FORMAT_B8G8R8A8_SRGB<span class="token punctuation">,</span> etc<span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token operator">-</span> Sample <span class="token function">count</span> <span class="token punctuation">(</span><span class="token keyword keyword-for">for</span> MSAA<span class="token punctuation">)</span>
<span class="token operator">-</span> Load<span class="token operator">/</span>store ops
<span class="token operator">-</span> <span class="token function">Layouts</span> <span class="token punctuation">(</span>see above<span class="token punctuation">)</span>
</code></pre><ul>
<li>Then, each subpass tells Vulkan:</li>
<li>
<blockquote>
<p><em>"From all the attachments Iâ€™ve declared, Iâ€™m gonna use these ones in this subpass."</em></p>
</blockquote>
</li>
<li>in Code:<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>attachments<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> colorAttachment<span class="token punctuation">;</span>   <span class="token comment">// swapchain image</span>
attachments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> depthAttachment<span class="token punctuation">;</span>   <span class="token comment">// depth image</span>

subpass<span class="token punctuation">.</span>colorAttachment <span class="token operator">=</span> <span class="token operator">&amp;</span>attachments<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
subpass<span class="token punctuation">.</span>depthAttachment <span class="token operator">=</span> <span class="token operator">&amp;</span>attachments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>So even <span class="token keyword keyword-if">if</span> your RenderPass only has one subpass<span class="token punctuation">,</span> the Vulkan driver still wants to know<span class="token operator">:</span>
<span class="token operator">-</span> How many attachments
<span class="token operator">-</span> What to <span class="token keyword keyword-do">do</span> with <span class="token function">them</span> <span class="token punctuation">(</span>clear<span class="token operator">/</span>store<span class="token operator">?</span><span class="token punctuation">)</span>
<span class="token operator">-</span> What layouts they go into <span class="token operator">and</span> come out as
</code></pre>  <br>
  <br>
  <br>
  <br>
  <br>
  <div style="page-break-after: always;"></div> 
</li>
</ul>
</li>
<li>
<p>ğŸ›’ <code>FrameBuffers</code> v/s ğŸ“¦ <code>Attachments</code>:- The Last Fight, (If Above stuffs got you confused):-</p>
<ol>
<li>
<h2>Quick Comparison Table</h2>
<table>
<thead>
<tr>
<th>Aspect</th>
<th>Attachments (RenderPass) âœ–</th>
<th>Framebuffers ğŸ–¼</th>
</tr>
</thead>
<tbody>
<tr>
<td>Purpose</td>
<td>Define what resources are needed (format, usage, layout transitions) ğŸ“</td>
<td>Specify which actual images (image views) to use for those resources âœï¸</td>
</tr>
<tr>
<td>Concrete/Abstract</td>
<td>Abstract (blueprint) ğŸ“’</td>
<td>Concrete (instance) ğŸ—</td>
</tr>
<tr>
<td>Lifetime</td>
<td>Long-lived (reused across frames) â™»ï¸</td>
<td>Short-lived (often recreated with swapchain) â†»</td>
</tr>
<tr>
<td>Dependencies</td>
<td>Independent of images/swapchain â›” ğŸ–¼</td>
<td>Tied to swapchain images or specific textures ğŸ”—</td>
</tr>
<tr>
<td>Example</td>
<td>"Need a color attachment (SRGB) and depth attachment (D32_SFLOAT)" ğŸ¨â•ğŸŒ‘</td>
<td>"Use this swapchain image and that depth texture" ğŸ–¼ 1ï¸âƒ£ + ğŸ–¼ 2ï¸âƒ£</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Lifecycle Flowchart</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>RenderPass Creation ğŸ—ï¸  
â”‚  
â”œâ”€â”€ Define Attachments ğŸ“„ <span class="token punctuation">(</span>format<span class="token punctuation">,</span> load<span class="token operator">/</span>store ops<span class="token punctuation">,</span> layouts<span class="token punctuation">)</span>  
â”‚   â””â”€â”€ <span class="token string">"I need a color slot (B8G8R8A8_SRGB) and depth slot (D32_SFLOAT)"</span> ğŸ¨ğŸŒ‘
â”‚  
â””â”€â”€ Define Subpasses ğŸ”— <span class="token punctuation">(</span>how attachments are used in rendering steps<span class="token punctuation">)</span>  

â†“  

Framebuffer Creation ğŸ› ï¸  
â”‚  
â”œâ”€â”€ Bind <span class="token type-opencl-host-cpp keyword">Image</span> Views to Attachment Slots ğŸ”Œ  
â”‚   â””â”€â”€ <span class="token string">"Slot 0 = Swapchain Image View ğŸ–¼ï¸, Slot 1 = Depth Texture View ğŸ§Š"</span>  
â”‚  
â””â”€â”€ Validate Compatibility âœ… <span class="token punctuation">(</span>size<span class="token punctuation">,</span> format<span class="token punctuation">,</span> sample count<span class="token punctuation">)</span>  
</code></pre></li>
<li>
<h2>Use-Case Scenarios</h2>
<table>
<thead>
<tr>
<th>Scenario</th>
<th>Attachments (RenderPass) ğŸ§©</th>
<th>Framebuffers ğŸ–¼ï¸</th>
</tr>
</thead>
<tbody>
<tr>
<td>Swapchain Rendering</td>
<td>Define color/depth formats and layouts. ğŸ¨ğŸ”„ğŸŒ‘</td>
<td>Bind swapchain images + depth texture. ğŸ–¼ï¸ğŸ”—ğŸ§Š</td>
</tr>
<tr>
<td>Deferred Rendering</td>
<td>Define G-Buffer attachments (Albedo, Normal, Position). ğŸ“¦ğŸ“¦ğŸ“¦</td>
<td>Bind actual G-Buffer image views.     ğŸ–¼ï¸1ï¸âƒ£ğŸ–¼ï¸2ï¸âƒ£ğŸ–¼ï¸3ï¸âƒ£</td>
</tr>
<tr>
<td>Post-Processing</td>
<td>Define input (e.g., HDR color) + output (e.g., SRGB). ğŸŒŸâ¡ï¸ğŸ¨</td>
<td>Bind input texture + swapchain image.  ğŸ§©ğŸ–¼ï¸</td>
</tr>
<tr>
<td><br></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
 <div style="page-break-after: always;"></div>
</li>
<li>
<p>Key Interactions</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>RenderPass Begin Command ğŸš¦  
â”‚  
â”œâ”€â”€ Uses RenderPass Attachments ğŸ§© <span class="token punctuation">(</span>format<span class="token punctuation">,</span> load<span class="token operator">/</span>store rules<span class="token punctuation">)</span>  
â”‚  
â””â”€â”€ Uses Framebuffer ğŸ–¼ï¸ <span class="token punctuation">(</span>actual images to write to<span class="token punctuation">)</span>  

â†“  

GPU Renders ğŸ®  
â”‚  
â”œâ”€â”€ Reads<span class="token operator">/</span>Writes to Framebufferâ€™s <span class="token type-opencl-host-cpp keyword">Image</span> Views ğŸ“Š  
â”‚  
â””â”€â”€ Follows Attachment <span class="token function">Rules</span> <span class="token punctuation">(</span>clearing<span class="token punctuation">,</span> layout transitions<span class="token punctuation">)</span> ğŸ”„  
</code></pre></li>
<li>
<p>Emoji Analogy Time! ğŸ¤¯</p>
<ul>
<li>Attachments = Recipe Ingredients List ğŸ“œ (e.g., "2 eggs ğŸ¥šğŸ¥š, 1 cup flour ğŸš").</li>
<li>Framebuffers = Actual Ingredients ğŸ›’ (e.g., "This egg ğŸ¥š from the fridge, that flour ğŸš from the pantry").</li>
<li>Rendering = Baking the Cake ğŸ‚ (combine them using the recipe steps!).<br>
<br></li>
</ul>
</li>
</ol>
</li>
<li>
<p>Next Chapter will be on ğŸ›’ <code>FrameBuffers</code>!!!! ğŸ¤­</p>
</li>
</ol>
<div style="page-break-after: always;"></div>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<div align="center">
Everything above is written with help from chatGPT
</div>
<hr>
<div align="center">
Everything below is not!
</div>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<div style="page-break-after: always;"></div>
<h4 id="0-amvk-wrap--2">0. <code>amVK</code> Wrap ğŸ˜Š </h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token expression">"amVK_RenderPass<span class="token punctuation">.</span>hh</span></span>
        
        <span class="token comment">// TwT</span>
        SC<span class="token operator">-&gt;</span><span class="token function">GetSwapChainImagesKHR</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        SC<span class="token operator">-&gt;</span><span class="token function">CreateSwapChainImageViews</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    amVK_RenderPass <span class="token operator">*</span>RP <span class="token operator">=</span> PR<span class="token operator">-&gt;</span><span class="token function">create_RenderPass_interface</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre><h4 id="2-vkcreaterenderpass">2. <code>vkCreateRenderPass()</code> </h4>
<ul>
<li><a href="https://vkdoc.net/man/vkCreateRenderPass">https://vkdoc.net/man/vkCreateRenderPass</a></li>
<li>
<h5>REY_DOCs</h5>
<ul>
<li>Copy Paste <code>amVK_SwapChain.hh</code> Current Implementation &amp; Change it as needed
<ul>
<li>Trust me, this is the most fun way of doing this, xP</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="3-vkrenderpasscreateinfo">3. <code>VkRenderPassCreateInfo()</code> </h4>
<ul>
<li><a href="https://vkdoc.net/man/VkRenderPassCreateInfo">https://vkdoc.net/man/VkRenderPassCreateInfo</a>
<ul>
<li><code>.flags</code> ğŸš© Only Option:- used for Qualcom Extension</li>
<li><code>.pAttachments</code> ğŸ”— <strong><em>this-&gt;SubChapter4</em></strong></li>
<li><code>.pSubpasses</code> ğŸ”— <strong><em>this-&gt;SubChapter5</em></strong></li>
<li><code>.pDependencies</code> ğŸ”— <strong><em>this-&gt;SubChapter6</em></strong></li>
</ul>
</li>
</ul>
<h4 id="4-imageviews">4. <code>ImageViews</code> </h4>
<ol>
<li>
<p><code>vkGetSwapchainImagesKHR()</code></p>
<ul>
<li><a href="https://vkdoc.net/man/vkGetSwapchainImagesKHR">https://vkdoc.net/man/vkGetSwapchainImagesKHR</a></li>
<li>Implement Exactly like <strong><em>Chapter2.5</em></strong> ğŸ˜‰
<ul>
<li><code>vkGetPhysicalDeviceQueueFamilyProperties()</code></li>
</ul>
</li>
<li>
<h5>REY_DOCs</h5>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">amVK_SwapChain</span>  <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    amVK_Device <span class="token operator">*</span>D <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
    VkSwapchainKHR SC <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
    REY_Array<span class="token operator">&lt;</span>VkImage<span class="token operator">&gt;</span>    amVK_1D_SC_IMGs<span class="token punctuation">;</span>
    REY_Array<span class="token operator">&lt;</span>amVK_Image<span class="token operator">&gt;</span> amVK_1D_SC_IMGs_amVK_WRAP<span class="token punctuation">;</span>
    <span class="token keyword keyword-bool">bool</span> called_GetSwapchainImagesKHR <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre></li>
</ul>
</li>
<li>
<p><code>vkCreateImageView()</code></p>
<ul>
<li><a href="https://vkdoc.net/man/vkCreateImageView">https://vkdoc.net/man/vkCreateImageView</a></li>
<li>
<h5>REY_DOCs</h5>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-void">void</span> <span class="token function">CreateSwapChainImageViews</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">REY_Array_LOOP</span><span class="token punctuation">(</span>amVK_1D_SC_IMGs_amVK_WRAP<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        amVK_1D_SC_IMGs_amVK_WRAP<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">createImageView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><ul>
<li><code>amVK_Image.hh</code>:- <a href="./examples/4.guide.chapter5.3.2.Image.hh">4.guide.chapter5.3.2.Image.hh</a></li>
</ul>
</li>
</ul>
 <div style="page-break-after: always;"></div> 
</li>
<li>
<p><code>VkImageViewCreateInfo</code></p>
<ul>
<li><a href="https://vkdoc.net/man/VkImageViewCreateInfo">https://vkdoc.net/man/VkImageViewCreateInfo</a></li>
<li>
<h5>REY_DOCs</h5>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-void">void</span> amVK_SwapChain<span class="token double-colon punctuation">::</span><span class="token function">CreateSwapChainImageViews</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">REY_Array_LOOP</span><span class="token punctuation">(</span>amVK_1D_SC_IMGs_amVK_WRAP<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// ViewCI.image</span>
            <span class="token comment">// ViewCI.format</span>
                <span class="token comment">// should be set inside amVK_SwapChain::GetSwapchainImagesKHR()</span>
        amVK_1D_SC_IMGs_amVK_WRAP<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>ViewCI<span class="token punctuation">.</span>viewType <span class="token operator">=</span> VK_IMAGE_VIEW_TYPE_2D<span class="token punctuation">;</span>

        amVK_1D_SC_IMGs_amVK_WRAP<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>ViewCI<span class="token punctuation">.</span>components <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token comment">// Equivalent to:</span>
            VK_COMPONENT_SWIZZLE_R<span class="token punctuation">,</span>        <span class="token comment">// VK_COMPONENT_SWIZZLE_IDENTITY</span>
            VK_COMPONENT_SWIZZLE_G<span class="token punctuation">,</span>        <span class="token comment">// VK_COMPONENT_SWIZZLE_IDENTITY</span>
            VK_COMPONENT_SWIZZLE_B<span class="token punctuation">,</span>        <span class="token comment">// VK_COMPONENT_SWIZZLE_IDENTITY</span>
            VK_COMPONENT_SWIZZLE_A         <span class="token comment">// VK_COMPONENT_SWIZZLE_IDENTITY</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        amVK_1D_SC_IMGs_amVK_WRAP<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>ViewCI<span class="token punctuation">.</span>subresourceRange<span class="token punctuation">.</span>aspectMask <span class="token operator">=</span> VK_IMAGE_ASPECT_COLOR_BIT<span class="token punctuation">;</span>
        amVK_1D_SC_IMGs_amVK_WRAP<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>ViewCI<span class="token punctuation">.</span>subresourceRange<span class="token punctuation">.</span>baseMipLevel <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        amVK_1D_SC_IMGs_amVK_WRAP<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>ViewCI<span class="token punctuation">.</span>subresourceRange<span class="token punctuation">.</span>levelCount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        amVK_1D_SC_IMGs_amVK_WRAP<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>ViewCI<span class="token punctuation">.</span>subresourceRange<span class="token punctuation">.</span>baseArrayLayer <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        amVK_1D_SC_IMGs_amVK_WRAP<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>ViewCI<span class="token punctuation">.</span>subresourceRange<span class="token punctuation">.</span>layerCount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

        amVK_1D_SC_IMGs_amVK_WRAP<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">createImageView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></li>
</ul>
</li>
</ol>
<div style="page-break-after: always;"></div>
<h4 id="5-vkattachmentdescription">5. <code>VkAttachmentDescription</code> </h4>
<ul>
<li><a href="https://vkdoc.net/man/VkAttachmentDescription">https://vkdoc.net/man/VkAttachmentDescription</a></li>
</ul>
<h4 id="6-vksubpassdescription">6. <code>VkSubpassDescription</code> </h4>
<ul>
<li><a href="https://vkdoc.net/man/VkSubpassDescription">https://vkdoc.net/man/VkSubpassDescription</a></li>
</ul>
<h4 id="7-vksubpassdependency">7. <code>VkSubpassDependency</code> </h4>
<ul>
<li><a href="https://vkdoc.net/man/VkSubpassDependency">https://vkdoc.net/man/VkSubpassDependency</a></li>
</ul>
<h4 id="8-all-the-last-3-together---code">8. All the last 3 together ---&gt; Code </h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">amVK_RenderPass</span>  <span class="token punctuation">{</span>
  <span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    REY_ArrayDYN<span class="token operator">&lt;</span>VkAttachmentDescription<span class="token operator">&gt;</span> attachments<span class="token punctuation">;</span>
    REY_ArrayDYN<span class="token operator">&lt;</span>VkSubpassDescription<span class="token operator">&gt;</span> subpasses<span class="token punctuation">;</span>
    REY_ArrayDYN<span class="token operator">&lt;</span>VkSubpassDependency<span class="token operator">&gt;</span> dependencies<span class="token punctuation">;</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">set_attachments_subpasses_dependencies</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><ul>
<li><code>amVK_RenderPass.hh</code> [Full Implementation]:- <a href="./examples/4.guide.chapter5.8.RenderPass.hh">4.guide.chapter5.8.RenderPass.hh</a></li>
</ul>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>amVK_RenderPass <span class="token operator">*</span>RP <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token function">amVK_RenderPass</span><span class="token punctuation">(</span>D<span class="token punctuation">)</span><span class="token punctuation">;</span>
    RP<span class="token operator">-&gt;</span>attachments<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token punctuation">.</span>format <span class="token operator">=</span> SC<span class="token operator">-&gt;</span>CI<span class="token punctuation">.</span>imageFormat<span class="token punctuation">,</span>                       <span class="token comment">// Use the color format selected by the swapchain</span>
        <span class="token punctuation">.</span>samples <span class="token operator">=</span> VK_SAMPLE_COUNT_1_BIT<span class="token punctuation">,</span>                   <span class="token comment">// We don't use multi sampling in this example</span>
        <span class="token punctuation">.</span>loadOp <span class="token operator">=</span> VK_ATTACHMENT_LOAD_OP_CLEAR<span class="token punctuation">,</span>              <span class="token comment">// Clear this attachment at the start of the render pass</span>
        <span class="token punctuation">.</span>storeOp <span class="token operator">=</span> VK_ATTACHMENT_STORE_OP_STORE<span class="token punctuation">,</span>            
            <span class="token comment">// Keep its contents after the render pass is finished (for displaying it)</span>
        <span class="token punctuation">.</span>stencilLoadOp <span class="token operator">=</span> VK_ATTACHMENT_LOAD_OP_DONT_CARE<span class="token punctuation">,</span>   
            <span class="token comment">// Similar to loadOp, but for stenciling (we don't use stencil here)</span>
        <span class="token punctuation">.</span>stencilStoreOp <span class="token operator">=</span> VK_ATTACHMENT_STORE_OP_DONT_CARE<span class="token punctuation">,</span> 
            <span class="token comment">// Similar to storeOp, but for stenciling (we don't use stencil here)</span>
        <span class="token punctuation">.</span>initialLayout <span class="token operator">=</span> VK_IMAGE_LAYOUT_UNDEFINED<span class="token punctuation">,</span>         
            <span class="token comment">// Layout at render pass start. Initial doesn't matter, so we use undefined</span>
        <span class="token punctuation">.</span>finalLayout <span class="token operator">=</span> VK_IMAGE_LAYOUT_PRESENT_SRC_KHR<span class="token punctuation">,</span>     
            <span class="token comment">// Layout to which the attachment is transitioned when the render pass is finished</span>
            <span class="token comment">// As we want to present the color attachment, we transition to PRESENT_KHR</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    VkAttachmentReference colorReference <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token punctuation">.</span>attachment <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token punctuation">.</span>layout <span class="token operator">=</span> VK_IMAGE_LAYOUT_COLOR_ATTACHMENT_OPTIMAL
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    RP<span class="token operator">-&gt;</span>subpasses<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token punctuation">.</span>pipelineBindPoint <span class="token operator">=</span> VK_PIPELINE_BIND_POINT_GRAPHICS<span class="token punctuation">,</span>

        <span class="token punctuation">.</span>inputAttachmentCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>             
            <span class="token comment">// Input attachments can be used to sample from contents of a previous subpass</span>
        <span class="token punctuation">.</span>pInputAttachments <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">,</span>          <span class="token comment">// (Input attachments not used by this example)</span>
        <span class="token punctuation">.</span>colorAttachmentCount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>             <span class="token comment">// Subpass uses one color attachment</span>
        <span class="token punctuation">.</span>pColorAttachments <span class="token operator">=</span> <span class="token operator">&amp;</span>colorReference<span class="token punctuation">,</span>  <span class="token comment">// Reference to the color attachment in slot 0</span>

        <span class="token punctuation">.</span>pResolveAttachments <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">,</span>        
            <span class="token comment">// Resolve attachments are resolved at the end of a sub pass and can be used for e.g. multi sampling</span>
        <span class="token punctuation">.</span>pDepthStencilAttachment <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">,</span>    <span class="token comment">// (Depth attachments not used by this sample)</span>
        <span class="token punctuation">.</span>preserveAttachmentCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>          
            <span class="token comment">// Preserved attachments can be used to loop (and preserve) attachments through subpasses</span>
        <span class="token punctuation">.</span>pPreserveAttachments <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span>        <span class="token comment">// (Preserve attachments not used by this example)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    RP<span class="token operator">-&gt;</span>dependencies<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">// Setup dependency and add implicit layout transition from final to initial layout for the color attachment.</span>
        <span class="token comment">// (The actual usage layout is preserved through the layout specified in the attachment reference).</span>
        <span class="token punctuation">.</span>srcSubpass <span class="token operator">=</span> VK_SUBPASS_EXTERNAL<span class="token punctuation">,</span>
        <span class="token punctuation">.</span>dstSubpass <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token punctuation">.</span>srcStageMask <span class="token operator">=</span> VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT<span class="token punctuation">,</span>
        <span class="token punctuation">.</span>dstStageMask <span class="token operator">=</span> VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT<span class="token punctuation">,</span>
        <span class="token punctuation">.</span>srcAccessMask <span class="token operator">=</span> VK_ACCESS_NONE<span class="token punctuation">,</span>
        <span class="token punctuation">.</span>dstAccessMask <span class="token operator">=</span> VK_ACCESS_COLOR_ATTACHMENT_WRITE_BIT <span class="token operator">|</span> VK_ACCESS_COLOR_ATTACHMENT_READ_BIT<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    RP<span class="token operator">-&gt;</span><span class="token function">set_attachments_subpasses_dependencies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    RP<span class="token operator">-&gt;</span><span class="token function">createRenderPass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span> Made with help from P<span class="token punctuation">.</span>A<span class="token punctuation">.</span>Minerva Vulkan Guide <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
    https<span class="token operator">:</span><span class="token comment">//paminerva.github.io/docs/LearnVulkan/01.A-Hello-Window#416---creating-a-render-pass</span>
</code></pre><ul>
<li><code>main.cpp</code> [Full Implementation]:- <a href="./examples/4.guide.chapter5.8.main.cpp">4.guide.chapter5.8.main.cpp</a></li>
</ul>
<br>
<br>
<br>
<br>
<h4 id="9-by-this-time-vksurfacekhr-deserves-its-very-own-class-amvk_surface">9. By This time, VkSurfaceKHR deserves it's very own class <code>amVK_Surface</code> </h4>
<ul>
<li><code>amVK_Surface.hh</code> [Full Implementation]:- <a href="./examples/4.guide.chapter5.9.Surface.hh">4.guide.chapter5.9.Surface.hh</a></li>
</ul>
<br>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<br>
<h1 id="chapter-6">Chapter 6 </h1>
<div class="REY_TITLE_SUB1" align="center">
<p><code>amVK_ColorSpace.hh</code>, <code>amVK_Surface</code>, <code>amVK_SurfacePresenter</code>, Renaming Things in amVK</p>
</div>
<h2 id="1-amvk_colorspacehh">1. <code>amVK_ColorSpace.hh</code> </h2>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token comment">/**
 * ex. 1   amVK_IF::RGBA_8bpc_UNORM
 */</span>
<span class="token keyword keyword-namespace">namespace</span> amVK_ImageFormat <span class="token punctuation">{</span>
    <span class="token comment">// 8bpc = 8-bits per channel</span>
    <span class="token keyword keyword-inline">inline</span> <span class="token keyword keyword-constexpr">constexpr</span> VkFormat RGBA_8bpc_UNORM    <span class="token operator">=</span> VK_FORMAT_R8G8B8A8_UNORM<span class="token punctuation">;</span>    <span class="token comment">// 37</span>
    <span class="token keyword keyword-inline">inline</span> <span class="token keyword keyword-constexpr">constexpr</span> VkFormat RGBA_8bpc_SNORM    <span class="token operator">=</span> VK_FORMAT_R8G8B8A8_SNORM<span class="token punctuation">;</span>    <span class="token comment">// 38</span>
    <span class="token keyword keyword-inline">inline</span> <span class="token keyword keyword-constexpr">constexpr</span> VkFormat RGBA_8bpc_USCALED  <span class="token operator">=</span> VK_FORMAT_R8G8B8A8_USCALED<span class="token punctuation">;</span>  <span class="token comment">// 39</span>
    <span class="token keyword keyword-inline">inline</span> <span class="token keyword keyword-constexpr">constexpr</span> VkFormat RGBA_8bpc_SSCALED  <span class="token operator">=</span> VK_FORMAT_R8G8B8A8_SSCALED<span class="token punctuation">;</span>  <span class="token comment">// 40</span>
    <span class="token keyword keyword-inline">inline</span> <span class="token keyword keyword-constexpr">constexpr</span> VkFormat RGBA_8bpc_UINT     <span class="token operator">=</span> VK_FORMAT_R8G8B8A8_UINT<span class="token punctuation">;</span>     <span class="token comment">// 41</span>
    <span class="token keyword keyword-inline">inline</span> <span class="token keyword keyword-constexpr">constexpr</span> VkFormat RGBA_8bpc_SINT     <span class="token operator">=</span> VK_FORMAT_R8G8B8A8_SINT<span class="token punctuation">;</span>     <span class="token comment">// 42</span>
    <span class="token keyword keyword-inline">inline</span> <span class="token keyword keyword-constexpr">constexpr</span> VkFormat RGBA_8bpc_SRGB     <span class="token operator">=</span> VK_FORMAT_R8G8B8A8_SRGB<span class="token punctuation">;</span>     <span class="token comment">// 43</span>

    <span class="token comment">// Common Depth/Stencil Formats</span>
    <span class="token keyword keyword-inline">inline</span> <span class="token keyword keyword-constexpr">constexpr</span> VkFormat D32_SFLOAT         <span class="token operator">=</span> VK_FORMAT_D32_SFLOAT<span class="token punctuation">;</span>
    <span class="token keyword keyword-inline">inline</span> <span class="token keyword keyword-constexpr">constexpr</span> VkFormat D24_UNORM_S8_UINT  <span class="token operator">=</span> VK_FORMAT_D24_UNORM_S8_UINT<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">amVK_IF</span> <span class="token expression">amVK_ImageFormat</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">amVK_PF</span> <span class="token expression">amVK_ImageFormat</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">amVK_PixelFormat</span> <span class="token expression">amVK_ImageFormat</span></span>
</code></pre><ul>
<li>Entire Code:- <a href="../../amVK/common/amVK_ColorSpace.hh">amVK_ColorSpace.hh</a></li>
</ul>
<h2 id="2-amvk_surface">2. <code>amVK_Surface</code> </h2>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token comment">/**
 * VULKAN-EXT:- `VK_KHR_surface`
 *       IMPL:- `amVK_1D_SurfaceInfos`
 */</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">amVK_Surface</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    VkSurfaceKHR S <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>       <span class="token comment">// Set in CONSTRUCTOR</span>
    amVK_SurfacePresenter <span class="token operator">*</span>PR <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>   <span class="token comment">// Set in CONSTRUCTOR</span>
    
    <span class="token function">amVK_Surface</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token function">amVK_Surface</span><span class="token punctuation">(</span>VkSurfaceKHR pS<span class="token punctuation">)</span><span class="token punctuation">;</span>

                REY_Array<span class="token operator">&lt;</span>REY_Array<span class="token operator">&lt;</span>VkSurfaceFormatKHR<span class="token operator">&gt;&gt;</span>              amVK_2D_GPUs_ImageFMTs<span class="token punctuation">;</span>
                REY_Array<span class="token operator">&lt;</span>VkSurfaceCapabilitiesKHR<span class="token operator">&gt;</span>                   amVK_1D_GPUs_SurfCAP<span class="token punctuation">;</span>

    <span class="token keyword keyword-bool">bool</span> called_GetPhysicalDeviceSurfaceFormatsKHR <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-bool">bool</span> called_GetPhysicalDeviceSurfaceCapabilitiesKHR <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-void">void</span>        <span class="token function">GetPhysicalDeviceSurfaceInfo</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-void">void</span>        <span class="token function">GetPhysicalDeviceSurfaceCapabilitiesKHR</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><ul>
<li>Entire Code:- <a href="./examples/4.guide.chapter6.3.Surface.hh">4.guide.chapter6.3.Surface.hh</a></li>
</ul>
<div class="REY_NOSHOW_PDF">
<hr>
<div align="center" style="font-size: 50px; font-family: 'Iosevka Curly'; ">Page-Break</div>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<h2 id="3-amvk_surfacepresenter">3. <code>amVK_SurfacePresenter</code> </h2>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">amVK_SurfacePresenter</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    amVK_Surface  <span class="token operator">*</span>S  <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
    amVK_SwapChain <span class="token operator">*</span>SC <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
    amVK_RenderPass <span class="token operator">*</span>RP <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
        <span class="token comment">//   SC.VkDevice = RP.VkDevice</span>
    amVK_Device        <span class="token operator">*</span>D <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
    VkPhysicalDevice   GPU <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
        <span class="token comment">// amVK_Device.m_PD = this-&gt;GPU;</span>
    amVK_GPU_Index GPU_Index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    
  <span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">bind_Device</span><span class="token punctuation">(</span>amVK_Device <span class="token operator">*</span>D<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">amVK_SurfacePresenter</span>  <span class="token punctuation">(</span>amVK_Surface<span class="token operator">*</span> pS<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>S <span class="token operator">=</span> pS<span class="token punctuation">;</span><span class="token punctuation">}</span>

  <span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    amVK_SwapChain<span class="token operator">*</span>  <span class="token function">create_SwapChain</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    amVK_RenderPass<span class="token operator">*</span> <span class="token function">create_RenderPass</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Defined currently inside amVK_SwapChain.cpp</span>
    
    <span class="token keyword keyword-void">void</span>                      <span class="token function">refresh_SurfCaps</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>S<span class="token operator">-&gt;</span><span class="token function">GetPhysicalDeviceSurfaceCapabilitiesKHR</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    VkSurfaceCapabilitiesKHR<span class="token operator">*</span> <span class="token function">fetched_SurfCaps</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span> <span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>S<span class="token operator">-&gt;</span>amVK_1D_GPUs_SurfCAP<span class="token punctuation">[</span><span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>GPU_Index<span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><ul>
<li>Entire Code:- <a href="./examples/4.guide.chapter6.3.Surface.hh">4.guide.chapter6.3.Surface.hh</a><br>
<br></li>
</ul>
<h2 id="4-amvk-naming-conventions-">4. <code>amVK</code> Naming Conventions ğŸ˜Š </h2>
<ol>
<li>
<p>Calling Vulkan Library Functions:-</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-bool">bool</span> called_GetPhysicalDeviceSurfaceFormatsKHR <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token keyword keyword-bool">bool</span> called_GetPhysicalDeviceSurfaceCapabilitiesKHR <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token keyword keyword-void">void</span>        <span class="token function">GetPhysicalDeviceSurfaceInfo</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-void">void</span>        <span class="token function">GetPhysicalDeviceSurfaceCapabilitiesKHR</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></li>
<li>
<p><code>vkCreateZZZ()</code> wrappers</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>amVK_SwapChain <span class="token punctuation">{</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">CreateSwapChain</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        VkResult return_code <span class="token operator">=</span> <span class="token function">vkCreateSwapchainKHR</span><span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>D<span class="token operator">-&gt;</span>m_device<span class="token punctuation">,</span> <span class="token operator">&amp;</span>CI<span class="token punctuation">,</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span><span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>SC<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">amVK_return_code_log</span><span class="token punctuation">(</span> <span class="token string">"vkCreateSwapchainKHR()"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// above variable "return_code" can nott be named smth else</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></li>
<li>
<p><code>amVK_Object</code>/Instance-Creation</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>amVK_SwapChain<span class="token operator">*</span> amVK_SurfacePresenter<span class="token double-colon punctuation">::</span><span class="token function">create_SwapChain</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><br>
<br>
<br>
<br>
</li>
<li>
<p><code>amVK_Object::Functions()</code></p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>amVK_SwapChain<span class="token operator">*</span>   <span class="token function">create_SwapChain</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// Creates amVK_Object</span>
amVK_RenderPass<span class="token operator">*</span>  <span class="token function">create_RenderPass</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// Creates amVK_Object</span>
<span class="token keyword keyword-void">void</span>                      <span class="token function">refresh_SurfCaps</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// SurfCapabilities changes if Window is Resized</span>
VkSurfaceCapabilitiesKHR<span class="token operator">*</span> <span class="token function">fetched_SurfCaps</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// Returns the REFRESHED/FETCHED element</span>

<span class="token keyword keyword-void">void</span>            amVK_SwapChain<span class="token double-colon punctuation">::</span><span class="token function">sync_SurfCaps</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">/** Refreshes &amp; Syncs `SurfaceCapabilites` */</span>
<span class="token keyword keyword-void">void</span>            amVK_SwapChain<span class="token double-colon punctuation">::</span><span class="token function">konf_Images</span><span class="token punctuation">(</span>
    VkFormat IF<span class="token punctuation">,</span> 
    VkColorSpaceKHR CS<span class="token punctuation">,</span> 
    VkImageUsageFlagBits IU<span class="token punctuation">,</span> 
    <span class="token keyword keyword-bool">bool</span> autoFallBack <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">)</span>
<span class="token keyword keyword-void">void</span>            amVK_SwapChain<span class="token double-colon punctuation">::</span><span class="token function">konf_Compositing</span><span class="token punctuation">(</span>
    VkPresentModeKHR PM<span class="token punctuation">,</span>
    amVK_CompositeClipping CC<span class="token punctuation">,</span>
    VkCompositeAlphaFlagBitsKHR CA
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-void">void</span>            amVK_SwapChain<span class="token double-colon punctuation">::</span><span class="token function">konf_ImageSharingMode</span><span class="token punctuation">(</span>VkSharingMode ISM<span class="token punctuation">)</span><span class="token punctuation">;</span>
VkFormat        amVK_SwapChain<span class="token double-colon punctuation">::</span><span class="token function">active_PixelFormat</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span>                    <span class="token punctuation">{</span><span class="token keyword keyword-return">return</span> CI<span class="token punctuation">.</span>imageFormat<span class="token punctuation">;</span><span class="token punctuation">}</span>
VkColorSpaceKHR amVK_SwapChain<span class="token double-colon punctuation">::</span><span class="token function">active_ColorSpace</span> <span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span>                    <span class="token punctuation">{</span><span class="token keyword keyword-return">return</span> CI<span class="token punctuation">.</span>imageColorSpace<span class="token punctuation">;</span><span class="token punctuation">}</span>
</code></pre></li>
<li>
<p><code>VkObject</code> Variables</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">amVK_Image</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    amVK_Device <span class="token operator">*</span>D <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
    VkImage     vk_Image <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
    VkImageView vk_ImageView <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">amVK_FrameBuffer</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    amVK_SurfacePresenter <span class="token operator">*</span>PR <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>       <span class="token comment">// Basically, Parent Pointer</span>
    VkFramebuffer vk_FrameBuffer <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">amVK_RenderPass</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    amVK_SurfacePresenter <span class="token operator">*</span>PR <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>       <span class="token comment">// Basically, Parent Pointer</span>
    VkRenderPass vk_RenderPass <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">amVK_Surface</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    amVK_SurfacePresenter <span class="token operator">*</span>PR <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>   <span class="token comment">// Created in CONSTRUCTOR</span>
    VkSurfaceKHR vk_SurfaceKHR <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>   <span class="token comment">//     Set in CONSTRUCTOR</span>
<span class="token punctuation">}</span>
</code></pre></li>
</ol>
<div class="REY_NOSHOW_PDF">
<hr>
<div align="center" style="font-size: 50px; font-family: 'Iosevka Curly'; ">Page-Break</div>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<h2 id="5-amvk_renderpass_descriptorshh">5. <code>amVK_RenderPass_Descriptors.hh</code> </h2>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-namespace">namespace</span> amVK_RP_AttachmentDescription
<span class="token punctuation">{</span>
        <span class="token comment">// Change .format before using</span>
    <span class="token keyword keyword-inline">inline</span> VkAttachmentDescription ColorPresentation <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token punctuation">.</span>format <span class="token operator">=</span> VK_FORMAT_UNDEFINED<span class="token punctuation">,</span>            <span class="token comment">// you should use the ImageFormat selected by the swapchain</span>
        <span class="token punctuation">.</span>samples <span class="token operator">=</span> VK_SAMPLE_COUNT_1_BIT<span class="token punctuation">,</span>         <span class="token comment">// We don't use multi sampling in this example</span>
        <span class="token punctuation">.</span>loadOp <span class="token operator">=</span> VK_ATTACHMENT_LOAD_OP_CLEAR<span class="token punctuation">,</span>    <span class="token comment">// Clear this attachment at the start of the render pass</span>
        <span class="token punctuation">.</span>storeOp <span class="token operator">=</span> VK_ATTACHMENT_STORE_OP_STORE<span class="token punctuation">,</span>  
            <span class="token comment">// Keep its contents after the render pass is finished (for displaying it)</span>
        <span class="token punctuation">.</span>stencilLoadOp <span class="token operator">=</span> VK_ATTACHMENT_LOAD_OP_DONT_CARE<span class="token punctuation">,</span>   
            <span class="token comment">// Similar to loadOp, but for stenciling (we don't use stencil here)</span>
        <span class="token punctuation">.</span>stencilStoreOp <span class="token operator">=</span> VK_ATTACHMENT_STORE_OP_DONT_CARE<span class="token punctuation">,</span> 
            <span class="token comment">// Similar to storeOp, but for stenciling (we don't use stencil here)</span>
        <span class="token punctuation">.</span>initialLayout <span class="token operator">=</span> VK_IMAGE_LAYOUT_UNDEFINED<span class="token punctuation">,</span> 
            <span class="token comment">// Layout at render pass start. Initial doesn't matter, so we use undefined</span>
        <span class="token punctuation">.</span>finalLayout <span class="token operator">=</span> VK_IMAGE_LAYOUT_PRESENT_SRC_KHR<span class="token punctuation">,</span> 
            <span class="token comment">// Layout to which the attachment is transitioned when the render pass is finished</span>
            <span class="token comment">// As we want to present the color attachment, we transition to PRESENT_KHR</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">amVK_RPADes</span> <span class="token expression">amVK_RP_AttachmentDescription</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">amVK_RPARef</span> <span class="token expression">amVK_RP_AttachmentReference</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">amVK_RPSDes</span> <span class="token expression">amVK_RP_SubpassDescription</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">amVK_RPSDep</span> <span class="token expression">amVK_RP_SubpassDependency</span></span>
</code></pre><ul>
<li>You should kinda check the <code>amVK_RenderPass_Descriptors.hh</code> file yourself ğŸ¤­</li>
</ul>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>amVK_RenderPass <span class="token operator">*</span>RP <span class="token operator">=</span> PR<span class="token operator">-&gt;</span><span class="token function">create_RenderPass_interface</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    amVK_RPADes<span class="token double-colon punctuation">::</span>ColorPresentation<span class="token punctuation">.</span>format <span class="token operator">=</span> SC<span class="token operator">-&gt;</span>CI<span class="token punctuation">.</span>imageFormat<span class="token punctuation">;</span>

    RP<span class="token operator">-&gt;</span>AttachmentInfos <span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>amVK_RPADes<span class="token double-colon punctuation">::</span>ColorPresentation<span class="token punctuation">)</span><span class="token punctuation">;</span>
    RP<span class="token operator">-&gt;</span>SubpassInfos    <span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>amVK_RPSDes<span class="token double-colon punctuation">::</span>ColorPresentation<span class="token punctuation">)</span><span class="token punctuation">;</span>
    RP<span class="token operator">-&gt;</span>Dependencies    <span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>amVK_RPSDep<span class="token double-colon punctuation">::</span>ColorPresentation<span class="token punctuation">)</span><span class="token punctuation">;</span>

    RP<span class="token operator">-&gt;</span><span class="token function">sync_Attachments_Subpasses_Dependencies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    RP<span class="token operator">-&gt;</span><span class="token function">CreateRenderPass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><br>
<h2 id="6-rey_utilshh">6. <code>REY_Utils.hh</code> </h2>
<ol>
<li><code>REY_Array</code></li>
</ol>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>REY_ArrayDYN<span class="token operator">&lt;</span>VkDeviceQueueCreateInfo<span class="token operator">&gt;</span> Array <span class="token operator">=</span> <span class="token generic-function"><span class="token function">REY_ArrayDYN</span><span class="token generic class-name"><span class="token operator">&lt;</span>VkDeviceQueueCreateInfo<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// No MemoryAllocation by default ğŸ˜Š</span>
    <span class="token comment">//      1. REY_ArrayDYN.initialize(10)</span>
    <span class="token comment">//      2. REY_ARRAY_PUSH_BACK(Array) = your_QueueCI;        [not a function. but rather a preprocessor macro]</span>
</code></pre><br>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<br>
<div class="REY_PAGE_STARTS_WITH_H2"></div>
<h1 id="chapter-7--framebuffer-">Chapter 7: ğŸ›’ <code>FrameBuffer</code> [ğŸğŸ…ğŸ¥šğŸ—] </h1>
<h4 id="1-ï¸-vkcreateframebuffer">1. ğŸ› ï¸ <code>vkCreateFramebuffer()</code> </h4>
<ul>
<li><a href="https://vkdoc.net/man/vkCreateFramebuffer">https://vkdoc.net/man/vkCreateFramebuffer</a></li>
<li>
<h5>ğŸ“œ REY_DOCs</h5>
<ul>
<li>Copy Paste <code>amVK_RenderPass.hh</code> Current Implementation &amp; Change it as needed
<ul>
<li>Trust me, this is the most fun way of doing this, xP</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="2--vkframebuffercreateinfo">2. ğŸ“¦ <code>VkFramebufferCreateInfo()</code> </h4>
<ul>
<li>
<p><a href="https://vkdoc.net/man/VkFramebufferCreateInfo">https://vkdoc.net/man/VkFramebufferCreateInfo</a></p>
<ul>
<li><code>.flags</code> ğŸ³ï¸ <code>0</code>
<ul>
<li><a href="https://vkdoc.net/man/VkFramebufferCreateFlagBits">https://vkdoc.net/man/VkFramebufferCreateFlagBits</a> | <a href="https://github.com/ivirtex/vulkan-hover-docs/tree/master/vscode_ext/vulkan_man_md_pages/VkFramebufferCreateFlagBits.md">ivirtex-github</a></li>
<li>ğŸš© <code>VK_FRAMEBUFFER_CREATE_IMAGELESS_BIT</code> [ImageLess FrameBuffer]</li>
</ul>
</li>
<li><code>.renderPass</code> ğŸŸªğŸ’â€â™€ï¸</li>
<li><code>.pAttachments</code> ğŸ”— <strong><em>SubChapter 3</em></strong></li>
<li><code>.width</code></li>
<li><code>.height</code></li>
<li><code>.layers</code></li>
</ul>
</li>
<li>
<h5>ğŸ“œ REY_DOCs</h5>
<ul>
<li>Start With basic copy paste of <code>amVK_RenderPass.hh</code>:-</li>
</ul>
</li>
<li>
<h5><code>ğŸ“½ï¸ So far, The result</code> <a href="https://github.com/REYNEP/amGHOST/blob/1f6bfe014c42962f935a546c39ddb237ff99d002/amVK/core/amVK_RenderPassFBs.hh">amVK_RenderPassFBs.hh</a></h5>
</li>
</ul>
<br>
<br>
<h4 id="3-vkimageview-pattachments">3. <code>VkImageView .pAttachments</code> </h4>
<ul>
<li><a href="https://vkdoc.net/man/VkImageView">https://vkdoc.net/man/VkImageView</a>
<ul>
<li>For Now, We are gonna choose 1 VkImageView per FrameBuffer</li>
</ul>
</li>
<li>
<h5><code>&lt;/&gt; TheCode</code></h5>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-void">void</span> amVK_RenderPassFBs<span class="token double-colon punctuation">::</span><span class="token function">CreateFrameBuffers</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>SC_IMGs<span class="token operator">-&gt;</span>called_GetSwapChainImagesKHR <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span>   <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>SC_IMGs<span class="token operator">-&gt;</span>       <span class="token function">GetSwapChainImagesKHR</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token punctuation">}</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>SC_IMGs<span class="token operator">-&gt;</span>called_CreateSwapChainImageViews <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span>   <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>SC_IMGs<span class="token operator">-&gt;</span>       <span class="token function">CreateSwapChainImageViews</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token punctuation">}</span>

    VkExtent2D imageExtent <span class="token operator">=</span> <span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>SC_IMGs<span class="token operator">-&gt;</span><span class="token function">active_ImageExtent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>CI<span class="token punctuation">.</span>width  <span class="token operator">=</span> imageExtent<span class="token punctuation">.</span>width<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>CI<span class="token punctuation">.</span>height <span class="token operator">=</span> imageExtent<span class="token punctuation">.</span>height<span class="token punctuation">;</span>

    <span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>amVK_1D_RP_FBs<span class="token punctuation">.</span><span class="token function">reserve</span><span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>SC_IMGs<span class="token operator">-&gt;</span>amVK_1D_SC_IMGs<span class="token punctuation">.</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">REY_Array_LOOP</span><span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>amVK_1D_RP_FBs<span class="token punctuation">,</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>CI<span class="token punctuation">.</span>attachmentCount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>CI<span class="token punctuation">.</span>pAttachments <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>SC_IMGs<span class="token operator">-&gt;</span>amVK_1D_SC_IMGViews<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">VK_DEVICE</span> <span class="token expression"><span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>RP<span class="token operator">-&gt;</span>D<span class="token operator">-&gt;</span>vk_Device</span></span>
            
        VkResult return_code <span class="token operator">=</span> <span class="token function">vkCreateFramebuffer</span><span class="token punctuation">(</span>VK_DEVICE<span class="token punctuation">,</span> <span class="token operator">&amp;</span>CI<span class="token punctuation">,</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span><span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>amVK_1D_RP_FBs<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">amVK_return_code_log</span><span class="token punctuation">(</span> <span class="token string">"vkCreateFramebuffer()"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></li>
<li>
<h5><code>ğŸ“½ï¸ So far, The result</code> <a href="https://github.com/REYNEP/amGHOST/blob/1f6bfe014c42962f935a546c39ddb237ff99d002/amVK/core/amVK_RenderPass.cpp#L34-L55">amVK_RenderPass.cpp#L34-L55</a></h5>
</li>
</ul>
<br>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<br>
<div class="REY_TITLE" align="center">
<h1 id="chapter-8-commandbuffer-">Chapter 8: <code>CommandBuffer</code> ğŸ“ </h1>
<div class="REY_TITLE_SUB1">
<p>Rendering commands have to be Recorded in a CommandBuffer.<br>
Only then the GPU can work on it ğŸ’â€â™€ï¸.<br>
That's the idea, since decades ago, so yeah, xD.</p>
</div>
</div>
<h2 id="0-amvk-wrap--3">0. <code>amVK</code> wrap ğŸŒ¯ </h2>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"amVK_Synchronization.hh"</span></span>
    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"amVK_CommandPoolMAN.hh"</span></span>

        <span class="token comment">// TwT</span>
        <span class="token function">REY_LOG</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">amVK_S</span> <span class="token expression">amVK_Sync</span></span>
        <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">CPCF</span> <span class="token expression">CommandPoolCreateFlags</span></span>
    amVK_CommandPoolMAN<span class="token operator">*</span>CPMAN <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token function">amVK_CommandPoolMAN</span><span class="token punctuation">(</span>D<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        CPMAN<span class="token operator">-&gt;</span><span class="token function">init_CMDPool_Graphics</span><span class="token punctuation">(</span>amVK_S<span class="token double-colon punctuation">::</span>CPCF<span class="token double-colon punctuation">::</span>RecordBuffer_MoreThanOnce<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        CPMAN<span class="token operator">-&gt;</span><span class="token function">CreateCommandPool_Graphics</span><span class="token punctuation">(</span>flags<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        CPMAN<span class="token operator">-&gt;</span><span class="token function">AllocateCommandBuffers1_Graphics</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    amVK_CommandBufferPrimary <span class="token operator">*</span>CB <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token function">amVK_CommandBufferPrimary</span><span class="token punctuation">(</span>CPMAN<span class="token operator">-&gt;</span>BUFFs1<span class="token punctuation">.</span>Graphics<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h2 id="1-vkcommandpool">1. <code>VkCommandPool</code> </h2>
<h4 id="ï¸-vkcommandpoolcreateinfo">ğŸ› ï¸ <code>VkCommandPoolCreateInfo</code> </h4>
<ul>
<li>ğŸŒ‹ <a href="https://vkdoc.net/man/VkCommandPoolCreateInfo">https://vkdoc.net/man/VkCommandPoolCreateInfo</a>
<ul>
<li>
<p><code>.sType</code> ğŸŸª <code>VK_STRUCTURE_TYPE_COMMAND_POOL_CREATE_INFO</code></p>
</li>
<li>
<p><code>.pNext</code> ğŸŸª <code>NULL</code></p>
</li>
<li>
<p><code>.flags</code> ğŸ³ï¸ <code>VkCommandPoolCreateFlagBits</code></p>
<ul>
<li><a href="https://vkdoc.net/man/VkCommandPoolCreateFlagBits">https://vkdoc.net/man/VkCommandPoolCreateFlagBits</a> | <a href="https://github.com/ivirtex/vulkan-hover-docs/tree/master/vscode_ext/vulkan_man_md_pages/VkCommandPoolCreateFlagBits.md">ivirtex-github</a>
<ul>
<li>ğŸ³ï¸ <code>TRANSIENT</code></li>
<li>ğŸ³ï¸ <code>RESET_COMMAND_BUFFER</code>:- Lets you call <code>vkBeginCommandBuffer()</code> on same <code>CMDBUF</code> more than once</li>
<li>ğŸ³ï¸ <code>PROTECTED</code></li>
</ul>
</li>
<li>ğŸŸª <code>0</code>:- Can't call <code>vkBeginCommandBuffer()</code> more than once on the same <code>CMDBUF</code><br>
<br></li>
</ul>
</li>
<li>
<p><code>.queueFamilyIndex</code></p>
<ul>
<li>ğŸŸª CommandPool = <code>as per queueFamily</code></li>
<li>i am not sure if you can have multiple CommandPool on the same QueueFamily</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="-vkcreatecommandpool">ğŸ“¦ <code>vkCreateCommandPool()</code> </h4>
<ul>
<li>ğŸŒ‹ <a href="https://vkdoc.net/man/vkCreateCommandPool">https://vkdoc.net/man/vkCreateCommandPool</a>
<ul>
<li><code>.device</code> ğŸŸª ğŸ’â€â™€ï¸</li>
<li><code>.pCreateInfo</code> ğŸŸª ğŸ’â€â™€ï¸</li>
<li><code>.pAllocator</code> ğŸŸ¨ <strong>ChapterZZZ</strong></li>
<li><code>.pSemaphore</code> â†©ï¸ğŸ“¦<br>
<br></li>
</ul>
</li>
</ul>
<h4 id="-rey_docs">ğŸ“œ REY_DOCs </h4>
<ul>
<li>Copy Paste <code>amVK_FrameBuffer.hh</code> Current Implementation &amp; Change it as needed
<ul>
<li>Trust me, this is the most fun way of doing this, xP</li>
</ul>
</li>
</ul>
<h4 id="-amvk--amvk_commandpoolmanhhhttpsgithubcomreynepamghostblob74cf5c96a9b12db4896f2f4c592cfd72923d6231amvkcoreamvk_commandpoolmanhh">ğŸ§Š <code>amVK</code> ğŸ”— <a href="https://github.com/REYNEP/amGHOST/blob/74cf5c96a9b12db4896f2f4c592cfd72923d6231/amVK/core/amVK_CommandPoolMAN.hh">amVK_CommandPoolMAN.hh</a> </h4>
<div class="REY_NOSHOW_PDF">    <br><br><br><br><br><br>   </div><div class="REY_BR1_POSITIVE_PDF"></div>
<h2 id="2-vkcommandbuffer">2. <code>VkCommandBuffer</code> </h2>
<h4 id="ï¸-vkcommandbufferallocateinfo">ğŸ› ï¸ <code>VkCommandBufferAllocateInfo</code> </h4>
<ul>
<li><a href="https://vkdoc.net/man/VkCommandBufferAllocateInfo">https://vkdoc.net/man/VkCommandBufferAllocateInfo</a>
<ul>
<li><code>.sType</code> ğŸŸª <code>VK_STRUCTURE_TYPE_COMMAND_BUFFER_ALLOCATE_INFO</code></li>
<li><code>.pNext</code> ğŸŸª <code>NULL</code></li>
<li><code>.commandPool</code> ğŸŸª ğŸ’â€â™€ï¸</li>
<li><code>.level</code> ğŸ”€ <code>PRIMARY/SECONDARY</code> [Toggle]</li>
<li><code>.commandBufferCount</code> ğŸŸª ğŸ’â€â™€ï¸<br>
<br></li>
</ul>
</li>
</ul>
<h4 id="-vkallocatecommandbuffers">ğŸ“¦ <code>vkAllocateCommandBuffers()</code> </h4>
<ul>
<li><a href="https://vkdoc.net/man/vkAllocateCommandBuffers">https://vkdoc.net/man/vkAllocateCommandBuffers</a>
<ul>
<li><code>.device</code></li>
<li><code>.pAllocateInfo</code> ğŸŸª ğŸ’â€â™€ï¸</li>
<li><code>pCommandBuffers</code> â†©ï¸ğŸ“¦<br>
<br></li>
</ul>
</li>
</ul>
<h4 id="-amvk--amvk_commandpoolmanhhl63httpsgithubcomreynepamghostblob74cf5c96a9b12db4896f2f4c592cfd72923d6231amvkcoreamvk_commandpoolmanhhl63">ğŸ§Š <code>amVK</code> ğŸ”— <a href="https://github.com/REYNEP/amGHOST/blob/74cf5c96a9b12db4896f2f4c592cfd72923d6231/amVK/core/amVK_CommandPoolMAN.hh#L63">amVK_CommandPoolMAN.hh#L63</a> </h4>
<ul>
<li>both Primary &amp; Secondary commandBuffers are supported
<ul>
<li>But, as off <code>01 May, 2025</code>
<ul>
<li>amVK Users must use one of the <code>amVK_CommandPoolCATs</code> (Categories) e.g. Graphics/Compute ğŸ’â€â™€ï¸</li>
</ul>
</li>
</ul>
</li>
<li>ğŸ”— <a href="https://github.com/REYNEP/amGHOST/blob/74cf5c96a9b12db4896f2f4c592cfd72923d6231/amVK/common/amVK_Synchronization.hh">amVK_Synchronization.hh</a></li>
</ul>
<br>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<br>
<pre class="language-text">EntryNotFound (FileSystemError): Error: ENOENT: no such file or directory, open 'c:\Users\REY\Desktop\idk\amGHOST\amVK_Guide\P1\CH9.md'</pre>  <br>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<br>
<h2 id="chapter-10-ï¸-so-far-the-result">Chapter 10: ğŸ“½ï¸ <code>So far, The result</code> </h2>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"amGHOST_System.hh"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"amVK_Instance.hh"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"amVK_Device.hh"</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"amGHOST_VkSurfaceKHR.hh"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"amVK_Surface.hh"</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"amVK_SwapChain.hh"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"amVK_ColorSpace.hh"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"amVK_RenderPass.hh"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"amVK_RenderPass_Descriptors.hh"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"amVK_CommandPoolMAN.hh"</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> argumentCount<span class="token punctuation">,</span> <span class="token keyword keyword-char">char</span><span class="token operator">*</span> argumentVector<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    REY<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"\n"</span><span class="token punctuation">;</span>

    <span class="token comment">// ------------------------- amGHOST ----------------------------</span>
        amGHOST_System<span class="token double-colon punctuation">::</span><span class="token function">create_system</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        amGHOST_Window <span class="token operator">*</span>W <span class="token operator">=</span> amGHOST_System<span class="token double-colon punctuation">::</span>heart<span class="token operator">-&gt;</span><span class="token function">new_window_interface</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        W<span class="token operator">-&gt;</span><span class="token function">create</span><span class="token punctuation">(</span>L<span class="token string">"Whatever"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ------------------------- amGHOST ----------------------------</span>

    <span class="token function">REY_LOG</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">REY_LOG</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// --------------------------- amVK -----------------------------</span>
            <span class="token function">REY_LOG</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        amVK_Instance<span class="token double-colon punctuation">::</span><span class="token function">EnumerateInstanceExtensions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        amVK_Instance<span class="token double-colon punctuation">::</span><span class="token function">EnumerateInstanceLayerProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        amVK_Instance<span class="token double-colon punctuation">::</span><span class="token function">addTo_1D_Instance_Layers_Enabled</span><span class="token punctuation">(</span><span class="token string">"VK_LAYER_KHRONOS_validation"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        amVK_Instance<span class="token double-colon punctuation">::</span><span class="token function">addTo_1D_Instance_EXTs_Enabled</span><span class="token punctuation">(</span><span class="token string">"VK_KHR_surface"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        amVK_Instance<span class="token double-colon punctuation">::</span><span class="token function">addTo_1D_Instance_EXTs_Enabled</span><span class="token punctuation">(</span>amGHOST_System<span class="token double-colon punctuation">::</span><span class="token function">get_vulkan_os_surface_ext_name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        amVK_Instance<span class="token double-colon punctuation">::</span><span class="token function">CreateInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token function">REY_LOG</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        VkSurfaceKHR  VK_S <span class="token operator">=</span> amGHOST_VkSurfaceKHR<span class="token double-colon punctuation">::</span><span class="token function">create_surface</span><span class="token punctuation">(</span>W<span class="token punctuation">,</span> amVK_Instance<span class="token double-colon punctuation">::</span>vk_Instance<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token function">REY_LOG</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        amVK_Instance<span class="token double-colon punctuation">::</span><span class="token function">EnumeratePhysicalDevices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        amVK_GPUProps  <span class="token operator">*</span>GPUProps <span class="token operator">=</span> amVK_InstanceProps<span class="token double-colon punctuation">::</span><span class="token function">GetARandom_GPU</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        GPUProps<span class="token operator">-&gt;</span><span class="token function">GetPhysicalDeviceQueueFamilyProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        GPUProps<span class="token operator">-&gt;</span><span class="token function">EnumerateDeviceExtensionProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        GPUProps<span class="token operator">-&gt;</span><span class="token function">REY_CategorizeQueueFamilies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        amVK_Device<span class="token operator">*</span> D <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token function">amVK_Device</span><span class="token punctuation">(</span>GPUProps<span class="token punctuation">)</span><span class="token punctuation">;</span>
            D<span class="token operator">-&gt;</span><span class="token function">addTo_1D_GPU_EXTs_Enabled</span><span class="token punctuation">(</span><span class="token string">"VK_KHR_swapchain"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            D<span class="token operator">-&gt;</span><span class="token function">CreateDevice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            D<span class="token operator">-&gt;</span><span class="token function">GetDeviceQueues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
            <span class="token function">REY_LOG</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>
        amVK_Surface   <span class="token operator">*</span>S  <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token function">amVK_Surface</span><span class="token punctuation">(</span>VK_S<span class="token punctuation">)</span><span class="token punctuation">;</span>
            S<span class="token operator">-&gt;</span><span class="token function">GetPhysicalDeviceSurfaceInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            S<span class="token operator">-&gt;</span><span class="token function">GetPhysicalDeviceSurfaceCapabilitiesKHR</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>






        <span class="token comment">// --------------------------- SwapChain, RenderPass, FrameBuffers -----------------------------</span>
            <span class="token function">REY_LOG</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>
        amVK_SwapChain <span class="token operator">*</span>SC <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token function">amVK_SwapChain</span><span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>S<span class="token punctuation">,</span> <span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>D<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
            SC<span class="token operator">-&gt;</span><span class="token function">konf_ImageSharingMode</span><span class="token punctuation">(</span>VK_SHARING_MODE_EXCLUSIVE<span class="token punctuation">)</span><span class="token punctuation">;</span>
            SC<span class="token operator">-&gt;</span><span class="token function">konf_Images</span><span class="token punctuation">(</span>
                amVK_IF<span class="token double-colon punctuation">::</span>RGBA_8bpc_UNORM<span class="token punctuation">,</span>   <span class="token comment">// VK_FORMAT_R8G8B8A8_UNORM</span>
                amVK_CS<span class="token double-colon punctuation">::</span>sRGB<span class="token punctuation">,</span>              <span class="token comment">// VK_COLOR_SPACE_SRGB_NONLINEAR_KHR</span>
                amVK_IU<span class="token double-colon punctuation">::</span>Color_Display      <span class="token comment">// VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
            SC<span class="token operator">-&gt;</span><span class="token function">konf_Compositing</span><span class="token punctuation">(</span>
                amVK_PM<span class="token double-colon punctuation">::</span>FIFO<span class="token punctuation">,</span>              <span class="token comment">// VK_PRESENT_MODE_FIFO_KHR</span>
                amVK_CC<span class="token double-colon punctuation">::</span>YES<span class="token punctuation">,</span>               <span class="token comment">// Clipping:- VK_TRUE</span>
                amVK_TA<span class="token double-colon punctuation">::</span>Opaque             <span class="token comment">// VK_COMPOSITE_ALPHA_OPAQUE_BIT_KHR</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
            SC<span class="token operator">-&gt;</span><span class="token function">sync_SurfCaps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// refresh/fetch &amp; set/sync ---&gt; latest SurfCaps</span>

            SC<span class="token operator">-&gt;</span>CI<span class="token punctuation">.</span>oldSwapchain     <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
            SC<span class="token operator">-&gt;</span><span class="token function">CreateSwapChain</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        amVK_SwapChainIMGs <span class="token operator">*</span>SC_IMGs <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token function">amVK_SwapChainIMGs</span><span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>SC<span class="token punctuation">)</span><span class="token punctuation">;</span>
            SC_IMGs<span class="token operator">-&gt;</span>   <span class="token function">GetSwapChainImagesKHR</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            SC_IMGs<span class="token operator">-&gt;</span><span class="token function">CreateSwapChainImageViews</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>



        amVK_RenderPass <span class="token operator">*</span>RP <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token function">amVK_RenderPass</span><span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>D<span class="token punctuation">)</span><span class="token punctuation">;</span>
            amVK_RPADes<span class="token double-colon punctuation">::</span>ColorPresentation<span class="token punctuation">.</span>format <span class="token operator">=</span> SC<span class="token operator">-&gt;</span>CI<span class="token punctuation">.</span>imageFormat<span class="token punctuation">;</span>

            RP<span class="token operator">-&gt;</span>AttachmentInfos<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>amVK_RPADes<span class="token double-colon punctuation">::</span>ColorPresentation<span class="token punctuation">)</span><span class="token punctuation">;</span>
            RP<span class="token operator">-&gt;</span>SubpassInfos   <span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>amVK_RPSDes<span class="token double-colon punctuation">::</span>ColorPresentation<span class="token punctuation">)</span><span class="token punctuation">;</span>
            RP<span class="token operator">-&gt;</span>Dependencies   <span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>amVK_RPSDep<span class="token double-colon punctuation">::</span>ColorPresentation<span class="token punctuation">)</span><span class="token punctuation">;</span>

            RP<span class="token operator">-&gt;</span><span class="token function">sync_Attachments_Subpasses_Dependencies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            RP<span class="token operator">-&gt;</span><span class="token function">CreateRenderPass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        amVK_RenderPassFBs <span class="token operator">*</span>RP_FBs <span class="token operator">=</span> PR<span class="token operator">-&gt;</span><span class="token function">create_FrameBuffers_interface</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            RP_FBs<span class="token operator">-&gt;</span><span class="token function">CreateFrameBuffers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// --------------------------- SwapChain, RenderPass, FrameBuffers -----------------------------</span>



        amVK_CommandPoolMAN  <span class="token operator">*</span>CPMAN <span class="token operator">=</span> PR<span class="token operator">-&gt;</span><span class="token function">create_CommandPoolMAN_interface</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                              CPMAN<span class="token operator">-&gt;</span><span class="token function">init_CMDPool_Graphics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                              CPMAN<span class="token operator">-&gt;</span><span class="token function">CreateCommandPool_Graphics</span><span class="token punctuation">(</span>amVK_Sync<span class="token double-colon punctuation">::</span>CommandPoolCreateFlags<span class="token double-colon punctuation">::</span>RecordBuffer_MoreThanOnce<span class="token punctuation">)</span><span class="token punctuation">;</span>
                              CPMAN<span class="token operator">-&gt;</span><span class="token function">AllocateCommandBuffers1_Graphics</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        amVK_CommandBufferPrimary <span class="token operator">*</span>CB <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token function">amVK_CommandBufferPrimary</span><span class="token punctuation">(</span>CPMAN<span class="token operator">-&gt;</span>BUFFs1<span class="token punctuation">.</span>Graphics<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// --------------------------- amVK -----------------------------</span>
    <span class="token function">REY_LOG</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">REY_LOG</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token comment">// ------------------------- CleanUp &amp; ExportJSON ----------------------------</span>
        REY<span class="token double-colon punctuation">::</span>cin<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// wait for terminal input</span>
            amVK_InstancePropsEXPORT<span class="token double-colon punctuation">::</span><span class="token function">Export_nilohmannJSON_EXT</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">destroy_everything_serially</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// Last Chapter, copy code from there</span>
                W<span class="token operator">-&gt;</span>m_amGHOST_VkSurface<span class="token operator">-&gt;</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                amVK_Instance<span class="token double-colon punctuation">::</span><span class="token function">DestroyInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            W<span class="token operator">-&gt;</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ------------------------- CleanUp &amp; ExportJSON ----------------------------</span>

    REY<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"\n"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><br>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<p></p>

      </div>
      
    
    
      <div class="crossnote markdown-preview  ">
      
<p></p><div class="REY_TITLEV2"></div>
<h1 id="chapter-11--shader">Chapter 11: ğŸ”® <code>Shader</code> </h1>
<h2 id="vertex-shader">Vertex Shader </h2>
<pre data-role="codeBlock" data-info="glsl" class="language-glsl glsl"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">version</span> <span class="token expression"><span class="token number">450</span></span></span>

<span class="token keyword keyword-layout">layout</span><span class="token punctuation">(</span>location <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword keyword-out">out</span> <span class="token keyword keyword-vec3">vec3</span> fragColor<span class="token punctuation">;</span>

<span class="token keyword keyword-vec2">vec2</span> positions<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword keyword-vec2">vec2</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span>
    <span class="token keyword keyword-vec2">vec2</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword keyword-vec2">vec2</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword keyword-vec2">vec2</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-vec3">vec3</span> colors<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword keyword-vec3">vec3</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span>
    <span class="token keyword keyword-vec3">vec3</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   <span class="token keyword keyword-vec3">vec3</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword keyword-vec3">vec3</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-void">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    gl_Position <span class="token operator">=</span> <span class="token keyword keyword-vec4">vec4</span><span class="token punctuation">(</span>positions<span class="token punctuation">[</span>gl_VertexIndex<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    fragColor <span class="token operator">=</span> colors<span class="token punctuation">[</span>gl_VertexIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><ul>
<li>
<h4>Sooner or later, will have to switch to VertexBuffers ğŸ’â€â™€ï¸</h4>
</li>
</ul>
<br>
<h2 id="fragment-shader">Fragment Shader </h2>
<pre data-role="codeBlock" data-info="glsl" class="language-glsl glsl"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">version</span> <span class="token expression"><span class="token number">450</span></span></span>

<span class="token keyword keyword-layout">layout</span> <span class="token punctuation">(</span>location <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword keyword-in">in</span> <span class="token keyword keyword-vec3">vec3</span> fragColor<span class="token punctuation">;</span>

<span class="token keyword keyword-layout">layout</span> <span class="token punctuation">(</span>location <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword keyword-out">out</span> <span class="token keyword keyword-vec4">vec4</span> outColor<span class="token punctuation">;</span>

<span class="token keyword keyword-void">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    outColor <span class="token operator">=</span> <span class="token keyword keyword-vec4">vec4</span><span class="token punctuation">(</span>fragColor<span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h2 id="compiling--loading">Compiling &amp; Loading </h2>
<pre data-role="codeBlock" data-info="batch" class="language-batch batch"><code><span class="token command"><span class="token keyword keyword-glslangValidator">glslangValidator</span> <span class="token parameter attr-name">-V</span> triangle.vert <span class="token parameter attr-name">-o</span> triangle.vert.spv</span>
<span class="token command"><span class="token keyword keyword-glslangValidator">glslangValidator</span> <span class="token parameter attr-name">-V</span> triangle.frag <span class="token parameter attr-name">-o</span> triangle.frag.spv</span>
</code></pre><ul>
<li>
<h4>Github ğŸ”— <a href="https://github.com/REYNEP/amGHOST/blob/74cf5c96a9b12db4896f2f4c592cfd72923d6231/amVK/mesh/amVK_VertexBuffer.cpp#L66">LoadSPIRVShaderModule()</a></h4>
</li>
</ul>
<h2 id="stay-tuned-adding-more-in-this-chapter-ï¸">Stay Tuned, Adding more in this Chapter ğŸ’â€â™€ï¸ </h2>
<br>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<br>
<h1 id="chapter-12-ï¸-pipeline">Chapter 12: ğŸ› ï¸ <code>Pipeline</code> </h1>
<h3 id="0-iï¸-vkgraphicspipelinecreateinfo">0. â„¹ï¸ <code>VkGraphicsPipelineCreateInfo</code> </h3>
<ul>
<li><a href="https://vkdoc.net/man/VkGraphicsPipelineCreateInfo">https://vkdoc.net/man/VkGraphicsPipelineCreateInfo</a>
<ul>
<li>
<p><code>.sType</code> ğŸŸª <code>VK_STRUCTURE_TYPE_GRAPHICS_PIPELINE_CREATE_INFO</code></p>
</li>
<li>
<p><code>.pNext</code> ğŸª <code>nullptr</code></p>
</li>
<li>
<p><code>.flags</code> ğŸ³ï¸ <strong>ChapterZZZ</strong></p>
<ul>
<li>ğŸª <a href="https://vkdoc.net/man/VkPipelineCreateFlagBits">https://vkdoc.net/man/VkPipelineCreateFlagBits</a> | <a href="https://github.com/ivirtex/vulkan-hover-docs/tree/master/vscode_ext/vulkan_man_md_pages/VkPipelineCreateFlagBits.md">ivirtex-github</a><br>
<br></li>
</ul>
</li>
<li>
<p><code>.stageCount</code> ğŸ·ï¸ <code>uint32_t</code></p>
</li>
<li>
<p><code>.pStages</code> ğŸ”® Shaders ğŸ·ï¸ <code>VkPipelineShaderStageCreateInfo</code><br>
<br></p>
</li>
<li>
<p>ğŸ”€ Pipeline States / Stages</p>
<ul>
<li><code>.pVertexInputState</code> ğŸ¤­</li>
<li><code>.pInputAssemblyState</code></li>
<li><code>.pTessellationState</code></li>
<li><code>.pViewportState</code></li>
<li><code>.pRasterizationState</code></li>
<li><code>.pMultisampleState</code></li>
<li><code>.pDepthStencilState</code></li>
<li><code>.pColorBlendState</code></li>
<li><code>.pDynamicState</code><br>
<br></li>
</ul>
</li>
<li>
<p><code>.layout</code> ğŸ”— <em>SubChapter 2</em></p>
</li>
<li>
<p><code>.renderPass</code> ğŸ¥ª</p>
</li>
<li>
<p><code>.subpass</code> ğŸŸª <code>0</code></p>
</li>
<li>
<p><code>.basePipelineHandle</code> ğŸŸª<code>VK_NULL_HANDLE</code></p>
</li>
<li>
<p><code>.basePipelineIndex</code> ğŸŸª <code>INT32_MIN</code></p>
</li>
</ul>
</li>
</ul>
<br>
<h3 id="-amvk-wrap-">ğŸ§Š <code>amVK</code> wrap ğŸŒ¯ </h3>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>    amVK_PipelineGRAPHICS<span class="token operator">*</span> PLG <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token function">amVK_PipelineGRAPHICS</span><span class="token punctuation">(</span>RP_FBs<span class="token punctuation">)</span><span class="token punctuation">;</span>
        PLG<span class="token operator">-&gt;</span><span class="token function">CreateGraphicsPipeline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><br>
<h3 id="1-pipeline-objects">1. <code>Pipeline Objects</code> </h3>
<p>ğŸ”— <a href="https://github.com/REYNEP/amGHOST/blob/74cf5c96a9b12db4896f2f4c592cfd72923d6231/amVK/mesh/amVK_Vertex.hh#L43">amVK_Vertex.hh</a><br>
ğŸ”— <a href="https://github.com/REYNEP/amGHOST/blob/74cf5c96a9b12db4896f2f4c592cfd72923d6231/amVK/mesh/amVK_GeoMetry.hh#L7">amVK_GeoMetry.hh</a><br>
ğŸ”— <a href="https://github.com/REYNEP/amGHOST/blob/74cf5c96a9b12db4896f2f4c592cfd72923d6231/amVK/core/amVK_PipelineGRAPHICS.cpp">amVK_PipelineGRAPHICS.cpp</a></p>
<div class="REY_NOSHOW_PDF">
<hr>
<div align="center" style="font-size: 50px; font-family: 'Iosevka Curly'; ">Page-Break</div>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<h3 id="3-vkpipelinelayout">3. <code>VkPipelineLayout</code> </h3>
<ol>
<li>
<p>â„¹ï¸ <code>VkPipelineLayoutCreateInfo</code></p>
<ul>
<li><a href="https://vkdoc.net/man/VkPipelineLayoutCreateInfo">https://vkdoc.net/man/VkPipelineLayoutCreateInfo</a>
<ul>
<li>
<p><code>.sType</code> ğŸŸª <code>VK_STRUCTURE_TYPE_PIPELINE_LAYOUT_CREATE_INFO</code></p>
</li>
<li>
<p><code>.pNext</code> ğŸª <code>nullptr</code></p>
</li>
<li>
<p><code>.flags</code> ğŸ³ï¸ <code>0</code></p>
<ul>
<li>ğŸª <a href="https://vkdoc.net/man/VkPipelineLayoutCreateFlagBits">https://vkdoc.net/man/VkPipelineLayoutCreateFlagBits</a> | <a href="https://github.com/ivirtex/vulkan-hover-docs/tree/master/vscode_ext/vulkan_man_md_pages/VkPipelineLayoutCreateFlagBits.md">ivirtex-github</a><br>
<br></li>
</ul>
</li>
<li>
<p><code>.pSetLayouts</code> ğŸŸª <code>nullptr</code> ğŸ·ï¸ <code>VkDescriptorSetLayout</code> ğŸŸ¨ <strong>ChapterZZZ</strong></p>
</li>
<li>
<p><code>.pPushConstantRanges</code> ğŸŸª <code>nullptr</code> ğŸ·ï¸ <code>VkPushConstantRange</code> ğŸŸ¨ <strong>ChapterZZZ</strong></p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>ğŸ“¦ <code>vkCreatePipelineLayout()</code></p>
<ul>
<li><a href="https://vkdoc.net/man/vkCreatePipelineLayout">https://vkdoc.net/man/vkCreatePipelineLayout</a></li>
</ul>
</li>
</ol>
<br>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<br>
<div class="REY_TITLEV2"></div>
<h1 id="chapter-13-renderloop-ï¸">Chapter 13: <code>RenderLoop</code> ğŸ–¥ï¸ğŸ¨ </h1>
<div class="REY_BR5_NEGATIVE"></div>
<h3 id="-vulkan-wrap-">ğŸŒ‹ <code>Vulkan</code> wrap ğŸŒ¯ </h3>
<div class="REY_SMALLER_CODE">
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>    <span class="token keyword keyword-while">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">vkAcquireNextImageKHR</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">vkResetCommandBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// req:- VK_COMMAND_POOL_CREATE_RESET_COMMAND_BUFFER_BIT</span>
        <span class="token function">vkBeginCommandBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">vkCmdBeginRenderPass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">vkCmdSetViewport</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">vkCmdSetScissor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">vkCmdBindPipeline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token function">vkCmdDraw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">vkCmdEndRenderPass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">vkEndCommandBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token function">vkQueueSubmit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">vkQueuePresentKHR</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">vkQueueWaitIdle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">PROCESS_InputEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">REY_NoobTimer</span><span class="token double-colon punctuation">::</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// wait 10ms</span>
    <span class="token punctuation">}</span>
</code></pre></div>
<br>
<h3 id="-amvk-wrap--1">ğŸ§Š <code>amVK</code> wrap ğŸŒ¯ </h3>
<div class="REY_SMALLER_CODE">
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>    <span class="token keyword keyword-while">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        W<span class="token operator">-&gt;</span><span class="token function">dispatch_events_with_OSModalLoops</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        RP_FBs<span class="token operator">-&gt;</span><span class="token function">RPBI_AcquireNextFrameBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        CB<span class="token operator">-&gt;</span><span class="token function">BeginCommandBuffer</span><span class="token punctuation">(</span>amVK_Sync<span class="token double-colon punctuation">::</span>CommandBufferUsageFlags<span class="token double-colon punctuation">::</span>Submit_Once<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// ------------------------- CommandBufferRecording ----------------------------</span>
            
            RP_FBs<span class="token operator">-&gt;</span><span class="token function">CMDBeginRenderPass</span><span class="token punctuation">(</span>CB<span class="token operator">-&gt;</span>vk_CommandBuffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
                RP_FBs<span class="token operator">-&gt;</span><span class="token function">CMDSetViewport_n_Scissor</span><span class="token punctuation">(</span>CB<span class="token operator">-&gt;</span>vk_CommandBuffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
                PLG<span class="token operator">-&gt;</span><span class="token function">CMDBindPipeline</span><span class="token punctuation">(</span>CB<span class="token operator">-&gt;</span>vk_CommandBuffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    VB<span class="token punctuation">.</span><span class="token function">CMDDraw</span><span class="token punctuation">(</span>CB<span class="token operator">-&gt;</span>vk_CommandBuffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
            RP_FBs<span class="token operator">-&gt;</span><span class="token function">CMDEndRenderPass</span><span class="token punctuation">(</span>CB<span class="token operator">-&gt;</span>vk_CommandBuffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
            
        <span class="token comment">// ------------------------- CommandBufferRecording ----------------------------</span>
        CB<span class="token operator">-&gt;</span><span class="token function">EndCommandBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// This was Done Before in CH4 : SwapChain</span>
            amVK_SurfacePresenter  <span class="token operator">*</span>PR <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token function">amVK_SurfacePresenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    PR<span class="token operator">-&gt;</span><span class="token function">bind_Surface</span><span class="token punctuation">(</span>S<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    PR<span class="token operator">-&gt;</span><span class="token function">bind_Device</span><span class="token punctuation">(</span>D<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// This was Done Before in CH4 : SwapChain</span>

        PR<span class="token operator">-&gt;</span><span class="token function">set_CommandBuffer</span><span class="token punctuation">(</span>CB<span class="token operator">-&gt;</span>vk_CommandBuffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        PR<span class="token operator">-&gt;</span><span class="token function">submit_CMDBUF</span><span class="token punctuation">(</span>D<span class="token operator">-&gt;</span>Queues<span class="token punctuation">.</span><span class="token function">GraphicsQ</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        PR<span class="token operator">-&gt;</span><span class="token function">Present</span><span class="token punctuation">(</span>D<span class="token operator">-&gt;</span>Queues<span class="token punctuation">.</span><span class="token function">GraphicsQ</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">vkQueueWaitIdle</span><span class="token punctuation">(</span>D<span class="token operator">-&gt;</span>Queues<span class="token punctuation">.</span><span class="token function">GraphicsQ</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">REY_NoobTimer</span><span class="token double-colon punctuation">::</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// wait 10ms</span>
    <span class="token punctuation">}</span>
</code></pre></div>
<h2 id="1-vkacquirenextimagekhr">1. <code>vkAcquireNextImageKHR()</code> </h2>
<ul>
<li>
<p><a href="https://vkdoc.net/man/vkAcquireNextImageKHR">https://vkdoc.net/man/vkAcquireNextImageKHR</a></p>
<ul>
<li><code>.device</code> ğŸŸª Same as <code>SwapChain</code> ğŸ’â€â™€ï¸</li>
<li><code>.swapchain</code> ğŸŸªğŸ’â€â™€ï¸</li>
<li><code>.timeout</code> â±ï¸âš¡ <code>nanoseconds</code>
<ul>
<li>specifies how long the function waits, in â±ï¸âš¡ <code>nanoseconds</code>, if no image is available.<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-uint64_t">uint64_t</span> ns_per_second <span class="token operator">=</span> <span class="token number">1'000'000'000</span><span class="token punctuation">;</span>
</code></pre></li>
</ul>
</li>
<li><code>.semaphore</code> ğŸ”— <em>SubChapter 2</em></li>
<li><code>.fench</code> ğŸŸ¨ <strong>ChapterZZZ</strong></li>
<li><code>.pImageIndex</code> â†©ï¸ğŸ“¦
<ul>
<li>Well, this function doesn't return an <code>VkImage</code> but an index to it ğŸ’â€â™€ï¸<br>
<br></li>
</ul>
</li>
</ul>
</li>
<li>
<h5>ğŸ“œ REY_DOCS</h5>
<ul>
<li><strong>Acquires the next image from SwapChain</strong></li>
<li>So, now you know which class this function has got to be inside ğŸ¤­<br>
<br></li>
</ul>
</li>
<li>
<h5>â†©ï¸ Return Codes</h5>
<ul>
<li>â†©ï¸ <code>VK_SUBOPTIMAL_KHR</code>
<ul>
<li>if the window has been resized but the OS/platformâ€™s <code>GPU-DriverImplementation</code>/<code>PresentationEngine</code> is still able to scale the presented images to the new size to produce valid surface updates.</li>
<li>It is up to the application to decide whether it prefers to continue using the current swapchain in this state, or to re-create the swapchain to match resized window.</li>
</ul>
</li>
<li>â†©ï¸ <code>VK_ERROR_OUT_OF_DATE_KHR</code>
<ul>
<li>the images in the swapchain no longer matches the surface properties (e.g., the window was resized)</li>
<li>and the presentation engine canâ€™t present them,</li>
<li>so the application needs to create a new swapchain that matches the surface properties.</li>
</ul>
</li>
<li>REFs:- <a href="https://paminerva.github.io/docs/LearnVulkan/01.A-Hello-Window">1. minerva</a><br>
<br></li>
</ul>
</li>
<li>
<h5>ğŸ“œ REY_DOCs</h5>
<ul>
<li>For rendering, we need an image to render on to.</li>
<li>And before we start rendering onto an image, vulkan wants us to call <code>AcquireNextImage()</code> from <code>SwapChain</code></li>
</ul>
</li>
</ul>
<br>
<h3 id="11-can-you-use-1-swapchainimg-ï¸">1.1. Can you use <code>1</code> SwapChainIMG? ğŸ’â€â™€ï¸ </h3>
<ol>
<li>
<p><code>1 IMG Modes</code></p>
<ul>
<li><code>VK_PRESENT_MODE_IMMEDIATE_KHR</code>
<ul>
<li>You will see <strong>Tearing</strong></li>
<li><code>vkAcquireNextImageKHR()</code>:- Returns <code>VK_SUCCESS</code> immediately (no synchronization).</li>
</ul>
</li>
<li><code>VK_PRESENT_MODE_FIFO_RELAXED_KHR</code>
<ul>
<li>If you submit frames slower than the display refresh rate, it might work with 1 image (but risky).</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>Multi IMG Modes</code></p>
<ul>
<li><code>VK_PRESENT_MODE_FIFO_KHR</code> a.k.a <strong>VSync</strong> :- Needs â‰¥2 images (front + back buffer).</li>
<li><code>VK_PRESENT_MODE_MAILBOX_KHR</code> (<strong>Triple buffering</strong>) :- Needs â‰¥3 images.
<ul>
<li>Some games will also flag this as <strong>VSync</strong></li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>GPU Driver</strong>:-</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token function">vkGetPhysicalDeviceSurfaceCapabilitiesKHR</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// caps.minImageCount is often 2+ (driver may ignore your request when creating SwapChain)</span>
</code></pre></li>
</ol>
<h3 id="12-vkqueuewaitidle">1.2. <code>vkQueueWaitIdle()</code> </h3>
<ul>
<li><a href="https://vkdoc.net/man/vkQueueWaitIdle">https://vkdoc.net/man/vkQueueWaitIdle</a></li>
<li>
<h5>ğŸ“œ REY_DOCs</h5>
<ul>
<li>So that we can Acquire the next image without causing errors.</li>
</ul>
</li>
</ul>
<h3 id="13-synchronization">1.3. Synchronization </h3>
<div class="REY_NOSHOW_PDF">
<hr>
<div align="center" style="font-size: 50px; font-family: 'Iosevka Curly'; ">Page-Break</div>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<h3 id="2-command-recording-i">2. Command Recording I </h3>
<ul>
<li>
<h5>Recall Back : ğŸ› ï¸ <code>VkCommandPoolCreateInfo</code></h5>
<ul>
<li>ğŸŒ‹ <a href="https://vkdoc.net/man/VkCommandPoolCreateInfo">https://vkdoc.net/man/VkCommandPoolCreateInfo</a>
<ul>
<li><code>.flags</code> ğŸ³ï¸ <code>VkCommandPoolCreateFlagBits</code>
<ul>
<li><a href="https://vkdoc.net/man/VkCommandPoolCreateFlagBits">https://vkdoc.net/man/VkCommandPoolCreateFlagBits</a> | <a href="https://github.com/ivirtex/vulkan-hover-docs/tree/master/vscode_ext/vulkan_man_md_pages/VkCommandPoolCreateFlagBits.md">ivirtex-github</a>
<ul>
<li>ğŸ³ï¸ <code>TRANSIENT</code></li>
<li>ğŸ³ï¸ <code>RESET_COMMAND_BUFFER</code>:- Lets you call <code>vkBeginCommandBuffer()</code> on same <code>CMDBUF</code> more than once</li>
<li>ğŸ³ï¸ <code>PROTECTED</code></li>
</ul>
</li>
<li>ğŸŸª <code>0</code>:- Can't call <code>vkBeginCommandBuffer()</code> more than once on the same <code>CMDBUF</code><br>
<br></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ol>
<li>
<p><code>VkCommandBufferBeginInfo</code></p>
<ul>
<li>
<p><a href="https://vkdoc.net/man/VkCommandBufferBeginInfo">https://vkdoc.net/man/VkCommandBufferBeginInfo</a></p>
<ul>
<li><code>.sType</code> ğŸŸª <code>VK_STRUCTURE_TYPE_COMMAND_BUFFER_BEGIN_INFO</code></li>
<li><code>.pNext</code> ğŸŸª <code>nullptr</code>
<ul>
<li>ğŸª <code>VkDeviceGroupCommandBufferBeginInfo</code></li>
</ul>
</li>
<li><code>.flags</code> ğŸ”  <code>VkCommandBufferUsageFlagBits</code>
<ul>
<li><a href="https://vkdoc.net/man/VkCommandBufferUsageFlagBits">https://vkdoc.net/man/VkCommandBufferUsageFlagBits</a> | <a href="https://github.com/ivirtex/vulkan-hover-docs/tree/master/vscode_ext/vulkan_man_md_pages/VkCommandBufferUsageFlagBits.md">ivirtex-github</a>
<ul>
<li>ğŸ”  <code>SIMULTANEOUS_USE</code></li>
<li>ğŸ”  <code>RENDER_PASS_CONTINUE</code> [secondary command buffer]</li>
<li>ğŸ”  <code>ONE_TIME_SUBMIT</code>:- usually coupled with ğŸ³ï¸ <code>RESET_COMMAND_BUFFER</code></li>
</ul>
</li>
<li>ğŸŸª <code>0</code>:- Now you can submit this command buffer multiple times<br>
<br></li>
</ul>
</li>
<li><code>.pInheritanceInfo</code> ğŸª [secondary command buffer]<br>
<br></li>
</ul>
</li>
<li>
<h5>ğŸ“œ REY_DOCs</h5>
<ul>
<li>Rendering commands have to be Recorded in a CommandBuffer.</li>
<li>Only then the GPU can work on it ğŸ’â€â™€ï¸.</li>
<li>That's the idea, since decades ago, so yeah, xD.<br>
<br></li>
</ul>
</li>
<li>
<h5>ğŸ“œ REY_DOCs : There are a few ways that you can record <code>CMDBUF</code></h5>
<ol>
<li>
<p>Recording a <code>VkCommandBuffer</code> only Once</p>
</li>
<li>
<p>Recording a <code>VkCommandBuffer</code> more than Once</p>
<ul>
<li>more than Once --&gt; requires, <code>CMDBUF</code> to be reset by <code>vkResetCommandBuffer()</code> before recording again
<ul>
<li>Note:- <code>vkBeginCommandBuffer()</code> also does do an implicit reset</li>
<li>which I don't believe should exist ğŸ’â€â™€ï¸</li>
<li>I always believe <em><strong>"Explicit is better than implicit"</strong></em></li>
</ul>
</li>
<li>REQ:-
<ul>
<li><code>VkCommandPoolCreateInfo.flags</code> ğŸŸª <code>VK_COMMAND_POOL_CREATE_RESET_COMMAND_BUFFER_BIT</code><br>
<br></li>
</ul>
</li>
</ul>
</li>
<li>
<p>Submitting a <code>VkCommandBuffer</code> only Once</p>
<ul>
<li>REQ:-
<ul>
<li><code>VkCommandBufferBeginInfo.flags</code> ğŸŸª <code>VK_COMMAND_BUFFER_USAGE_ONE_TIME_SUBMIT_BIT</code></li>
</ul>
</li>
<li>People usually uses <code>SUBMIT_ONCE</code> with a <code>RESET_CMDBUF</code></li>
</ul>
</li>
<li>
<p>Implementing Synchronization features is so fked up. After Present Image, call <code>vkQueueWaitIdle()</code><br>
<br></p>
</li>
</ol>
</li>
</ul>
</li>
<li>
<p><code>VkRenderPassBeginInfo</code></p>
<ul>
<li>
<p><a href="https://vkdoc.net/man/VkRenderPassBeginInfo">https://vkdoc.net/man/VkRenderPassBeginInfo</a></p>
<ul>
<li><code>.sType</code> ğŸŸª <code>VK_STRUCTURE_TYPE_RENDER_PASS_BEGIN_INFO</code></li>
<li><code>.pNext</code> ğŸª <code>nullptr</code></li>
<li><code>.renderPass</code> ğŸŸªğŸ’â€â™€ï¸</li>
<li><code>.framebuffer</code> ğŸŸªğŸ’â€â™€ï¸</li>
<li><code>.renderArea</code> â¡ï¸ <a href="https://vkdoc.net/man/VkRect2D">https://vkdoc.net/man/VkRect2D</a></li>
<li><code>.pClearValues</code> â¡ï¸ <a href="https://vkdoc.net/man/VkClearValue">https://vkdoc.net/man/VkClearValue</a><br>
<br></li>
</ul>
</li>
<li>
<h5>ğŸ“œ REY_DOCs</h5>
<ul>
<li>After hitting Start on the <code>RecordCommandBuffer()</code></li>
<li>Generally the first thing we gotta do is call <code>BeginRenderPass()</code></li>
<li>So that we can do &amp; transition between the <code>DepthPass</code>, <code>NormalPass</code>, <code>ShadowPass</code>, <code>AlbedoPass</code>, other necessary subpasses</li>
</ul>
</li>
</ul>
</li>
</ol>
<div class="REY_NOSHOW_PDF">
<hr>
<div align="center" style="font-size: 50px; font-family: 'Iosevka Curly'; ">Page-Break</div>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<h3 id="2-command-recording-ii">2. Command Recording II </h3>
<ol start="3">
<li>
<p><code>vkBeginCommandBuffer()</code></p>
<ul>
<li><a href="https://vkdoc.net/man/vkBeginCommandBuffer">https://vkdoc.net/man/vkBeginCommandBuffer</a>
<ul>
<li><code>.commandBuffer</code> ğŸŸª ğŸ’â€â™€ï¸</li>
<li><code>.pBeginInfo</code> ğŸŸª ğŸ’â€â™€ï¸</li>
</ul>
</li>
<li>
<h5><code>&lt;/&gt; TheCode</code></h5>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>amVK_CommandPool <span class="token punctuation">{</span>
  <span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    REY_Array<span class="token operator">&lt;</span>VkCommandBuffer<span class="token operator">&gt;</span>      vk_CommandBuffers<span class="token punctuation">;</span>
    REY_Array<span class="token operator">&lt;</span>VkCommandBuffer<span class="token operator">&gt;</span> <span class="token function">AllocateCommandBuffers</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    VkCommandBufferBeginInfo BI <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token punctuation">.</span>sType <span class="token operator">=</span> VK_STRUCTURE_TYPE_COMMAND_BUFFER_BEGIN_INFO<span class="token punctuation">,</span>
        <span class="token punctuation">.</span>pNext <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token punctuation">.</span>flags <span class="token operator">=</span> VK_COMMAND_BUFFER_USAGE_ONE_TIME_SUBMIT_BIT<span class="token punctuation">,</span>
            <span class="token comment">// People usually uses `SUBMIT_ONCE` with a `RESET_CMDBUF` &amp; records CMDBUF every frame</span>
        <span class="token punctuation">.</span>pInheritanceInfo <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">BeginCommandBuffer</span><span class="token punctuation">(</span><span class="token keyword keyword-uint32_t">uint32_t</span> CMDBUF_Index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        VkResult return_code <span class="token operator">=</span> <span class="token function">vkBeginCommandBuffer</span><span class="token punctuation">(</span>vk_CommandBuffers<span class="token punctuation">[</span>CMDBUF_Index<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>BI<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">amVK_return_code_log</span><span class="token punctuation">(</span> <span class="token string">"vkBeginCommandBuffer()"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></li>
</ul>
</li>
<li>
<p><code>vkCmdBeginRenderPass()</code></p>
<ul>
<li><a href="https://vkdoc.net/man/vkCmdBeginRenderPass">https://vkdoc.net/man/vkCmdBeginRenderPass</a>
<ul>
<li><code>.commandBuffer</code> ğŸŸª ğŸ’â€â™€ï¸</li>
<li><code>.pRenderPassBegin</code> ğŸŸª ğŸ’â€â™€ï¸</li>
<li><code>.contents</code> ğŸ”  <code>VK_SUBPASS_CONTENTS_INLINE</code>
<ul>
<li><a href="https://vkdoc.net/man/VkSubpassContents">https://vkdoc.net/man/VkSubpassContents</a> | <a href="https://github.com/ivirtex/vulkan-hover-docs/tree/master/vscode_ext/vulkan_man_md_pages/VkSubpassContents.md">ivirtex-github</a>
<ul>
<li>ğŸ”  <code>INLINE</code></li>
<li>ğŸ”  <code>SECONDARY_COMMAND_BUFFERS</code> [secondary command buffer]</li>
<li>ğŸ”  <code>INLINE_AND_SECONDARY_COMMAND_BUFFERS_KHR</code> [VK_KHR_maintenance7]</li>
<li>ğŸ”  <code>INLINE_AND_SECONDARY_COMMAND_BUFFERS_EXT</code> [VK_EXT_nested_command_buffer]</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<hr>
<ol start="5">
<li><code>vkCmdSetViewport()</code>
<ul>
<li>
<p><a href="https://vkdoc.net/man/vkCmdSetViewport">https://vkdoc.net/man/vkCmdSetViewport</a></p>
<ul>
<li><code>.commandBuffer</code> ğŸŸª ğŸ’â€â™€ï¸</li>
<li><code>.firstViewport</code> ğŸŸª <code>0</code></li>
<li><code>.viewportCount</code> ğŸŸª <code>1</code></li>
<li><code>.pViewports</code> ğŸŸª <code>VkViewport</code>
<ul>
<li><a href="https://vkdoc.net/man/VkViewport">https://vkdoc.net/man/VkViewport</a><br>
<br></li>
</ul>
</li>
</ul>
</li>
<li>
<h5>ğŸ“œ REY_DOCs</h5>
<ul>
<li>This is smth i consider part of the RenderPass</li>
</ul>
</li>
</ul>
</li>
</ol>
<br>
<ol start="6">
<li><code>vkCmdSetScissor()</code>
<ul>
<li>
<p><a href="https://vkdoc.net/man/vkCmdSetScissor">https://vkdoc.net/man/vkCmdSetScissor</a></p>
<ul>
<li><code>.pScissors</code> ğŸŸª <code>VkRect2D</code>
<ul>
<li><a href="https://vkdoc.net/man/VkRect2D">https://vkdoc.net/man/VkRect2D</a><br>
<br></li>
</ul>
</li>
</ul>
</li>
<li>
<h5>ğŸ“œ REY_DOCs</h5>
<ul>
<li>This is smth i consider part of the RenderPass</li>
</ul>
</li>
</ul>
</li>
</ol>
<hr>
<ol start="7">
<li>
<p><code>vkBindPipeline()</code></p>
<ul>
<li>
<p><a href="https://vkdoc.net/man/vkBindPipeline">https://vkdoc.net/man/vkBindPipeline</a></p>
<ul>
<li><code>.commandBuffer</code> ğŸŸª ğŸ’â€â™€ï¸<br>
<br></li>
</ul>
</li>
<li>
<h5>ğŸ“œ REY_DOCs</h5>
<ul>
<li>Once we bind a pipeline, then we can call <code>Draw()</code></li>
<li>After binding pipeline, is where you specify <code>VertexBuffers</code>
<ul>
<li>More on VertexBuffer ğŸŸ¨ <strong>Chapter16</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>vkCmdDraw()</code></p>
<ul>
<li><a href="https://vkdoc.net/man/vkCmdDraw">https://vkdoc.net/man/vkCmdDraw</a></li>
</ul>
</li>
</ol>
<hr>
<ol start="9">
<li>
<p><code>vkCmdEndRenderPass()</code></p>
<ul>
<li><a href="https://vkdoc.net/man/vkCmdEndRenderPass">https://vkdoc.net/man/vkCmdEndRenderPass</a>
<ul>
<li><code>.commandBuffer</code> ğŸŸª ğŸ’â€â™€ï¸</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>vkEndCommandBuffer()</code></p>
<ul>
<li><a href="https://vkdoc.net/man/vkEndCommandBuffer">https://vkdoc.net/man/vkEndCommandBuffer</a>
<ul>
<li><code>.commandBuffer</code> ğŸŸª ğŸ’â€â™€ï¸</li>
</ul>
</li>
</ul>
</li>
</ol>
<div class="REY_NOSHOW_PDF">
<hr>
<div align="center" style="font-size: 50px; font-family: 'Iosevka Curly'; ">Page-Break</div>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<div align="center">
<h3 id="3-submit-command-buffer--present">3. <code>Submit Command Buffer</code> &amp; Present </h3>
</div>
<ol>
<li>
<p><code>VkSubmitInfo</code></p>
<ul>
<li><a href="https://vkdoc.net/man/VkSubmitInfo">https://vkdoc.net/man/VkSubmitInfo</a>
<ul>
<li><code>.sType</code> ğŸŸª <code>VK_STRUCTURE_TYPE_SUBMIT_INFO</code></li>
<li><code>.pNext</code> ğŸª <code>NULL</code></li>
<li><code>.pWaitSemaphores</code> ğŸ”— <strong><em>Chapter9.1</em></strong>
<ul>
<li>ğŸŸª <code>amVK_SwapChain::AcquireNextImage_SemaPhore</code></li>
</ul>
</li>
<li><code>.pWaitDstStageMask</code> ğŸŸª <code>VK_PIPELINE_STAGE_COLOR_ATTACHMENT_OUTPUT_BIT</code></li>
<li><code>.pCommandBuffers</code>   ğŸŸª ğŸ’â€â™€ï¸</li>
<li><code>.pSignalSemaphores</code>
<ul>
<li>ğŸŸª <code>amVK_SurfacePresenter::RenderingFinished_SemaPhore</code></li>
</ul>
<hr>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>vkQueueSubmit()</code></p>
<ul>
<li><a href="https://vkdoc.net/man/vkQueueSubmit">https://vkdoc.net/man/vkQueueSubmit</a>
<ul>
<li><code>.queue</code> ğŸŸª <code>GraphicsQueue</code></li>
<li><code>.submitCount</code> ğŸŸª <code>1</code></li>
<li><code>.pSubmits</code> ğŸŸª ğŸ’â€â™€ï¸</li>
<li><code>.fench</code> ğŸŸª <code>VK_NULL_HANDLE</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>vkGetDeviceQueue()</code></p>
<ul>
<li><a href="https://vkdoc.net/man/vkGetDeviceQueue">https://vkdoc.net/man/vkGetDeviceQueue</a>
<ul>
<li><code>.device</code></li>
<li><code>.queueFamilyindex</code> ğŸ”— <strong><em>Chapter2.7</em></strong>
<ul>
<li><code>amVK_Device::amVK_1D_QCIs::select_QFAM_Graphics()</code></li>
</ul>
</li>
<li><code>.queueIndex</code> ğŸ”— <strong><em>Chapter2.4</em></strong>
<ul>
<li><code>VkDeviceQueueCreateInfo.queueCount</code></li>
</ul>
</li>
<li><code>.pQueue</code> â†©ï¸ğŸ“¦
<hr>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>VkPresentInfoKHR</code></p>
<ul>
<li><a href="https://vkdoc.net/man/VkPresentInfoKHR">https://vkdoc.net/man/VkPresentInfoKHR</a>
<ul>
<li><code>.sType</code> ğŸŸª <code>VK_STRUCTURE_TYPE_PRESENT_INFO_KHR</code></li>
<li><code>.pNext</code> ğŸª <code>NULL</code>
<ul>
<li>ğŸª Maybe some interesting extensions, idk</li>
</ul>
</li>
<li><code>.pWaitSemaphores</code> ğŸ”— <strong><em>Chapter9.6</em></strong>
<ul>
<li>ğŸŸª <code>amVK_SwapChain::RenderingFinished_SemaPhore</code></li>
</ul>
</li>
<li><code>.pSwapchains</code>   ğŸŸª ğŸ’â€â™€ï¸</li>
<li><code>.pImageIndices</code></li>
<li><code>.pResults</code><br>
<br></li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>vkQueuePresentKHR()</code></p>
<ul>
<li><a href="https://vkdoc.net/man/vkQueuePresentKHR">https://vkdoc.net/man/vkQueuePresentKHR</a>
<ul>
<li><code>.queue</code> ğŸŸª ğŸ’â€â™€ï¸</li>
<li><code>.pPresentInfo</code> ğŸŸª ğŸ’â€â™€ï¸<br>
<br></li>
</ul>
</li>
</ul>
</li>
<li>
<h5>Coloring Window</h5>
</li>
<li>
<h5><code>ğŸ“½ï¸ So far, The result</code> ğŸ”— <code>GITHUB</code></h5>
<ul>
<li><a href="https://github.com/REYNEP/amGHOST/tree/805df077be97835083dd7716c3597b2f0e9347cb/amVK">https://github.com/REYNEP/amGHOST/tree/805df077be97835083dd7716c3597b2f0e9347cb/amVK</a></li>
</ul>
</li>
</ol>
<div class="REY_NOSHOW_PDF">
<hr>
<div align="center" style="font-size: 50px; font-family: 'Iosevka Curly'; ">Page-Break</div>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<h2 id="4-the-renderloop">4. The RenderLoop </h2>
<h4 id="0-amvk-wrap-">0. <code>amVK</code> wrap ğŸŒ¯ </h4>
<div class="REY_SMALLER_CODE">
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>    <span class="token keyword keyword-while">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        W<span class="token operator">-&gt;</span><span class="token function">dispatch_events_with_OSModalLoops</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// No way to disable ModalLoop so far in win32</span>

        RP_FBs<span class="token operator">-&gt;</span><span class="token function">RPBI_AcquireNextFrameBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        CB<span class="token operator">-&gt;</span><span class="token function">BeginCommandBuffer</span><span class="token punctuation">(</span>amVK_Sync<span class="token double-colon punctuation">::</span>CommandBufferUsageFlags<span class="token double-colon punctuation">::</span>Submit_Once<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// ------------------------- CommandBufferRecording ----------------------------</span>
            
            RP_FBs<span class="token operator">-&gt;</span><span class="token function">CMDBeginRenderPass</span><span class="token punctuation">(</span>CB<span class="token operator">-&gt;</span>vk_CommandBuffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
                RP_FBs<span class="token operator">-&gt;</span><span class="token function">CMDSetViewport_n_Scissor</span><span class="token punctuation">(</span>CB<span class="token operator">-&gt;</span>vk_CommandBuffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
                PLG<span class="token operator">-&gt;</span><span class="token function">CMDBindPipeline</span><span class="token punctuation">(</span>CB<span class="token operator">-&gt;</span>vk_CommandBuffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    VB<span class="token punctuation">.</span><span class="token function">CMDDraw</span><span class="token punctuation">(</span>CB<span class="token operator">-&gt;</span>vk_CommandBuffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
            RP_FBs<span class="token operator">-&gt;</span><span class="token function">CMDEndRenderPass</span><span class="token punctuation">(</span>CB<span class="token operator">-&gt;</span>vk_CommandBuffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
            
        <span class="token comment">// ------------------------- CommandBufferRecording ----------------------------</span>
        CB<span class="token operator">-&gt;</span><span class="token function">EndCommandBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// This was Done Before in CH4 : SwapChain</span>
            amVK_SurfacePresenter  <span class="token operator">*</span>PR <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token function">amVK_SurfacePresenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    PR<span class="token operator">-&gt;</span><span class="token function">bind_Surface</span><span class="token punctuation">(</span>S<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    PR<span class="token operator">-&gt;</span><span class="token function">bind_Device</span><span class="token punctuation">(</span>D<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// This was Done Before in CH4 : SwapChain</span>

        PR<span class="token operator">-&gt;</span><span class="token function">set_CommandBuffer</span><span class="token punctuation">(</span>CB<span class="token operator">-&gt;</span>vk_CommandBuffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        PR<span class="token operator">-&gt;</span><span class="token function">submit_CMDBUF</span><span class="token punctuation">(</span>D<span class="token operator">-&gt;</span>Queues<span class="token punctuation">.</span><span class="token function">GraphicsQ</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        PR<span class="token operator">-&gt;</span><span class="token function">Present</span><span class="token punctuation">(</span>D<span class="token operator">-&gt;</span>Queues<span class="token punctuation">.</span><span class="token function">GraphicsQ</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">vkQueueWaitIdle</span><span class="token punctuation">(</span>D<span class="token operator">-&gt;</span>Queues<span class="token punctuation">.</span><span class="token function">GraphicsQ</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">REY_NoobTimer</span><span class="token double-colon punctuation">::</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// wait 10ms</span>
    <span class="token punctuation">}</span>
</code></pre></div>
<ul>
<li>
<h5>ğŸ“œ REY_DOCs</h5>
<ul>
<li>We must respond to OS InputEvents (Mouse/Keyboard) ğŸŸ¨ <strong>Chapter14</strong>
<ul>
<li>Otherwise, the OS might flag the app as Not Responsive</li>
<li>gotta make sure to call the Operating System APIs <code>OS::ProcessEvents()</code></li>
<li>&amp; that is exactly why <code>amGHOST</code> exists ğŸ’â€â™€ï¸</li>
</ul>
</li>
<li>Then do all the rendering shit that I talked about, in this ğŸŸ¨ <strong>Chapter13</strong></li>
<li><strong>win32</strong>
<ul>
<li>if you don't ask <strong>win32</strong> for the Events of the WINDOW, then windows is gonna go insane, it's gonna flag your app as <strong>"Not Reposnding"</strong></li>
</ul>
</li>
<li><strong>ModalLoop</strong> ğŸŸ¨ <strong>Chapter14</strong></li>
</ul>
</li>
</ul>
<hr>
<h2 id="5-synchronization--semaphores">5. Synchronization &amp; SemaPhores </h2>
<h4 id="vksemaphore--chapterzzz"><code>VkSemaphore</code> ğŸŸ¨ <strong>ChapterZZZ</strong> </h4>
<ul>
<li><a href="https://vkdoc.net/man/VkSemaphore">https://vkdoc.net/man/VkSemaphore</a>
<ul>
<li>I wouldn't suggest reading it right now tho ğŸ˜…</li>
<li>But, basically,
<ul>
<li><code>SemaPhore</code> will be used to synchronize the rendering and presentation of images<br>
<br></li>
</ul>
</li>
</ul>
</li>
</ul>
<ol>
<li>
<p><code>VkSemaphoreCreateInfo</code></p>
<ul>
<li><a href="https://vkdoc.net/man/VkSemaphoreCreateInfo">https://vkdoc.net/man/VkSemaphoreCreateInfo</a>
<ul>
<li><code>.sType</code> ğŸŸª <code>VK_STRUCTURE_TYPE_SEMAPHORE_CREATE_INFO</code></li>
<li><code>.pNext</code> ğŸª <code>NULL</code></li>
<li><code>.flags</code> ğŸ³ï¸ <code>0</code><br>
<br></li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>vkCreateSemaphore</code></p>
<ul>
<li><a href="https://vkdoc.net/man/vkCreateSemaphore">https://vkdoc.net/man/vkCreateSemaphore</a>
<ul>
<li><code>.device</code></li>
<li><code>.pCreateInfo</code> ğŸŸª ğŸ’â€â™€ï¸</li>
<li><code>.pAllocator</code> ğŸŸ¨ <strong>ChapterZZZ</strong></li>
<li><code>.pSemaphore</code> â†©ï¸ğŸ“¦</li>
</ul>
</li>
</ul>
</li>
</ol>
<hr>
<h2 id="-extras--next-chapters">ğŸŸª eXtras / neXt chapters </h2>
<ul>
<li>
<h5>6. Handling OS ğŸ–±ï¸ InputEvents ğŸ•¹ï¸ ğŸŸ¨ <strong>Chapter14</strong></h5>
</li>
<li>
<h5>7. Resizing &amp; SwapChain ReCreation ğŸŸ¨ <strong>Chapter15</strong></h5>
</li>
<li>
<h5>8. MultiThreading ğŸŸ¨ <strong>Chapter16</strong></h5>
</li>
</ul>
<br>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<br>
<div class="REY_TITLEV2" align="center">
<br>
<br>
<br>
<br>
<h1 id="chapter-14-handling-os-ï¸-inputevents-ï¸">Chapter 14: Handling OS ğŸ–±ï¸ InputEvents ğŸ•¹ï¸ </h1>
<p>we are gonna take an backwards unfolding approach here</p>
</div>
<div class="">
<h2 id="1--dispatch_events">1. ğŸ“¨ dispatch_events </h2>
<div class="REY_SECTION_TYPE2">
<ul>
<li><code>amGHOST</code> <strong>StackTrace</strong> [Surface ---&gt; Deep]<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>amGHOST<span class="token operator">:</span><span class="token operator">-</span> lets your headache dissappear about OS<span class="token double-colon punctuation">::</span>Stuffs<span class="token operator">/</span>Functions

<span class="token number">1.</span> amGHOST_Window     <span class="token double-colon punctuation">::</span><span class="token function">dispatch_events_with_OSModalLoops</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     ğŸ”—<span class="token punctuation">[</span>github<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token number">2.</span> amGHOST_WindowWIN32<span class="token double-colon punctuation">::</span><span class="token function">dispatch_events_with_OSModalLoops</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     ğŸ”—<span class="token punctuation">[</span>github<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> 
<span class="token number">3.</span> amGHOST_System     <span class="token double-colon punctuation">::</span><span class="token function">dispatch_events_with_OSModalLoops</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     ğŸ”—<span class="token punctuation">[</span>github<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token number">4.</span> amGHOST_SystemWIN32<span class="token double-colon punctuation">::</span><span class="token function">dispatch_events_with_OSModalLoops</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     ğŸ”—<span class="token punctuation">[</span>github<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span>
<span class="token number">5.</span> amGHOST_SystemWIN32<span class="token punctuation">.</span>cpp<span class="token double-colon punctuation">::</span>actual_implementaion                ğŸ”—<span class="token punctuation">[</span>github<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span>
</code></pre><ul>
<li><a href="https://github.com/REYNEP/amGHOST/blob/74cf5c96a9b12db4896f2f4c592cfd72923d6231/amGHOST_Window.hh#L54">1. amGHOST_Window</a></li>
<li><a href="https://github.com/REYNEP/amGHOST/blob/74cf5c96a9b12db4896f2f4c592cfd72923d6231/intern/amGHOST_WindowWIN32.hh#L75">2. amGHOST_WindowWIN32</a></li>
<li><a href="https://github.com/REYNEP/amGHOST/blob/74cf5c96a9b12db4896f2f4c592cfd72923d6231/amGHOST_System.hh#L41">3. amGHOST_System</a></li>
<li><a href="https://github.com/REYNEP/amGHOST/blob/74cf5c96a9b12db4896f2f4c592cfd72923d6231/intern/amGHOST_SystemWIN32.hh#L22">4. amGHOST_SystemWIN32</a></li>
<li><a href="https://github.com/REYNEP/amGHOST/blob/74cf5c96a9b12db4896f2f4c592cfd72923d6231/intern/amGHOST_SystemWIN32.cpp#L199-215">5. amGHOST_SystemWIN32.cpp</a></li>
</ul>
</li>
</ul>
</div>
<br>
<ul>
<li>[<strong>win32</strong>] it has 6 parts
<ul>
<li>The plan is to get this section generalized for all OS &amp; have separate <code>win32</code> / <code>xlib</code> / <code>x11</code> / <code>wayland</code> / <code>macOS</code> sections below</li>
</ul>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token number">1.</span> <span class="token double-colon punctuation">::</span><span class="token function">PeekMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">or</span> <span class="token double-colon punctuation">::</span><span class="token function">GetMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">2.</span> <span class="token double-colon punctuation">::</span><span class="token function">TranslateMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">3.</span> <span class="token double-colon punctuation">::</span><span class="token function">DispatchMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span>   <span class="token function">WndProc</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">4.</span> <span class="token keyword keyword-static">static</span> <span class="token function">WndProc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-&gt;</span> <span class="token double-colon punctuation">::</span><span class="token function">DefWindowProcessor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">5.</span> <span class="token double-colon punctuation">::</span><span class="token function">DefWindowProcessor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> ModalLoop
<span class="token number">6.</span> ModalLoop
</code></pre><ol start="7">
<li><code>::PeekMessage()</code>
<ul>
<li>Kinda like pop &amp; grab the last InputEvent/Message from EventQueue</li>
</ul>
</li>
<li><code>::TranslateMessage()</code>
<ul>
<li>This is needed on some OS, for some specific ops, e.g. KeyBoard events</li>
</ul>
</li>
<li><code>::DispatchMessage()</code> --&gt; <code>WndProc</code>
<ul>
<li>For now, i only know about one kind of Dispatching</li>
</ul>
<ol>
<li>Calls <strong>WindowProcessorFunction</strong> / <code>WndProc</code>
<ul>
<li>must have been registered &amp; tired to a window duriing WindowCreationg</li>
</ul>
</li>
</ol>
</li>
<li><code>static WndProc()</code>
<ul>
<li>InputEvent Processor as per Window</li>
</ul>
</li>
<li><code>::DefWindowProcessor()</code>
<ul>
<li>Operating System's very own little <strong>InputEvent</strong> Processor</li>
<li>Properly Unhandled events must be passed on to this function</li>
<li>Some InputEvents/Messages
<ul>
<li>can't really be Properly Handled, e.g. <code>WM_SYSCOMMAND</code></li>
</ul>
</li>
<li>Get's Into <strong>ModalLoops</strong> during events like WINDOW-RESIZING</li>
</ul>
</li>
<li>Modal Loops
<ul>
<li>See below ğŸ’â€â™€ï¸</li>
</ul>
</li>
</ol>
</li>
</ul>
</div>
<div class="REY_NOSHOW_PDF">
<hr>
<div align="center" style="font-size: 50px; font-family: 'Iosevka Curly'; ">Page-Break</div>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<h2 id="2-win32-ï¸">2. <code>win32</code> ğŸ–¥ï¸ </h2>
<ol>
<li><strong>General Info â„¹ï¸</strong>
<ol>
<li><code>::CreateWindowA()</code>
<ul>
<li>Every <strong>win32 window</strong> needs a <code>WNDCLASSA</code> during <code>::CreateWindowA()</code> ğŸŒ± \</li>
<li>Window gets <strong>bound</strong> to the <strong>calling/creating thread</strong> as <strong>owner thread</strong></li>
</ul>
</li>
<li><code>::Peek/Get/DispatchMessage()</code>
<ul>
<li>does not peek/get/dispatch messages of windows from other threads</li>
</ul>
</li>
<li><code>WNDCLASSA.lpfnWndProc</code> ğŸ”—
<ul>
<li>Binds the window to a <code>static WndProc()</code> âš™ï¸</li>
</ul>
</li>
<li><code>static WndProc()</code>
<ul>
<li><strong>WindowProcessorFunction</strong></li>
<li>This is a function that you need to implement.</li>
<li>It needs to be <code>static</code></li>
<li>âš ï¸ <strong>Beware of Static Initialization Order Fiasco</strong>
<ul>
<li>ğŸ“º <a href="https://www.youtube.com/watch?v=6EOSRKMYCTc">50-min CppCon Talk</a></li>
<li>â³ <a href="https://www.youtube.com/watch?v=rEwijXgC_Kg">12-min explainer</a></li>
<li>ğŸ” <a href="https://www.youtube.com/watch?v=xOJGc72gf8M">Extras: 1</a></li>
<li>ğŸ¥ <a href="https://www.youtube.com/watch?v=IMZMLvIwa-k">Extras: Singleton pitfalls</a></li>
</ul>
</li>
</ul>
</li>
</ol>
</li>
</ol>
<hr>
<h2 id="3-modalloop-">3. ModalLoop ğŸ”„ </h2>
<div class="REY_SECTION_TYPE1">
<ul>
<li>
<h4>I: Core Behavior âš™ï¸</h4>
<ul>
<li>Starts @ <code>MouseButtonDown</code> ğŸ–±ï¸</li>
<li><strong>Peeks</strong>, <strong>Dispatches</strong> (OtherMessages), <strong>Waits</strong> till <code>MouseButtonReleased</code></li>
<li>Ends @ <code>MouseButtonReleased</code> ğŸ–±ï¸</li>
</ul>
</li>
<li>
<h4>II: Triggered During ğŸ¬ events like</h4>
<ul>
<li><strong>ReSizing</strong> â†”ï¸</li>
<li>Minimize/Maximize <strong>animations</strong> (Windows Aero effects) ğŸªŸ</li>
</ul>
</li>
<li>
<h4>III: Halts / Blocks <code>Thread</code></h4>
</li>
</ul>
<hr>
<h3 id="modalloop---win32">ModalLoop ğŸ”„ : <code>win32</code> </h3>
<ul>
<li>
<h4>IV: <code>ModalLoop</code> Under The Hood:-</h4>
<ul>
<li>OS has it's own little <code>dispatch_events()</code> implementation.</li>
<li>It keeps on <strong>peeking</strong> &amp; <strong>dispatching</strong> &amp; <strong>waiting</strong> till <code>MouseButtonReleased</code> is received<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-while">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token double-colon punctuation">::</span><span class="token function">GetMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>          <span class="token comment">// Blocks Thread if no message is there till smth arrives</span>
    <span class="token double-colon punctuation">::</span><span class="token function">TranslateMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token double-colon punctuation">::</span><span class="token function">DispatchMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        calls <span class="token operator">-&gt;</span> <span class="token keyword keyword-static">static</span> <span class="token function">WndProc</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token punctuation">[</span>userProvided<span class="token punctuation">]</span>

    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>msg <span class="token operator">==</span> WM_EXITSIZEMOVE<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword keyword-break">break</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
        <span class="token comment">// Obviously there will be a heck ton other extra processing going on, but you get the idea</span>
<span class="token punctuation">}</span>
</code></pre></li>
<li>It's so darn similar to <strong>MainLoop</strong></li>
</ul>
</li>
<li>
<h4>V:- <code>win32</code> Sample Implementation (odin32):-</h4>
<ol>
<li>â¡ï¸ <a href="https://www.github.com/rousseaux/netlabs.odin32/blob/b903164a4f158fbd671048d294ac642fcca060be/src/user32/win32wbase.cpp#L1581">win32wbase.cpp#L1581</a></li>
<li>â¡ï¸ <a href="https://www.github.com/rousseaux/netlabs.odin32/blob/b903164a4f158fbd671048d294ac642fcca060be/src/user32/win32wbase.cpp#L1922">win32wbase.cpp#L1922</a></li>
<li>â¡ï¸ <a href="https://www.github.com/rousseaux/netlabs.odin32/blob/b903164a4f158fbd671048d294ac642fcca060be/src/user32/win32wbasenonclient.cpp#L1318">win32wbasenonclient.cpp#L1318</a></li>
<li>SC_SIZE: This is the key for Window Resizing event</li>
<li>â¡ï¸ <a href="https://www.github.com/rousseaux/netlabs.odin32/blob/b903164a4f158fbd671048d294ac642fcca060be/src/user32/wintrack.cpp#L441">wintrack.cpp#L441</a></li>
<li>&amp; Here goes the ModalLoop</li>
<li>â¡ï¸ <a href="https://www.github.com/rousseaux/netlabs.odin32/blob/b903164a4f158fbd671048d294ac642fcca060be/src/user32/wintrack.cpp#L564">wintrack.cpp#L564</a></li>
</ol>
</li>
</ul>
<ol>
<li>
<h4><strong>FAQâ“</strong></h4>
<ul>
<li>
<p><strong>Exactly where does the ModalLoop gets Trigger?</strong> ğŸ¬</p>
<ul>
<li>When we pass <code>WM_SYSCOMMAND</code> to <code>::DefWindowProc()</code><br>
<br></li>
</ul>
</li>
<li>
<p><code>WM_LBUTTONDOWN</code> vs <code>WM_NCLBUTTONDOWN</code> ğŸ–±ï¸</p>
<ul>
<li>Pressing mouse on <strong>OS-Window Frame/Corner/Border</strong> â¡ï¸ sends <code>WM_NCLBUTTONDOWN</code> (not <code>WM_LBUTTONDOWN</code>)</li>
<li><strong>NC</strong> = Non-Client ğŸ·ï¸</li>
<li><strong>LBUTTON</strong> = Left Mouse Button</li>
</ul>
</li>
<li>
<p><strong>What if we ignore <code>WM_NCLBUTTONDOWN</code>?</strong> â›”</p>
<ul>
<li><code>WM_SYSCOMMAND</code> wonâ€™t generate!</li>
<li><strong>Must call <code>::DefWindowProc()</code> on <code>WM_NCLBUTTONDOWN</code></strong> âœ…</li>
<li>Passing This one to <code>::DefWindowProc()</code> is exactly how the OS internally keeps track of <strong>MouseButtonDown</strong> ğŸ’â€â™€ï¸<br>
<br></li>
</ul>
</li>
<li>
<p><strong>When does <code>WM_ENTERSIZEMOVE</code> occur?</strong> ğŸ”„</p>
<ul>
<li>When you call <code>::DefWindowProc()</code> with <code>WM_SYSCOMMAND</code></li>
</ul>
</li>
<li>
<p><strong>ModalLoop starts on passing <code>WM_SYSCOMMAND</code> or <code>WM_ENTERSIZEMOVE</code>?</strong> ğŸ¤”</p>
<ul>
<li><em>I believe, it's <code>WM_SYSCOMMAND</code> [gotta test ğŸ§ª]</em><br>
<br></li>
</ul>
</li>
<li>
<p><strong>If, <code>WM_SYSCOMMAND</code> starts the <code>ModalLoop</code>, why'd we even catch <code>WM_ENTERSIZEMOVE</code> in our <code>static WndProc()</code>?</strong></p>
<ul>
<li>Well, it's because, <code>win32</code> wanted us to catch all those events, but still wanted us to call <code>::DefWindowProc()</code> on those<br>
<br></li>
</ul>
</li>
</ul>
</li>
</ol>
<hr>
<h3 id="modalloop---xlib">ModalLoop ğŸ”„ : <code>xlib</code> </h3>
<ul>
<li>
<h4>IV: <code>X11</code> / <code>XCB</code> / <code>Wayland</code> [Linux] &amp; [MacOS]</h4>
<ul>
<li>To be added, really soon! (when i port amGHOST to x11/xcb/wayland/macOS)</li>
</ul>
</li>
</ul>
<hr>
<h3 id="modalloop---summary">ModalLoop ğŸ”„ : <code>summary</code> </h3>
<ul>
<li>
<h4>VI: In Words:-</h4>
<ul>
<li>Operating System enters it's very own <code>Loop</code> when <code>MouseButton</code> is <strong>PressedDown</strong></li>
<li>This is what's called <code>ModalLoop</code></li>
<li>The <code>ModalLoop</code> doesn't <code>return/break</code> till <code>MouseButton</code> is <strong>Released</strong>
<ul>
<li>Yes, that does mean that your <strong>mainThread is blocked and waiting!</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="REY_NOSHOW_PDF">
<hr>
<div align="center" style="font-size: 50px; font-family: 'Iosevka Curly'; ">Page-Break</div>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<h2 id="4-resizing-ï¸">4. Resizing â†”ï¸ </h2>
<ul>
<li>
<h4>Generates <code>WM_SYSCOMMAND</code></h4>
<ul>
<li>right when we pass <code>WM_NCLBUTTONDOWN</code> --&gt; <code>::DefWindowProcessor()</code></li>
</ul>
</li>
<li>
<h4>Triggers ModalLoop</h4>
<ul>
<li>right when we pass <code>WM_SYSCOMMAND</code> --&gt; <code>::DefWindowProcessor()</code></li>
</ul>
</li>
<li>
<h4>Messages sent while inside ModalLoop</h4>
<pre data-role="codeBlock" data-info="rust" class="language-rust rust"><code><span class="token punctuation">[</span><span class="token constant">REPEATED</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token operator">-</span> <span class="token constant">WM_NCMOUSEMOVE</span> <span class="token operator">-</span><span class="token punctuation">-&gt;</span> <span class="token constant">WM_NCHITTEST</span> <span class="token operator">-</span><span class="token punctuation">-&gt;</span> <span class="token constant">WM_SETCURSOR</span>
<span class="token punctuation">[</span><span class="token constant">REY_MODAL_LOOP</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token operator">-</span> <span class="token constant">WM_NCLBUTTONDOWN</span>  <span class="token operator">-</span><span class="token punctuation">-&gt;</span> <span class="token class-name">Entering</span><span class="token punctuation">:</span> <span class="token class-name">DefWindowProc</span>
<span class="token punctuation">[</span><span class="token constant">REY_MODAL_LOOP</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token operator">-</span> <span class="token constant">WM_SYSCOMMAND</span>  <span class="token operator">-</span><span class="token punctuation">-&gt;</span> <span class="token class-name">Entering</span><span class="token punctuation">:</span> <span class="token class-name">DefWindowProc</span>
    <span class="token punctuation">[</span><span class="token class-name">Win32GUI</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token operator">-</span> <span class="token constant">WM_GETMINMAXINFO</span>
    <span class="token punctuation">[</span><span class="token class-name">Win32GUI</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token operator">-</span> <span class="token constant">WM_ENTERSIZEMOVE</span>
    <span class="token punctuation">[</span><span class="token class-name">Win32GUI</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token operator">-</span> <span class="token constant">WM_NCMOUSELEAVE</span>
    <span class="token punctuation">[</span><span class="token class-name">Win32GUI</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token operator">-</span> <span class="token constant">WM_CAPTURECHANGED</span>
    <span class="token punctuation">[</span><span class="token class-name">Win32GUI</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token operator">-</span> <span class="token constant">WM_WINDOWPOSCHANGING</span>
    <span class="token punctuation">[</span><span class="token class-name">Win32GUI</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token operator">-</span> <span class="token constant">WM_GETMINMAXINFO</span>
    <span class="token punctuation">[</span><span class="token class-name">Win32GUI</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token operator">-</span> <span class="token constant">WM_EXITSIZEMOVE</span>
<span class="token punctuation">[</span><span class="token constant">REY_MODAL_LOOP</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token operator">-</span> <span class="token constant">WM_SYSCOMMAND</span>  <span class="token operator">-</span><span class="token punctuation">-&gt;</span> <span class="token class-name">Returned</span><span class="token punctuation">:</span> <span class="token class-name">DefWindowProc</span>
<span class="token punctuation">[</span><span class="token constant">REY_MODAL_LOOP</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token operator">-</span> <span class="token constant">WM_NCLBUTTONDOWN</span>  <span class="token operator">-</span><span class="token punctuation">-&gt;</span> <span class="token class-name">Returned</span><span class="token punctuation">:</span> <span class="token class-name">DefWindowProc</span>
<span class="token punctuation">[</span><span class="token constant">REPEATED</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token operator">-</span> <span class="token constant">WM_NCMOUSEMOVE</span> <span class="token operator">-</span><span class="token punctuation">-&gt;</span> <span class="token constant">WM_NCHITTEST</span> <span class="token operator">-</span><span class="token punctuation">-&gt;</span> <span class="token constant">WM_SETCURSOR</span>
</code></pre></li>
<li>
<h5>ğŸ“œ REY_DOCs</h5>
<ul>
<li>Well, if you wanna do anything inside the Window, while it's being resized, You must do it in a different thread ğŸ’â€â™€ï¸ because of the <strong>MainThread</strong> being stuck in the <code>modalLoop</code><br>
<br></li>
</ul>
</li>
</ul>
<h2 id="5-window-creation--destruction">5. Window Creation &amp; Destruction </h2>
<ul>
<li>TBA: <strong>WM_CREATE</strong>, <strong>WM_DESTROY</strong>, <strong>WM_KEYDOWN</strong>, + Show Code / Redirect to my WndProc implementations</li>
</ul>
<ol>
<li>amGHOST Events &lt;-- (Win32/XCB/X11/Wayland/macOS)
<ol>
<li>EventTypes
<ul>
<li><a href="https://www.youtube.com/watch?v=xnopUoZbMEk&amp;list=PLlrATfBNZ98dC-V-N3m0Go4deliWHPFwT">https://www.youtube.com/watch?v=xnopUoZbMEk&amp;list=PLlrATfBNZ98dC-V-N3m0Go4deliWHPFwT</a></li>
</ul>
</li>
</ol>
</li>
</ol>
<br>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<br>
<h2 id="chapter-15-resizing--swapchain-recreation">Chapter 15: <code>Resizing</code> &amp; SwapChain Recreation </h2>
<h3 id="-vulkan-wrap--1">ğŸŒ‹ <code>Vulkan</code> wrap ğŸŒ¯ </h3>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-void">void</span> <span class="token function">reSize</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     RP_FBs<span class="token operator">-&gt;</span><span class="token function">DestroyFrameBuffers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    SC_IMGs<span class="token operator">-&gt;</span><span class="token function">DestroySwapChainImageViews</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    SC<span class="token operator">-&gt;</span><span class="token function">reCreateSwapChain</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// calls --&gt; sync_SurfCaps();</span>

    SC_IMGs<span class="token operator">-&gt;</span><span class="token function">GetSwapChainImagesKHR</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    SC_IMGs<span class="token operator">-&gt;</span><span class="token function">CreateSwapChainImageViews</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     RP_FBs<span class="token operator">-&gt;</span><span class="token function">CreateFrameBuffers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="-amvk-wrap--2">ğŸ§Š <code>amVK</code> wrap ğŸŒ¯ </h3>
<div class="REY_SMALLER_CODE">
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>amGHOST_SwapChainResizer<span class="token operator">*</span> SC_Resizer <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token function">amGHOST_SwapChainResizer</span><span class="token punctuation">(</span>RP_FBs<span class="token punctuation">,</span> W<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<br>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<br>
<h1 id="chapter-16-multi-threading">Chapter 16: Multi-Threading </h1>
<h3 id="0-amvk-wrap--1">0. <code>amVK</code> wrap ğŸŒ¯ </h3>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token comment">// ------------------------- Render Loop -------------------------</span>
amTHREAD phoenix<span class="token punctuation">;</span>
phoenix<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">&amp;</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">REY_LOG</span><span class="token punctuation">(</span><span class="token string">"Thread started."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-while">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        RP_FBs<span class="token operator">-&gt;</span><span class="token function">RPBI_AcquireNextFrameBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// ------------------------- CommandBufferRecording -------------------------</span>
        <span class="token comment">// -------------------------    Submit &amp; Present    -------------------------</span>
        <span class="token function">vkQueueWaitIdle</span><span class="token punctuation">(</span>D<span class="token operator">-&gt;</span>Queues<span class="token punctuation">.</span><span class="token function">GraphicsQ</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">REY_NoobTimer</span><span class="token double-colon punctuation">::</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// wait 10ms</span>
    <span class="token punctuation">}</span>

    <span class="token function">REY_LOG</span><span class="token punctuation">(</span><span class="token string">"Thread finished."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-while">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    W<span class="token operator">-&gt;</span><span class="token function">dispatch_events_with_OSModalLoops</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// dispatch events</span>
    <span class="token class-name">REY_NoobTimer</span><span class="token double-colon punctuation">::</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">// wait 100ms</span>
<span class="token punctuation">}</span>
<span class="token comment">// ------------------------- Render Loop -------------------------</span>
</code></pre><br>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<h2 id="chapter-17-vertex---vertexbuffer-ï¸">Chapter 17: <code>Vertex</code> ğŸ“ &amp; <code>VertexBuffer</code> ğŸ—„ï¸ </h2>
<h3 id="1-meshvertices">1. <code>Mesh/Vertices</code> </h3>
<ol>
<li>
<p><code>amVK_Vertex</code></p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-struct">struct</span> <span class="token class-name">amVK_Vertex</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-float">float</span> position<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-float">float</span> color<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></li>
<li>
<p><code>Vertex Buffer</code></p>
<hr>
</li>
<li>
<p><code>VkBufferCreateInfo</code></p>
<ul>
<li><a href="https://vkdoc.net/man/VkBufferCreateInfo">https://vkdoc.net/man/VkBufferCreateInfo</a>
<ul>
<li><code>.sType</code> ğŸŸª <code>VK_STRUCTURE_TYPE_BUFFER_CREATE_INFO</code></li>
<li><code>.pNext</code> ğŸª <code>nullptr</code></li>
<li><code>.flags</code> ğŸª <code>VkBufferCreateFlagBits</code>
<ul>
<li><a href="https://vkdoc.net/man/VkBufferCreateFlagBits">https://vkdoc.net/man/VkBufferCreateFlagBits</a> | <a href="https://github.com/ivirtex/vulkan-hover-docs/tree/master/vscode_ext/vulkan_man_md_pages/VkBufferCreateFlagBits.md">ivirtex-github</a>
<ul>
<li><code>SPARSE</code> ğŸŸ¨ <strong>ChapterZZZ</strong></li>
</ul>
</li>
</ul>
</li>
<li><code>.size </code> ğŸŸª <code>sizeof(amVK_Vertex) * N</code></li>
<li><code>.usage</code> ğŸŸª <code>VK_BUFFER_USAGE_VERTEX_BUFFER_BIT</code></li>
<li><code>.sharingMode</code> ğŸŸ§ <strong>ChapterZZZ</strong>
<ul>
<li><code>.queueFamilyIndexCount</code></li>
<li><code>.pQueueFamilyIndex</code><br>
<br></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>vkCreateBuffer()</code></p>
<ul>
<li><a href="https://vkdoc.net/man/vkCreateBuffer">https://vkdoc.net/man/vkCreateBuffer</a>
<ul>
<li><code>.device</code> ğŸŸªğŸ’â€â™€ï¸</li>
<li><code>.pCreateInfo</code> ğŸŸªğŸ’â€â™€ï¸</li>
<li><code>.pAllocator</code></li>
<li><code>.pBuffer</code> â†©ï¸ğŸ“¦<br>
<br></li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>ğŸ“½ï¸ So far, The result</code>:- <a href="./examples/CH11.1.VertexBuffer.hh">CH11.1.VertexBuffer.hh</a></p>
</li>
</ol>
<div class="REY_NOSHOW_PDF">
<hr>
<div align="center" style="font-size: 50px; font-family: 'Iosevka Curly'; ">Page-Break</div>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<div align="center">
<h3 id="2-a-lesson-in-memory">2. <code>A lesson in Memory</code> </h3>
<p><a href="https://www.youtube.com/watch?v=uXgKXfVMeFw">https://www.youtube.com/watch?v=uXgKXfVMeFw</a></p>
<div style="font-size: 0.75em; margin-top: -15px">
<p>(obviously i am not talking about <code>Vulkan</code> / <code>Implementation Programming</code>)<br>
(i am talking about <code>Algorithms/CP/CodeForces/MIT6.046</code>)</p>
</div>
<div class="REY_NOSHOW_PDF">    <br><br>   </div>
</div>
<ol>
<li>
<p><code>vkGetBufferMemoryRequirements()</code></p>
<ul>
<li><a href="https://vkdoc.net/man/vkGetBufferMemoryRequirements">https://vkdoc.net/man/vkGetBufferMemoryRequirements</a>
<ul>
<li><code>.device</code> ğŸŸªğŸ’â€â™€ï¸</li>
<li><code>.buffer</code> ğŸŸªğŸ’â€â™€ï¸</li>
<li><code>.pMemoryRequirements</code> â†©ï¸ğŸ“¦<br>
<br></li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>VkMemoryRequirements</code></p>
<ul>
<li><a href="https://vkdoc.net/man/VkMemoryRequirements">https://vkdoc.net/man/VkMemoryRequirements</a>
<ul>
<li><code>.size</code> â¡ï¸ <code>VkMemoryAllocateInfo.allocationSize</code></li>
<li><code>.alignment</code></li>
<li><code>.memoryTypeBits</code></li>
</ul>
<hr>
</li>
</ul>
</li>
<li>
<p><code>.memoryTypeIndex</code> | <code>VkPhysicalDeviceMemoryProperties</code></p>
<ul>
<li>
<p><a href="https://vkdoc.net/man/VkPhysicalDeviceMemoryProperties">https://vkdoc.net/man/VkPhysicalDeviceMemoryProperties</a></p>
<ul>
<li>ğŸ·ï¸ <code>VkMemoryType memoryTypes[VK_MAX_MEMORY_TYPES];</code></li>
<li>ğŸ·ï¸ <code>VkMemoryHeap memoryHeaps[VK_MAX_MEMORY_HEAPS];</code><br>
<br></li>
</ul>
</li>
<li>
<p><code>VkMemoryType</code></p>
<ul>
<li><a href="https://vkdoc.net/man/VkMemoryType">https://vkdoc.net/man/VkMemoryType</a>
<ul>
<li><code>.propertyFlags</code> ğŸ·ï¸ <code>VkMemoryPropertyFlags</code>
<ul>
<li><a href="https://vkdoc.net/man/VkMemoryPropertyFlags">https://vkdoc.net/man/VkMemoryPropertyFlags</a></li>
<li><code>VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</code></li>
<li><code>VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</code></li>
<li><code>VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</code></li>
<li><code>VK_MEMORY_PROPERTY_HOST_CACHED_BIT</code></li>
<li><code>VK_MEMORY_PROPERTY_LAZILY_ALLOCATED_BIT</code></li>
</ul>
</li>
<li><code>.heapIndex</code> ğŸ·ï¸ <code>uint32_t</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>VkmemoryHeap</code></p>
<ul>
<li><a href="https://vkdoc.net/man/VkMemoryHeap">https://vkdoc.net/man/VkMemoryHeap</a>
<ul>
<li><code>.size</code> ğŸ·ï¸ <code>VkDeviceSize</code></li>
<li><code>.flags</code> ğŸ·ï¸ <code>VkMemoryHeapFlags</code>
<ul>
<li><a href="https://vkdoc.net/man/VkMemoryHeapFlagBits">https://vkdoc.net/man/VkMemoryHeapFlagBits</a> | <a href="https://github.com/ivirtex/vulkan-hover-docs/tree/master/vscode_ext/vulkan_man_md_pages/VkMemoryHeapFlagBits.md">ivirtex-github</a></li>
<li><code>VK_MEMORY_HEAP_DEVICE_LOCAL_BIT</code></li>
<li><code>VK_MEMORY_HEAP_MULTI_INSTANCE_BIT</code></li>
<li><code>VK_MEMORY_HEAP_TILE_MEMORY_BIT_QCOM</code></li>
<li><code>VK_MEMORY_HEAP_MULTI_INSTANCE_BIT_KHR</code><br>
<br></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>vkGetPhysicalDeviceMemoryProperties()</code></p>
<ul>
<li><a href="https://vkdoc.net/man/vkGetPhysicalDeviceMemoryProperties">https://vkdoc.net/man/vkGetPhysicalDeviceMemoryProperties</a>
<ul>
<li><code>.physicalDevice</code> ğŸŸªğŸ’â€â™€ï¸</li>
<li><code>.pFeatures</code> â†©ï¸ğŸ“¦<br>
<br></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>VkPhysicalDeviceFeatures</code></p>
<ul>
<li><a href="https://vkdoc.net/man/VkPhysicalDeviceFeatures">https://vkdoc.net/man/VkPhysicalDeviceFeatures</a>
<ul>
<li>Lots of <code>VkBool32</code>
<ul>
<li><code>Shaders</code></li>
<li><code>Texures</code></li>
<li><code>Sparse</code></li>
</ul>
</li>
</ul>
</li>
<li><code>vkGetPhysicalDeviceFeatures()</code>
<ul>
<li><a href="https://vkdoc.net/man/vkGetPhysicalDeviceFeatures">https://vkdoc.net/man/vkGetPhysicalDeviceFeatures</a>
<ul>
<li><code>.physicalDevice</code> ğŸŸªğŸ’â€â™€ï¸</li>
<li><code>.pMemoryProperties</code> â†©ï¸ğŸ“¦<br>
<br></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>ğŸ“½ï¸ So far, The result</code></p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">amVK_InstanceProps</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span>       <span class="token keyword keyword-void">void</span> <span class="token function">GetPhysicalDeviceFeatures</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">// amVK_1D_GPUs_Features</span>
    <span class="token keyword keyword-static">static</span>       <span class="token keyword keyword-void">void</span> <span class="token function">GetPhysicalDeviceMemoryProperties</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// amVK_1D_GPUs_MEMProps</span>

    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-inline">inline</span> REY_Array<span class="token operator">&lt;</span>VkPhysicalDeviceFeatures<span class="token operator">&gt;</span>                   amVK_1D_GPUs_Features<span class="token punctuation">;</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-inline">inline</span> REY_Array<span class="token operator">&lt;</span>VkPhysicalDeviceMemoryProperties<span class="token operator">&gt;</span>           amVK_1D_GPUs_MEMProps<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
    <span class="token comment">// The other one is copy of this one</span>
<span class="token keyword keyword-void">void</span> amVK_InstanceProps<span class="token double-colon punctuation">::</span><span class="token function">GetPhysicalDeviceFeatures</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    amVK_1D_GPUs_Features<span class="token punctuation">.</span><span class="token function">reserve</span><span class="token punctuation">(</span>amVK_1D_GPUs<span class="token punctuation">.</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">amVK_LOOP_GPUs</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">vkGetPhysicalDeviceFeatures</span><span class="token punctuation">(</span>amVK_1D_GPUs<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>amVK_1D_GPUs_Features<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    called_GetPhysicalDeviceFeatures <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><hr>
</li>
<li>
<p><code>ğŸ‘€ Visualization / [See it] / JSON Printing</code>:- ğŸ”— <code>GITHUB</code> <a href="https://github.com/REYNEP/amGHOST/blob/82311d2bd8586d07836be900448d8b7b9961c0ef/amVK/utils/amVK_InstancePropsExport_nlohmann.cpp#L1-L117">amVK_InstancePropsExport_nlohmann.cpp#L1-L117</a></p>
</li>
<li>
<p><code>REY_CategorizeMemoryHeaps()</code> ğŸ”— <code>GITHUB</code> <a href="https://github.com/REYNEP/amGHOST/blob/82311d2bd8586d07836be900448d8b7b9961c0ef/amVK/utils/amVK_GPUProps.cpp#L56-L262">amVK_GPUProps.cpp#L56-264</a></p>
<ul>
<li>Just Copy-Paste this one yk....</li>
<li>I Believe, the tags that I Created for this one, Vulkan should have given us those by default ğŸ¥´ğŸ’â€â™€ï¸</li>
</ul>
</li>
<li>
<p><code>Refactoring</code> is pretty smooth now, I did it again, in this commit ğŸ¥´ ğŸ”— <code>GITHUB</code></p>
<ul>
<li><a href="https://github.com/REYNEP/amGHOST/tree/82311d2bd8586d07836be900448d8b7b9961c0ef">https://github.com/REYNEP/amGHOST/tree/82311d2bd8586d07836be900448d8b7b9961c0ef</a></li>
</ul>
<hr>
</li>
<li>
<p><code>VkMemoryAllocateInfo</code></p>
<ul>
<li><a href="https://vkdoc.net/man/VkMemoryAllocateInfo">https://vkdoc.net/man/VkMemoryAllocateInfo</a>
<ul>
<li>This documentation page is pretty big ğŸ˜¶â€ğŸŒ«ï¸</li>
<li><code>.sType</code> ğŸŸª <code>VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_INFO</code></li>
<li><code>.pNext</code> ğŸª <code>nullptr</code>
<ul>
<li>ğŸª interesting extensions</li>
</ul>
</li>
<li><code>.allocationSize</code> ğŸŸª <code>VkMemoryRequirements.size</code></li>
<li><code>.memoryTypeIndex</code> ğŸ·ï¸ <code>uint32_t</code><br>
<br></li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>vkAllocateMemory()</code></p>
<ul>
<li><a href="https://vkdoc.net/man/vkAllocateMemory">https://vkdoc.net/man/vkAllocateMemory</a>
<ul>
<li><code>.device</code></li>
<li><code>.pAllocateInfo</code></li>
<li><code>.pAllocator</code></li>
<li><code>.pMemory</code><br>
<br></li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>&lt;/&gt; TheCode</code></p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-void">void</span> amVK_VertexBuffer<span class="token double-colon punctuation">::</span><span class="token function">AllocateMemory</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-if">if</span><span class="token punctuation">(</span>called_GetBufferMemoryRequirements <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span><span class="token function">GetBufferMemoryRequirements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>D<span class="token operator">-&gt;</span>GPU_Props<span class="token operator">-&gt;</span>called_REY_CategorizeMemoryHeaps <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>D<span class="token operator">-&gt;</span>GPU_Props<span class="token operator">-&gt;</span>       <span class="token function">REY_CategorizeMemoryHeaps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
        AI<span class="token punctuation">.</span>allocationSize  <span class="token operator">=</span> vk_MemoryReq<span class="token punctuation">.</span>size<span class="token punctuation">;</span>
        AI<span class="token punctuation">.</span>memoryTypeIndex <span class="token operator">=</span> <span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>D<span class="token operator">-&gt;</span>GPU_Props<span class="token operator">-&gt;</span>MEMTypeID<span class="token punctuation">.</span>CPU_GPU_Synced<span class="token punctuation">;</span>

    VkResult return_code <span class="token operator">=</span> <span class="token function">vkAllocateMemory</span><span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>D<span class="token operator">-&gt;</span>vk_Device<span class="token punctuation">,</span> <span class="token operator">&amp;</span>AI<span class="token punctuation">,</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span><span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>vk_DeviceMemory<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">amVK_return_code_log</span><span class="token punctuation">(</span> <span class="token string">"vkAllocateMemory()"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></li>
<li>
<p><code>vkMapMemory()</code></p>
<ul>
<li><a href="https://vkdoc.net/man/vkMapMemory">https://vkdoc.net/man/vkMapMemory</a></li>
</ul>
</li>
<li>
<p><code>vkUnmapMemory()</code></p>
<ul>
<li><a href="https://vkdoc.net/man/vkUnmapMemory">https://vkdoc.net/man/vkUnmapMemory</a></li>
</ul>
</li>
<li>
<p><code>vkBindBufferMemory()</code></p>
<ul>
<li><a href="https://vkdoc.net/man/vkUnmapMemory">https://vkdoc.net/man/vkUnmapMemory</a><br>
<br></li>
</ul>
</li>
<li>
<p><code>&lt;/&gt; TheCode</code></p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-void">void</span>      amVK_VertexBuffer<span class="token double-colon punctuation">::</span><span class="token function">MapMemory</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    VkResult return_code <span class="token operator">=</span> <span class="token function">vkMapMemory</span><span class="token punctuation">(</span>D<span class="token operator">-&gt;</span>vk_Device<span class="token punctuation">,</span> vk_DeviceMemory<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> vk_MemoryReq<span class="token punctuation">.</span>size<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>vk_MappedMemoryData<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">amVK_return_code_log</span><span class="token punctuation">(</span> <span class="token string">"vkMapMemory()"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-void">void</span>   amVK_VertexBuffer<span class="token double-colon punctuation">::</span><span class="token function">CopyIntoMemory</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">REY_memcpy</span><span class="token punctuation">(</span>vk_MappedMemoryData<span class="token punctuation">,</span> Vertices<span class="token punctuation">.</span>data<span class="token punctuation">,</span> CI<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-void">void</span>      amVK_VertexBuffer<span class="token double-colon punctuation">::</span><span class="token function">UnMapMemory</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">vkUnmapMemory</span><span class="token punctuation">(</span>D<span class="token operator">-&gt;</span>vk_Device<span class="token punctuation">,</span> vk_DeviceMemory<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-void">void</span>      amVK_VertexBuffer<span class="token double-colon punctuation">::</span><span class="token function">BindBufferMemory</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    VkResult return_code <span class="token operator">=</span> <span class="token function">vkBindBufferMemory</span><span class="token punctuation">(</span>D<span class="token operator">-&gt;</span>vk_Device<span class="token punctuation">,</span> vk_Buffer<span class="token punctuation">,</span> vk_DeviceMemory<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">amVK_return_code_log</span><span class="token punctuation">(</span> <span class="token string">"vkBindBufferMemory()"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></li>
</ol>
<br>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<br>
<div class="REY_TITLEV2" align="center">
<h2 id="chapter-18-imagerendering--texturebuffer">Chapter 18: ImageRendering / TextureBuffer </h2>
<br>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<br>
<div class="REY_TITLEV2" align="center">
<h2 id="chapter-19-grabtranslaterotatescale--3d-camera">Chapter 19: Grab/Translate/Rotate/Scale &amp; 3D Camera </h2>
<br>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<br>
<div class="REY_TITLEV2" align="center">
<h1 id="chapter-20-handling-os-ï¸-inputevents-ï¸-ii">Chapter 20: Handling OS ğŸ–±ï¸ InputEvents ğŸ•¹ï¸ II </h1>
<p>// WIP //</p>
<h3 id="6-amvk_surfacepresenter">6. <code>amVK_SurfacePresenter</code> </h3>
<p>Can't have everything scatterred now, everything is getting too much sophisticating.... ğŸ¤” ğŸ¤¦â€â™€ï¸ must <em><strong>Refactor....</strong></em></p>
<p>Major Decision Change</p>
<div style="font-size: 0.75em; margin-top: -20px;">
<p>Right now, <code>amVK_Surface::CTOR</code> creates <code>amVK_SurfacePresenter</code>. &amp; <code>SwapChain, RenderPass, CommandPool</code> are supposed to be created from <code>amVK_SurfacePresenter</code>.</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">amVK_Surface</span>
    amVK_SurfacePresenter <span class="token punctuation">{</span>
        <span class="token function">create_SwapChain_interface</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword keyword-new">new</span> <span class="token function">amVK_SwapChain</span><span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token punctuation">)</span>
                <span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>CI<span class="token punctuation">.</span>surface <span class="token operator">=</span> PR<span class="token operator">-&gt;</span>S<span class="token operator">-&gt;</span>vk_SurfaceKHR<span class="token punctuation">;</span>
                <span class="token comment">// later amVK_SwapChain::CreateSwapChain(void) uses this-&gt;PR-&gt;D-&gt;vk_Device</span>
        <span class="token function">create_RenderPass_interface</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword keyword-new">new</span> <span class="token function">amVK_RenderPass</span><span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token punctuation">)</span>
                <span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>PR <span class="token operator">=</span> PR<span class="token punctuation">;</span>
        <span class="token function">create_CommandPool_interface</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword keyword-new">new</span> <span class="token function">amVK_CommandPool</span><span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token punctuation">)</span>
                <span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>CI<span class="token punctuation">.</span>queueFamilyIndex <span class="token operator">=</span> <span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>PR<span class="token operator">-&gt;</span>D<span class="token operator">-&gt;</span>amVK_1D_QCIs<span class="token punctuation">.</span><span class="token function">ptr_Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span>queueFamilyIndex<span class="token punctuation">;</span>
        <span class="token function">create_FrameBuffers</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword keyword-new">new</span> <span class="token function">amVK_FrameBuffer</span><span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token punctuation">)</span>
                <span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>CI<span class="token punctuation">.</span>renderPass <span class="token operator">=</span> <span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>PR<span class="token operator">-&gt;</span>RP<span class="token operator">-&gt;</span>vk_RenderPass<span class="token punctuation">;</span>
</code></pre><p>Problem #1:- I think this is just a little too much deep to handle....<br>
Problem #2:- if <code>amVK_SwapChain.hh</code> included <code>amVK_SurfacePresenter.hh</code>, then the reverse can't happen. ğŸ’â€â™€ï¸<br>
Thus a lot of 1-liner functions would have to be put inside <code>.cpp</code> even tho i don't want it to.</p>
</div>
</div>
<ol>
<li>
<h4><code>Problem #2:- in Details</code></h4>
<ul>
<li><a href="https://github.com/REYNEP/amGHOST/blob/3be7cfcd154b383cd98783d302468f63fda0618b/amVK/amVK_SurfacePresenter.hh#L37">amVK_SurfacePresenter.hh#L37</a></li>
<li><a href="https://github.com/REYNEP/amGHOST/blob/3be7cfcd154b383cd98783d302468f63fda0618b/amVK/amVK_SwapChain.hh#L48">amVK_SwapChain.hh#L48</a></li>
<li>The Solution
<ul>
<li><code>C1</code>:- Don't include <code>amVK_SurfacePresenter.hh</code> in <code>amVK_SwapChain.hh</code> but rather inside <code>amVK_SwapChain.cpp</code></li>
<li><code>C2</code>:- Don't include <code>amVK_SwapChain.hh</code> in <code>amVK_SurfacePresenter.hh</code> but rather inside <code>amVK_SurfacePresenter.cpp</code></li>
</ul>
</li>
<li><code>Case 1</code>:-
<ul>
<li><code>amVK_SwapChain::CONSTRUCTOR</code></li>
<li><code>sync_SurfCaps()</code></li>
<li>both of these have to go inside <code>amVK_SwapChain.cpp</code></li>
</ul>
</li>
<li><code>Case 2</code>:-
<ul>
<li><code>amVK_SurfacePresenter::sync_SC_SurfCaps()</code></li>
<li><code>amVK_SurfacePresenter::synced_ImageExtent()</code></li>
<li>both of these (&amp; as of my plan right now, heck ton of other 1 liner function) are gonna have to go inside <code>amVK_SurfacePresenter.cpp</code></li>
</ul>
</li>
</ul>
</li>
<li>
<h4>Weeelll</h4>
<ul>
<li>There is one other solution.... That is to change the design.... Which is what I figured is should do.... Not everybody would want to use <code>amVK_SurfacePresenter</code> anyway ğŸ’â€â™€ï¸</li>
<li>2 Ways:-</li>
</ul>
<ol>
<li>Making <code>amVK_SurfacePresenter</code> Optional
<ol>
<li>None of the other amVK_Class is gonna depend on this anymore</li>
<li>amVK_SurfacePresenter serving as like a top level NODETREE system with extra PRESET Functions / soo. (If you are looking from a NodeEditor perspective)</li>
<li>This is like having a BIG BAD NODE, and then connecting everything into it</li>
<li>You can have anything you want in the header</li>
<li>Let's try the other one and see what happens</li>
</ol>
</li>
<li>Making <code>amVK_SurfacePresenter</code> Code part
<ol>
<li>EveryBody is gonna depend on this</li>
<li>They are only gonna keep a pointer to this parent</li>
<li>from this one, they are gonna get everything that they need</li>
<li>even the VkDevice</li>
<li>It's like having all the nodes inside a TOP LEVEL FRAME NODE</li>
<li>Separating Code into .hh &amp; .cpp is kinda crazy..... You basically can't have anything in the header....</li>
<li>i already tried this</li>
</ol>
</li>
</ol>
</li>
</ol>
<br>
<br>
<div align="center">
<div style="font-size: 0.75em;">
<p>Before Commit:- <a href="https://github.com/REYNEP/amGHOST/blob/9cec3e58db123144bd8d88363ccf9a4a7ffc9edc/amVK/amVK_Surface.hh">https://github.com/REYNEP/amGHOST/blob/9cec3e58db123144bd8d88363ccf9a4a7ffc9edc/amVK/amVK_Surface.hh</a><br>
Middle (Discarded) Commit:- <a href="https://github.com/REYNEP/amGHOST/blob/3be7cfcd154b383cd98783d302468f63fda0618b/amVK/amVK_SurfacePresenter.hh">https://github.com/REYNEP/amGHOST/blob/3be7cfcd154b383cd98783d302468f63fda0618b/amVK/amVK_SurfacePresenter.hh</a><br>
Final Commit:- <a href="https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/amVK_SurfacePresenter.hh">https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/amVK_SurfacePresenter.hh</a></p>
</div>
<h4 id="ï¸-so-far-the-result--github"><code>ğŸ“½ï¸ So far, The result</code> [ğŸ”— <code>GITHUB</code>] </h4>
</div>
<table width="100%" border="1">
<tbody><tr>
<td width="50%">
<br>
<ul>
<li>ğŸ—‚ï¸ <code>common</code>
<ul>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/common/amVK.hh">amVK.hh</a></li>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/common/amVK_ColorSpace.hh">amVK_ColorSpace.hh</a></li>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/common/amVK_Enum2String.cpp">amVK_Enum2String.cpp</a></li>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/common/amVK_Enum2String.hh">amVK_Enum2String.hh</a></li>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/common/amVK_GPU.hh">amVK_GPU.hh</a></li>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/common/amVK_RenderPass_Descriptors.hh">amVK_RenderPass_Descriptors.hh</a></li>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/common/amVK_log.cpp">amVK_log.cpp</a></li>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/common/amVK_log.hh">amVK_log.hh</a></li>
</ul>
</li>
<li>ğŸ—‚ï¸ <code>core</code>
<ul>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/core/amVK_Instance.hh">amVK_Instance.hh</a></li>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/core/amVK_Device.hh">amVK_Device.hh</a></li>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/core/amVK_DeviceQCI.hh">amVK_DeviceQCI.hh</a></li>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/core/amVK_Surface.hh">amVK_Surface.hh</a></li>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/core/amVK_SwapChain.hh">amVK_SwapChain.hh</a></li>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/core/amVK_SwapChainIMGs.hh">amVK_SwapChainIMGs.hh</a></li>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/core/amVK_RenderPass.hh">amVK_RenderPass.hh</a></li>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/core/amVK_RenderPassFBs.hh">amVK_RenderPassFBs.hh</a></li>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/core/amVK_CommandPool.hh">amVK_CommandPool.hh</a><br>
<br></li>
</ul>
</li>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/amVK_SurfacePresenter.hh">amVK_SurfacePresenter.hh</a></li>
</ul>
<br>
</td>
<td width="50%">
<ul>
<li>
<p>ğŸ—‚ï¸ <code>extras</code></p>
<ul>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/extras/SCREENSHOT_STUDIO.hh">SCREENSHOT_STUDIO.hh</a></li>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/extras/amVK_CommandBuffer.hh">amVK_CommandBuffer.hh</a></li>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/extras/amVK_FrameBuffer.hh">amVK_FrameBuffer.hh</a></li>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/extras/amVK_Image.hh">amVK_Image.hh</a></li>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/extras/amVK_SemaPhone.hh">amVK_SemaPhone.hh</a></li>
</ul>
</li>
<li>
<p>ğŸ—‚ï¸ <code>guide</code></p>
<ul>
<li><em>(Directory placeholder â€“ add guide files here if any)</em></li>
</ul>
</li>
<li>
<p>ğŸ—‚ï¸ <code>impl</code></p>
<ul>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/impl/amVK_Device.cpp">amVK_Device.cpp</a></li>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/impl/amVK_Instance.cpp">amVK_Instance.cpp</a></li>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/impl/amVK_InstanceProps.cpp">amVK_InstanceProps.cpp</a></li>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/impl/amVK_InstancePropsExport.cpp">amVK_InstancePropsExport.cpp</a></li>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/impl/amVK_InstancePropsExport_nloh...">amVK_InstancePropsExport_nloh...</a></li>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/impl/amVK_Surface.cpp">amVK_Surface.cpp</a></li>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/impl/amVK_SurfacePresenter.cpp">amVK_SurfacePresenter.cpp</a></li>
<li>ğŸ“ <a href="https://github.com/REYNEP/amGHOST/blob/7376cdb5c2c6eee19655dae436e6cf8edd02e1d5/amVK/impl/amVK_SwapChain.cpp">amVK_SwapChain.cpp</a></li>
</ul>
</li>
</ul>
</td>
</tr>
</tbody></table>
<div class="REY_NOSHOW_PDF">
<hr>
<div align="center" style="font-size: 50px; font-family: 'Iosevka Curly'; ">Page-Break</div>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<h3 id="10-windows-wndproc">10. <code>Windows WndProc</code> </h3>
<p><img src="images/image.png" alt="SCREENSHOT1"></p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>WM_PAINT</th>
<th>WM_PRINT</th>
</tr>
</thead>
<tbody>
<tr>
<td>Purpose</td>
<td>Sent by the system to request that a window redraw its client area.</td>
<td>Sent by an application to request that a window draw itself into a specified device context (e.g., for printing or capturing).</td>
</tr>
<tr>
<td>Trigger</td>
<td>Automatically triggered by the system when the client area becomes invalid (e.g., resizing, minimizing).</td>
<td>Explicitly sent by an application using SendMessage to request the window to draw itself.</td>
</tr>
<tr>
<td>Message ID</td>
<td>0x800F</td>
<td>0x0317</td>
</tr>
<tr>
<td>Who Sends It</td>
<td>Sent by the system.</td>
<td>Sent by the application (e.g., using SendMessage(hwnd, WM_PRINT, ...)).</td>
</tr>
<tr>
<td>Default Behavior</td>
<td>Calls the window's WndProc to handle the redraw.</td>
<td>Calls the window's WndProc to handle the drawing into the specified device context.</td>
</tr>
<tr>
<td>Device Context</td>
<td>Uses the device context provided by BeginPaint and EndPaint.</td>
<td>Uses the device context passed in wParam.</td>
</tr>
<tr>
<td>Use Case</td>
<td>Used for normal window redrawing (e.g., after invalidation or resizing).</td>
<td>Used for off-screen rendering, printing, or capturing the window's content.</td>
</tr>
<tr>
<td>System-Generated</td>
<td>Yes, automatically generated when the client area is invalid.</td>
<td>No, must be explicitly sent by the application.</td>
</tr>
<tr>
<td>Parameters</td>
<td>- <code>wParam</code>: Not used. <br> - <code>lParam</code>: Not used.</td>
<td>- <code>wParam</code>: Handle to the device context (HDC). <br> - <code>lParam</code>: Flags specifying what to draw.</td>
</tr>
<tr>
<td>Flags in lParam</td>
<td>Not applicable.</td>
<td>Flags include: <br> - <code>PRF_CHECKVISIBLE</code>: Only draw if the window is visible. <br> - <code>PRF_CHILDREN</code>: Draw child windows. <br> - <code>PRF_CLIENT</code>: Draw the client area. <br> - <code>PRF_NONCLIENT</code>: Draw the non-client area. <br> - <code>PRF_ERASEBKGND</code>: Erase the background.</td>
</tr>
<tr>
<td>Child Windows</td>
<td>Does not automatically draw child windows.</td>
<td>Can optionally draw child windows if the PRF_CHILDREN flag is set.</td>
</tr>
<tr>
<td>Non-Client Area</td>
<td>Does not draw the non-client area (e.g., title bar, borders).</td>
<td>Can optionally draw the non-client area if the PRF_NONCLIENT flag is set.</td>
</tr>
<tr>
<td>Example Usage</td>
<td>Used in the WndProc to handle normal window painting.</td>
<td>Used for capturing the window's content into a bitmap or for printing.</td>
</tr>
</tbody>
</table>
<p><img src="images/image-1.png" alt="Screenshot2"><br>
<img src="images/image-2.png" alt="alt text"><br>
<img src="images/image-3.png" alt="alt text"></p>
<div class="mermaid">classDiagram
    class WM_PAINT {
        &lt;&lt;Message&gt;&gt;
        Purpose: "Request window redraw (client area)"
        Trigger: "System (automatic)"
        MessageID: "0x800F"
        DefaultBehavior: "Calls WndProc"
        DeviceContext: "BeginPaint/EndPaint"
        UseCase: "Normal window redrawing"
        Parameters: "wParam/lParam unused"
        ChildWindows: "No"
        NonClientArea: "No"
    }

    class WM_PRINT {
        &lt;&lt;Message&gt;&gt;
        Purpose: "Request window draw into HDC"
        Trigger: "Application (manual)"
        MessageID: "0x0317"
        DefaultBehavior: "Calls WndProc"
        DeviceContext: "HDC in wParam"
        UseCase: "Printing/capturing"
        Parameters: "wParam: HDC \n lParam: Flags \n (PRF_CHECKVISIBLE, PRF_CHILDREN...)"
        ChildWindows: "Optional (PRF_CHILDREN)"
        NonClientArea: "Optional (PRF_NONCLIENT)"
    }

    WM_PAINT --|&gt; SystemGenerated
    WM_PRINT --|&gt; ApplicationGenerated
</div><br>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<div class="REY_PAGEBREAK"></div>
<div class="REY_NOSHOW_PDF">
<hr>
</div>
<p></p>
</div></div></div>
      </div>
      
      
    
    
    <script type="module">
// TODO: If ZenUML gets integrated into mermaid in the future,
//      we can remove the following lines.


var MERMAID_CONFIG = ({"startOnLoad":false});
if (typeof MERMAID_CONFIG !== 'undefined') {
  MERMAID_CONFIG.startOnLoad = false
  MERMAID_CONFIG.cloneCssStyles = false
  MERMAID_CONFIG.theme = "default"
}

mermaid.initialize(MERMAID_CONFIG || {})
if (typeof(window['Reveal']) !== 'undefined') {
  function mermaidRevealHelper(event) {
    var currentSlide = event.currentSlide
    var diagrams = currentSlide.querySelectorAll('.mermaid')
    for (var i = 0; i < diagrams.length; i++) {
      var diagram = diagrams[i]
      if (!diagram.hasAttribute('data-processed')) {
        mermaid.init(null, diagram, ()=> {
          Reveal.slide(event.indexh, event.indexv)
        })
      }
    }
  }
  Reveal.addEventListener('slidetransitionend', mermaidRevealHelper)
  Reveal.addEventListener('ready', mermaidRevealHelper)
  await mermaid.run({
    nodes: document.querySelectorAll('.mermaid')
  })
} else {
  await mermaid.run({
    nodes: document.querySelectorAll('.mermaid')
  })
}
</script>
    
    
    
  
    
    
    
    
    
    
  
    </body></html>